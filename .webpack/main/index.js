(()=>{var e={2306:e=>{e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r},e.exports.__esModule=!0,e.exports.default=e.exports},8071:e=>{e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},4350:(e,t,n)=>{var r=n(2306);e.exports=function(e){if(Array.isArray(e))return r(e)},e.exports.__esModule=!0,e.exports.default=e.exports},2189:e=>{function t(e,t,n,r,s,i,a){try{var o=e[i](a),l=o.value}catch(e){return void n(e)}o.done?t(l):Promise.resolve(l).then(r,s)}e.exports=function(e){return function(){var n=this,r=arguments;return new Promise((function(s,i){var a=e.apply(n,r);function o(e){t(a,s,i,o,l,"next",e)}function l(e){t(a,s,i,o,l,"throw",e)}o(void 0)}))}},e.exports.__esModule=!0,e.exports.default=e.exports},9922:e=>{e.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},e.exports.__esModule=!0,e.exports.default=e.exports},1842:e=>{function t(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}e.exports=function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e},e.exports.__esModule=!0,e.exports.default=e.exports},8949:e=>{e.exports=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},e.exports.__esModule=!0,e.exports.default=e.exports},7265:e=>{e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},1604:e=>{e.exports=function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,s,i=[],a=!0,o=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(i.push(r.value),!t||i.length!==t);a=!0);}catch(e){o=!0,s=e}finally{try{a||null==n.return||n.return()}finally{if(o)throw s}}return i}},e.exports.__esModule=!0,e.exports.default=e.exports},4895:e=>{e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},8312:e=>{e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},4952:(e,t,n)=>{var r=n(8071),s=n(1604),i=n(321),a=n(4895);e.exports=function(e,t){return r(e)||s(e,t)||i(e,t)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},744:(e,t,n)=>{var r=n(4350),s=n(7265),i=n(321),a=n(8312);e.exports=function(e){return r(e)||s(e)||i(e)||a()},e.exports.__esModule=!0,e.exports.default=e.exports},321:(e,t,n)=>{var r=n(2306);e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},8338:(e,t,n)=>{e.exports=n(8993)},8810:e=>{"use strict";function t(e){return Buffer.from(e,"base64").toString("binary")}e.exports=t.atob=t},9969:(e,t,n)=>{var r=n(1017),s=n(2081).spawn,i=n(8053)("electron-squirrel-startup"),a=n(2298).app,o=function(e,t){var n=r.resolve(r.dirname(process.execPath),"..","Update.exe");i("Spawning `%s` with args `%s`",n,e),s(n,e,{detached:!0}).on("close",t)};e.exports=function(){if("win32"===process.platform){var e=process.argv[1];i("processing squirrel command `%s`",e);var t=r.basename(process.execPath);if("--squirrel-install"===e||"--squirrel-updated"===e)return o(["--createShortcut="+t],a.quit),!0;if("--squirrel-uninstall"===e)return o(["--removeShortcut="+t],a.quit),!0;if("--squirrel-obsolete"===e)return a.quit(),!0}return!1}()},6246:(e,t,n)=>{function r(){var e;try{e=t.storage.debug}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e}(t=e.exports=n(754)).log=function(){return"object"==typeof console&&console.log&&Function.prototype.apply.call(console.log,console,arguments)},t.formatArgs=function(e){var n=this.useColors;if(e[0]=(n?"%c":"")+this.namespace+(n?" %c":" ")+e[0]+(n?"%c ":" ")+"+"+t.humanize(this.diff),n){var r="color: "+this.color;e.splice(1,0,r,"color: inherit");var s=0,i=0;e[0].replace(/%[a-zA-Z%]/g,(function(e){"%%"!==e&&(s++,"%c"===e&&(i=s))})),e.splice(i,0,r)}},t.save=function(e){try{null==e?t.storage.removeItem("debug"):t.storage.debug=e}catch(e){}},t.load=r,t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type)||("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage="undefined"!=typeof chrome&&void 0!==chrome.storage?chrome.storage.local:function(){try{return window.localStorage}catch(e){}}(),t.colors=["lightseagreen","forestgreen","goldenrod","dodgerblue","darkorchid","crimson"],t.formatters.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}},t.enable(r())},754:(e,t,n)=>{var r;function s(e){function n(){if(n.enabled){var e=n,s=+new Date,i=s-(r||s);e.diff=i,e.prev=r,e.curr=s,r=s;for(var a=new Array(arguments.length),o=0;o<a.length;o++)a[o]=arguments[o];a[0]=t.coerce(a[0]),"string"!=typeof a[0]&&a.unshift("%O");var l=0;a[0]=a[0].replace(/%([a-zA-Z%])/g,(function(n,r){if("%%"===n)return n;l++;var s=t.formatters[r];if("function"==typeof s){var i=a[l];n=s.call(e,i),a.splice(l,1),l--}return n})),t.formatArgs.call(e,a);var c=n.log||t.log||console.log.bind(console);c.apply(e,a)}}return n.namespace=e,n.enabled=t.enabled(e),n.useColors=t.useColors(),n.color=function(e){var n,r=0;for(n in e)r=(r<<5)-r+e.charCodeAt(n),r|=0;return t.colors[Math.abs(r)%t.colors.length]}(e),"function"==typeof t.init&&t.init(n),n}(t=e.exports=s.debug=s.default=s).coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){t.enable("")},t.enable=function(e){t.save(e),t.names=[],t.skips=[];for(var n=("string"==typeof e?e:"").split(/[\s,]+/),r=n.length,s=0;s<r;s++)n[s]&&("-"===(e=n[s].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.substr(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){var n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(2626),t.names=[],t.skips=[],t.formatters={}},8053:(e,t,n)=>{"undefined"!=typeof process&&"renderer"===process.type?e.exports=n(6246):e.exports=n(9459)},9459:(e,t,n)=>{var r=n(6224),s=n(3837);(t=e.exports=n(754)).init=function(e){e.inspectOpts={};for(var n=Object.keys(t.inspectOpts),r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(){return a.write(s.format.apply(s,arguments)+"\n")},t.formatArgs=function(e){var n=this.namespace;if(this.useColors){var r=this.color,s="  [3"+r+";1m"+n+" [0m";e[0]=s+e[0].split("\n").join("\n"+s),e.push("[3"+r+"m+"+t.humanize(this.diff)+"[0m")}else e[0]=(new Date).toUTCString()+" "+n+" "+e[0]},t.save=function(e){null==e?delete process.env.DEBUG:process.env.DEBUG=e},t.load=o,t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(i)},t.colors=[6,2,3,4,5,1],t.inspectOpts=Object.keys(process.env).filter((function(e){return/^debug_/i.test(e)})).reduce((function(e,t){var n=t.substring(6).toLowerCase().replace(/_([a-z])/g,(function(e,t){return t.toUpperCase()})),r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{});var i=parseInt(process.env.DEBUG_FD,10)||2;1!==i&&2!==i&&s.deprecate((function(){}),"except for stderr(2) and stdout(1), any other usage of DEBUG_FD is deprecated. Override debug.log if you want to use a different log function (https://git.io/debug_fd)")();var a=1===i?process.stdout:2===i?process.stderr:function(e){var t;switch(process.binding("tty_wrap").guessHandleType(e)){case"TTY":(t=new r.WriteStream(e))._type="tty",t._handle&&t._handle.unref&&t._handle.unref();break;case"FILE":(t=new(n(7147).SyncWriteStream)(e,{autoClose:!1}))._type="fs";break;case"PIPE":case"TCP":(t=new(n(1808).Socket)({fd:e,readable:!1,writable:!0})).readable=!1,t.read=null,t._type="pipe",t._handle&&t._handle.unref&&t._handle.unref();break;default:throw new Error("Implement me. Unknown stream file type!")}return t.fd=e,t._isStdio=!0,t}(i);function o(){return process.env.DEBUG}t.formatters.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((function(e){return e.trim()})).join(" ")},t.formatters.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)},t.enable(o())},2626:e=>{var t=1e3,n=60*t,r=60*n,s=24*r;function i(e,t,n){if(!(e<t))return e<1.5*t?Math.floor(e/t)+" "+n:Math.ceil(e/t)+" "+n+"s"}e.exports=function(e,a){a=a||{};var o,l=typeof e;if("string"===l&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var i=/^((?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|years?|yrs?|y)?$/i.exec(e);if(i){var a=parseFloat(i[1]);switch((i[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*a;case"days":case"day":case"d":return a*s;case"hours":case"hour":case"hrs":case"hr":case"h":return a*r;case"minutes":case"minute":case"mins":case"min":case"m":return a*n;case"seconds":case"second":case"secs":case"sec":case"s":return a*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return a;default:return}}}}(e);if("number"===l&&!1===isNaN(e))return a.long?i(o=e,s,"day")||i(o,r,"hour")||i(o,n,"minute")||i(o,t,"second")||o+" ms":function(e){return e>=s?Math.round(e/s)+"d":e>=r?Math.round(e/r)+"h":e>=n?Math.round(e/n)+"m":e>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},8993:e=>{var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,s="function"==typeof Symbol?Symbol:{},i=s.iterator||"@@iterator",a=s.asyncIterator||"@@asyncIterator",o=s.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var s=t&&t.prototype instanceof h?t:h,i=Object.create(s.prototype),a=new P(r||[]);return i._invoke=function(e,t,n){var r=p;return function(s,i){if(r===f)throw new Error("Generator is already running");if(r===m){if("throw"===s)throw i;return V()}for(n.method=s,n.arg=i;;){var a=n.delegate;if(a){var o=_(a,n);if(o){if(o===g)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===p)throw r=m,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=f;var l=u(e,t,n);if("normal"===l.type){if(r=n.done?m:d,l.arg===g)continue;return{value:l.arg,done:n.done}}"throw"===l.type&&(r=m,n.method="throw",n.arg=l.arg)}}}(e,n,a),i}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var p="suspendedStart",d="suspendedYield",f="executing",m="completed",g={};function h(){}function y(){}function v(){}var w={};l(w,i,(function(){return this}));var S=Object.getPrototypeOf,x=S&&S(S(E([])));x&&x!==n&&r.call(x,i)&&(w=x);var b=v.prototype=h.prototype=Object.create(w);function O(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function C(e,t){function n(s,i,a,o){var l=u(e[s],e,i);if("throw"!==l.type){var c=l.arg,p=c.value;return p&&"object"==typeof p&&r.call(p,"__await")?t.resolve(p.__await).then((function(e){n("next",e,a,o)}),(function(e){n("throw",e,a,o)})):t.resolve(p).then((function(e){c.value=e,a(c)}),(function(e){return n("throw",e,a,o)}))}o(l.arg)}var s;this._invoke=function(e,r){function i(){return new t((function(t,s){n(e,r,t,s)}))}return s=s?s.then(i,i):i()}}function _(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,_(e,n),"throw"===n.method))return g;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return g}var s=u(r,e.iterator,n.arg);if("throw"===s.type)return n.method="throw",n.arg=s.arg,n.delegate=null,g;var i=s.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,g):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function L(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function P(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function E(e){if(e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var s=-1,a=function n(){for(;++s<e.length;)if(r.call(e,s))return n.value=e[s],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}return{next:V}}function V(){return{value:t,done:!0}}return y.prototype=v,l(b,"constructor",v),l(v,"constructor",y),y.displayName=l(v,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,v):(e.__proto__=v,l(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},O(C.prototype),l(C.prototype,a,(function(){return this})),e.AsyncIterator=C,e.async=function(t,n,r,s,i){void 0===i&&(i=Promise);var a=new C(c(t,n,r,s),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},O(b),l(b,o,"Generator"),l(b,i,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=E,P.prototype={constructor:P,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(L),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function s(r,s){return o.type="throw",o.arg=e,n.next=r,s&&(n.method="next",n.arg=t),!!s}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],o=a.completion;if("root"===a.tryLoc)return s("end");if(a.tryLoc<=this.prev){var l=r.call(a,"catchLoc"),c=r.call(a,"finallyLoc");if(l&&c){if(this.prev<a.catchLoc)return s(a.catchLoc,!0);if(this.prev<a.finallyLoc)return s(a.finallyLoc)}else if(l){if(this.prev<a.catchLoc)return s(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return s(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var s=this.tryEntries[n];if(s.tryLoc<=this.prev&&r.call(s,"finallyLoc")&&this.prev<s.finallyLoc){var i=s;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,g):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),L(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var s=r.arg;L(n)}return s}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:E(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),g}},e}(e.exports);try{regeneratorRuntime=t}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},9163:(e,t,n)=>{"use strict";const r=n(2081).exec,s=n(2081).execSync,i=n(9778);let a=process.platform;const o="linux"===a||"android"===a,l="darwin"===a,c="win32"===a,u="freebsd"===a,p="openbsd"===a,d="netbsd"===a,f="sunos"===a;function m(e,t,n){let r="";return e.indexOf("speak")>=0&&(r="Speaker"),e.indexOf("laut")>=0&&(r="Speaker"),e.indexOf("loud")>=0&&(r="Speaker"),e.indexOf("head")>=0&&(r="Headset"),e.indexOf("mic")>=0&&(r="Microphone"),e.indexOf("mikr")>=0&&(r="Microphone"),e.indexOf("phone")>=0&&(r="Phone"),e.indexOf("controll")>=0&&(r="Controller"),e.indexOf("line o")>=0&&(r="Line Out"),e.indexOf("digital o")>=0&&(r="Digital Out"),!r&&n?r="Speaker":!r&&t&&(r="Microphone"),r}function g(e,t){const n={},r=i.getValue(e,"Slot"),s=t.filter((function(e){return e.slotId===r}));return n.id=r,n.name=i.getValue(e,"SDevice"),n.manufacturer=i.getValue(e,"SVendor"),n.revision=i.getValue(e,"Rev"),n.driver=s&&1===s.length&&s[0].driver?s[0].driver:"",n.default=null,n.channel="PCIe",n.type=m(n.name,null,null),n.in=null,n.out=null,n.status="online",n}function h(e,t){const n={},r=((e.coreaudio_device_transport||"")+" "+(e._name||"")).toLowerCase();return n.id=t,n.name=e._name,n.manufacturer=e.coreaudio_device_manufacturer,n.revision=null,n.driver=null,n.default=!!e.coreaudio_default_audio_input_device||!!e.coreaudio_default_audio_output_device,n.channel=function(e){let t="";return e.indexOf("builtin")>=0&&(t="Built-In"),e.indexOf("extern")>=0&&(t="Audio-Jack"),e.indexOf("hdmi")>=0&&(t="HDMI"),e.indexOf("displayport")>=0&&(t="Display-Port"),e.indexOf("usb")>=0&&(t="USB"),e.indexOf("pci")>=0&&(t="PCIe"),t}(r),n.type=m(n.name,!!e.coreaudio_device_input,!!e.coreaudio_device_output),n.in=!!e.coreaudio_device_input,n.out=!!e.coreaudio_device_output,n.status="online",n}function y(e){const t={},n=i.getValue(e,"StatusInfo",":");return t.id=i.getValue(e,"DeviceID",":"),t.name=i.getValue(e,"name",":"),t.manufacturer=i.getValue(e,"manufacturer",":"),t.revision=null,t.driver=null,t.default=null,t.channel=null,t.type=m(t.name,null,null),t.in=null,t.out=null,t.status=n,t}t.audio=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];(o||u||p||d)&&r("lspci -vmm 2>/dev/null",(function(r,a){if(!r){const e=function(){let e=[];try{const t=s("lspci -v 2>/dev/null").toString().split("\n\n");for(let n=0;n<t.length;n++){const r=t[n].split("\n");if(r&&r.length&&r[0].toLowerCase().indexOf("audio")>=0){const t={};t.slotId=r[0].split(" ")[0],t.driver=i.getValue(r,"Kernel driver in use",":",!0)||i.getValue(r,"Kernel modules",":",!0),e.push(t)}}return e}catch(t){return e}}(),t=a.toString().split("\n\n");for(let r=0;r<t.length;r++){const s=t[r].split("\n");if(i.getValue(s,"class",":",!0).toLowerCase().indexOf("audio")>=0){const t=g(s,e);n.push(t)}}}e&&e(n),t(n)})),l&&r("system_profiler SPAudioDataType -json",(function(r,s){if(!r)try{const e=JSON.parse(s.toString());if(e.SPAudioDataType&&e.SPAudioDataType.length&&e.SPAudioDataType[0]&&e.SPAudioDataType[0]._items&&e.SPAudioDataType[0]._items.length)for(let t=0;t<e.SPAudioDataType[0]._items.length;t++){const r=h(e.SPAudioDataType[0]._items[t],t);n.push(r)}}catch(e){i.noop()}e&&e(n),t(n)})),c&&i.powerShell("Get-WmiObject Win32_SoundDevice | select DeviceID,StatusInfo,Name,Manufacturer | fl").then(((r,s)=>{if(!s){const e=r.toString().split(/\n\s*\n/);for(let t=0;t<e.length;t++)i.getValue(e[t].split("\n"),"name",":")&&n.push(y(e[t].split("\n")))}e&&e(n),t(n)})),f&&t(null)}))}))}},9467:(e,t,n)=>{"use strict";const r=n(2081).exec,s=n(7147),i=n(9778);let a=process.platform;const o="linux"===a||"android"===a,l="darwin"===a,c="win32"===a,u="freebsd"===a,p="openbsd"===a,d="netbsd"===a,f="sunos"===a;function m(e,t,n){const r={};let s=i.getValue(e,"BatteryStatus",":").trim();if(s>=0){const a=s?parseInt(s):0;r.status=a,r.hasBattery=!0,r.maxCapacity=n||parseInt(i.getValue(e,"DesignCapacity",":")||0),r.designedCapacity=parseInt(i.getValue(e,"DesignCapacity",":")||t),r.voltage=parseInt(i.getValue(e,"DesignVoltage",":")||0)/1e3,r.capacityUnit="mWh",r.percent=parseInt(i.getValue(e,"EstimatedChargeRemaining",":")||0),r.currentCapacity=parseInt(r.maxCapacity*r.percent/100),r.isCharging=a>=6&&a<=9||11===a||!(3===a)&&!(1===a)&&r.percent<100,r.acConnected=r.isCharging||2===a,r.model=i.getValue(e,"DeviceID",":")}else r.status=-1;return r}e.exports=function(e){return new Promise((t=>{process.nextTick((()=>{let n={hasBattery:!1,cycleCount:0,isCharging:!1,designedCapacity:0,maxCapacity:0,currentCapacity:0,voltage:0,capacityUnit:"",percent:0,timeRemaining:null,acConnected:!0,type:"",model:"",manufacturer:"",serial:""};if(o){let r="";s.existsSync("/sys/class/power_supply/BAT1/uevent")?r="/sys/class/power_supply/BAT1/":s.existsSync("/sys/class/power_supply/BAT0/uevent")&&(r="/sys/class/power_supply/BAT0/");let a=!1,o="";if(s.existsSync("/sys/class/power_supply/AC/online")?o="/sys/class/power_supply/AC/online":s.existsSync("/sys/class/power_supply/AC0/online")&&(o="/sys/class/power_supply/AC0/online"),o){const e=s.readFileSync(o);a="1"===e.toString().trim()}r?s.readFile(r+"uevent",(function(r,s){if(r)e&&e(n),t(n);else{let r=s.toString().split("\n");n.isCharging="charging"===i.getValue(r,"POWER_SUPPLY_STATUS","=").toLowerCase(),n.acConnected=a||n.isCharging,n.voltage=parseInt("0"+i.getValue(r,"POWER_SUPPLY_VOLTAGE_NOW","="),10)/1e6,n.capacityUnit=n.voltage?"mWh":"mAh",n.cycleCount=parseInt("0"+i.getValue(r,"POWER_SUPPLY_CYCLE_COUNT","="),10),n.maxCapacity=Math.round(parseInt("0"+i.getValue(r,"POWER_SUPPLY_CHARGE_FULL","=",!0,!0),10)/1e3*(n.voltage||1));const o=parseInt("0"+i.getValue(r,"POWER_SUPPLY_VOLTAGE_MIN_DESIGN","="),10)/1e6;n.designedCapacity=Math.round(parseInt("0"+i.getValue(r,"POWER_SUPPLY_CHARGE_FULL_DESIGN","=",!0,!0),10)/1e3*(o||n.voltage||1)),n.currentCapacity=Math.round(parseInt("0"+i.getValue(r,"POWER_SUPPLY_CHARGE_NOW","="),10)/1e3*(n.voltage||1)),n.maxCapacity||(n.maxCapacity=parseInt("0"+i.getValue(r,"POWER_SUPPLY_ENERGY_FULL","=",!0,!0),10)/1e3,n.designedCapacity=parseInt("0"+i.getValue(r,"POWER_SUPPLY_ENERGY_FULL_DESIGN","=",!0,!0),10)/1e3|n.maxCapacity,n.currentCapacity=parseInt("0"+i.getValue(r,"POWER_SUPPLY_ENERGY_NOW","="),10)/1e3);const l=i.getValue(r,"POWER_SUPPLY_CAPACITY","="),c=parseInt("0"+i.getValue(r,"POWER_SUPPLY_ENERGY_NOW","="),10),u=parseInt("0"+i.getValue(r,"POWER_SUPPLY_POWER_NOW","="),10),p=parseInt("0"+i.getValue(r,"POWER_SUPPLY_CURRENT_NOW","="),10);n.percent=parseInt("0"+l,10),n.maxCapacity&&n.currentCapacity&&(n.hasBattery=!0,l||(n.percent=100*n.currentCapacity/n.maxCapacity)),n.isCharging&&(n.hasBattery=!0),c&&u?n.timeRemaining=Math.floor(c/u*60):p&&n.currentCapacity&&(n.timeRemaining=Math.floor(n.currentCapacity/p*60)),n.type=i.getValue(r,"POWER_SUPPLY_TECHNOLOGY","="),n.model=i.getValue(r,"POWER_SUPPLY_MODEL_NAME","="),n.manufacturer=i.getValue(r,"POWER_SUPPLY_MANUFACTURER","="),n.serial=i.getValue(r,"POWER_SUPPLY_SERIAL_NUMBER","="),e&&e(n),t(n)}})):(e&&e(n),t(n))}if((u||p||d)&&r("sysctl -i hw.acpi.battery hw.acpi.acline",(function(r,s){let a=s.toString().split("\n");const o=parseInt("0"+i.getValue(a,"hw.acpi.battery.units"),10),l=parseInt("0"+i.getValue(a,"hw.acpi.battery.life"),10);n.hasBattery=o>0,n.cycleCount=null,n.isCharging="1"!==i.getValue(a,"hw.acpi.acline"),n.acConnected=n.isCharging,n.maxCapacity=null,n.currentCapacity=null,n.capacityUnit="unknown",n.percent=o?l:null,e&&e(n),t(n)})),l&&r('ioreg -n AppleSmartBattery -r | egrep "CycleCount|IsCharging|DesignCapacity|MaxCapacity|CurrentCapacity|BatterySerialNumber|TimeRemaining|Voltage"; pmset -g batt | grep %',(function(r,s){if(s){let e=s.toString().replace(/ +/g,"").replace(/"+/g,"").replace(/-/g,"").split("\n");n.cycleCount=parseInt("0"+i.getValue(e,"cyclecount","="),10),n.voltage=parseInt("0"+i.getValue(e,"voltage","="),10)/1e3,n.capacityUnit=n.voltage?"mWh":"mAh",n.maxCapacity=Math.round(parseInt("0"+i.getValue(e,"applerawmaxcapacity","="),10)*(n.voltage||1)),n.currentCapacity=Math.round(parseInt("0"+i.getValue(e,"applerawcurrentcapacity","="),10)*(n.voltage||1)),n.designedCapacity=Math.round(parseInt("0"+i.getValue(e,"DesignCapacity","="),10)*(n.voltage||1)),n.manufacturer="Apple",n.serial=i.getValue(e,"BatterySerialNumber","=");let t=null,r=i.getValue(e,"internal","Battery").split(";");if(r&&r[0]){let e=r[0].split("\t");e&&e[1]&&(t=parseFloat(e[1].trim().replace(/%/g,"")))}r&&r[1]?(n.isCharging="charging"===r[1].trim(),n.acConnected="discharging"!==r[1].trim()):(n.isCharging="yes"===i.getValue(e,"ischarging","=").toLowerCase(),n.acConnected=n.isCharging),n.maxCapacity&&n.currentCapacity&&(n.hasBattery=!0,n.type="Li-ion",n.percent=null!==t?t:Math.round(100*n.currentCapacity/n.maxCapacity),n.isCharging||(n.timeRemaining=parseInt("0"+i.getValue(e,"TimeRemaining","="),10)))}e&&e(n),t(n)})),f&&(e&&e(n),t(n)),c)try{const r=[];r.push(i.powerShell("Get-WmiObject Win32_Battery | select BatteryStatus, DesignCapacity, DesignVoltage, EstimatedChargeRemaining, DeviceID | fl")),r.push(i.powerShell("(Get-WmiObject -Class BatteryStaticData -Namespace ROOT/WMI).DesignedCapacity")),r.push(i.powerShell("(Get-WmiObject -Class BatteryFullChargedCapacity -Namespace ROOT/WMI).FullChargedCapacity")),i.promiseAll(r).then((r=>{if(r){let e=r.results[0].split(/\n\s*\n/),t=[];const s=e=>/\S/.test(e);for(let n=0;n<e.length;n++)!s(e[n])||t.length&&s(e[n-1])||t.push([]),s(e[n])&&t[t.length-1].push(e[n]);let a=r.results[1].split("\r\n").filter((e=>e)),o=r.results[2].split("\r\n").filter((e=>e));if(t.length){let e=!1,r=[];for(let s=0;s<t.length;s++){const l=m(t[s][0].split("\r\n"),a&&a.length>=s+1&&a[s]?i.toInt(a[s]):0,o&&o.length>=s+1&&o[s]?i.toInt(o[s]):0);!e&&l.status>0&&10!==l.status?(n.hasBattery=l.hasBattery,n.maxCapacity=l.maxCapacity,n.designedCapacity=l.designedCapacity,n.voltage=l.voltage,n.capacityUnit=l.capacityUnit,n.percent=l.percent,n.currentCapacity=l.currentCapacity,n.isCharging=l.isCharging,n.acConnected=l.acConnected,n.model=l.model,e=!0):-1!==l.status&&r.push({hasBattery:l.hasBattery,maxCapacity:l.maxCapacity,designedCapacity:l.designedCapacity,voltage:l.voltage,capacityUnit:l.capacityUnit,percent:l.percent,currentCapacity:l.currentCapacity,isCharging:l.isCharging,timeRemaining:null,acConnected:l.acConnected,model:l.model,type:"",manufacturer:"",serial:""})}!e&&r.length&&(n=r[0],r.shift()),r.length&&(n.additionalBatteries=r)}}e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}}))}))}},5591:(e,t,n)=>{"use strict";const r=n(2081).exec,s=n(2081).execSync,i=n(1017),a=n(9778),o=n(7147);let l=process.platform;const c="linux"===l||"android"===l,u="darwin"===l,p="win32"===l,d="freebsd"===l,f="openbsd"===l,m="netbsd"===l,g="sunos"===l;function h(e){let t="";return e.indexOf("keyboard")>=0&&(t="Keyboard"),e.indexOf("mouse")>=0&&(t="Mouse"),e.indexOf("speaker")>=0&&(t="Speaker"),e.indexOf("headset")>=0&&(t="Headset"),e.indexOf("phone")>=0&&(t="Phone"),t}function y(e,t,n){const r={device:null};return r.name=a.getValue(e,"name","="),r.manufacturer=null,r.macDevice=t,r.macHost=n,r.batteryPercent=null,r.type=h(r.name.toLowerCase()),r.connected=!1,r}function v(e,t){const n={},r=((e.device_minorClassOfDevice_string||e.device_majorClassOfDevice_string||"")+(e.device_name||"")).toLowerCase();return n.device=e.device_services||"",n.name=e.device_name||"",n.manufacturer=e.device_manufacturer||"",n.macDevice=(e.device_addr||"").toLowerCase().replace(/-/g,":"),n.macHost=t,n.batteryPercent=e.device_batteryPercent||null,n.type=h(r),n.connected="attrib_Yes"===e.device_isconnected||!1,n}function w(e){const t={device:null};return t.name=a.getValue(e,"name",":"),t.manufacturer=a.getValue(e,"manufacturer",":"),t.macDevice=null,t.macHost=null,t.batteryPercent=null,t.type=h(t.name.toLowerCase()),t.connected=null,t}t.bluetoothDevices=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];if(c){const r=a.getFilesInPath("/var/lib/bluetooth/");for(let e=0;e<r.length;e++){const t=i.basename(r[e]),s=r[e].split("/"),a=s.length>=6?s[s.length-2]:null,l=s.length>=7?s[s.length-3]:null;if("info"===t){const t=o.readFileSync(r[e],{encoding:"utf8"}).split("\n");n.push(y(t,a,l))}}try{const e=s("hcitool con").toString().toLowerCase();for(let t=0;t<n.length;t++)n[t].macDevice&&n[t].macDevice.length>10&&e.indexOf(n[t].macDevice.toLowerCase())>=0&&(n[t].connected=!0)}catch(e){a.noop()}e&&e(n),t(n)}u&&r("system_profiler SPBluetoothDataType -json",(function(r,s){if(!r)try{const e=JSON.parse(s.toString());if(e.SPBluetoothDataType&&e.SPBluetoothDataType.length&&e.SPBluetoothDataType[0]&&e.SPBluetoothDataType[0].device_title&&e.SPBluetoothDataType[0].device_title.length){let t=null;e.SPBluetoothDataType[0].local_device_title&&e.SPBluetoothDataType[0].local_device_title.general_address&&(t=e.SPBluetoothDataType[0].local_device_title.general_address.toLowerCase().replace(/-/g,":"));for(let r=0;r<e.SPBluetoothDataType[0].device_title.length;r++){const s=e.SPBluetoothDataType[0].device_title[r],i=Object.keys(s);if(i&&1===i.length){const e=s[i[0]];e.device_name=i[0];const r=v(e,t);n.push(r)}}}}catch(e){a.noop()}e&&e(n),t(n)})),p&&a.powerShell("Get-WmiObject Win32_PNPEntity | select PNPClass, Name, Manufacturer | fl").then(((r,s)=>{if(!s){const e=r.toString().split(/\n\s*\n/);for(let t=0;t<e.length;t++)"Bluetooth"===a.getValue(e[t].split("\n"),"PNPClass",":")&&n.push(w(e[t].split("\n")))}e&&e(n),t(n)})),(d||m||f||g)&&t(null)}))}))}},9177:(e,t,n)=>{"use strict";const r=n(2037),s=n(2081).exec,i=n(2081).execSync,a=n(7147),o=n(9778);let l=process.platform;const c="linux"===l||"android"===l,u="darwin"===l,p="win32"===l,d="freebsd"===l,f="openbsd"===l,m="netbsd"===l,g="sunos"===l;let h=0,y={user:0,nice:0,system:0,idle:0,irq:0,load:0,tick:0,ms:0,currentLoad:0,currentLoadUser:0,currentLoadSystem:0,currentLoadNice:0,currentLoadIdle:0,currentLoadIrq:0,rawCurrentLoad:0,rawCurrentLoadUser:0,rawCurrentLoadSystem:0,rawCurrentLoadNice:0,rawCurrentLoadIdle:0,rawCurrentLoadIrq:0},v=[],w=0;const S={8346:"1.8",8347:"1.9",8350:"2.0",8354:"2.2","8356|SE":"2.4",8356:"2.3",8360:"2.5",2372:"2.1",2373:"2.1",2374:"2.2",2376:"2.3",2377:"2.3",2378:"2.4",2379:"2.4",2380:"2.5",2381:"2.5",2382:"2.6",2384:"2.7",2386:"2.8",2387:"2.8",2389:"2.9",2393:"3.1",8374:"2.2",8376:"2.3",8378:"2.4",8379:"2.4",8380:"2.5",8381:"2.5",8382:"2.6",8384:"2.7",8386:"2.8",8387:"2.8",8389:"2.9",8393:"3.1","2419EE":"1.8","2423HE":"2.0","2425HE":"2.1",2427:"2.2",2431:"2.4",2435:"2.6","2439SE":"2.8","8425HE":"2.1",8431:"2.4",8435:"2.6","8439SE":"2.8",4122:"2.2",4130:"2.6","4162EE":"1.7","4164EE":"1.8","4170HE":"2.1","4174HE":"2.3","4176HE":"2.4",4180:"2.6",4184:"2.8","6124HE":"1.8","6128HE":"2.0","6132HE":"2.2",6128:"2.0",6134:"2.3",6136:"2.4",6140:"2.6","6164HE":"1.7","6166HE":"1.8",6168:"1.9",6172:"2.1",6174:"2.2",6176:"2.3","6176SE":"2.3","6180SE":"2.5",3250:"2.5",3260:"2.7",3280:"2.4",4226:"2.7",4228:"2.8",4230:"2.9",4234:"3.1",4238:"3.3",4240:"3.4",4256:"1.6",4274:"2.5",4276:"2.6",4280:"2.8",4284:"3.0",6204:"3.3",6212:"2.6",6220:"3.0",6234:"2.4",6238:"2.6","6262HE":"1.6",6272:"2.1",6274:"2.2",6276:"2.3",6278:"2.4","6282SE":"2.6","6284SE":"2.7",6308:"3.5",6320:"2.8",6328:"3.2","6338P":"2.3",6344:"2.6",6348:"2.8",6366:"1.8","6370P":"2.0",6376:"2.3",6378:"2.4",6380:"2.5",6386:"2.8","FX|4100":"3.6","FX|4120":"3.9","FX|4130":"3.8","FX|4150":"3.8","FX|4170":"4.2","FX|6100":"3.3","FX|6120":"3.6","FX|6130":"3.6","FX|6200":"3.8","FX|8100":"2.8","FX|8120":"3.1","FX|8140":"3.2","FX|8150":"3.6","FX|8170":"3.9","FX|4300":"3.8","FX|4320":"4.0","FX|4350":"4.2","FX|6300":"3.5","FX|6350":"3.9","FX|8300":"3.3","FX|8310":"3.4","FX|8320":"3.5","FX|8350":"4.0","FX|8370":"4.0","FX|9370":"4.4","FX|9590":"4.7","FX|8320E":"3.2","FX|8370E":"3.3",1200:"3.1","Pro 1200":"3.1","1300X":"3.5","Pro 1300":"3.5",1400:"3.2","1500X":"3.5","Pro 1500":"3.5",1600:"3.2","1600X":"3.6","Pro 1600":"3.2",1700:"3.0","Pro 1700":"3.0","1700X":"3.4","Pro 1700X":"3.4","1800X":"3.6","1900X":"3.8",1920:"3.2","1920X":"3.5","1950X":"3.4","200GE":"3.2","Pro 200GE":"3.2","220GE":"3.4","240GE":"3.5","3000G":"3.5","300GE":"3.4","3050GE":"3.4","2200G":"3.5","Pro 2200G":"3.5","2200GE":"3.2","Pro 2200GE":"3.2","2400G":"3.6","Pro 2400G":"3.6","2400GE":"3.2","Pro 2400GE":"3.2","Pro 200U":"2.3","300U":"2.4","2200U":"2.5","3200U":"2.6","2300U":"2.0","Pro 2300U":"2.0","2500U":"2.0","Pro 2500U":"2.2","2600H":"3.2","2700U":"2.0","Pro 2700U":"2.2","2800H":"3.3",7351:"2.4","7351P":"2.4",7401:"2.0","7401P":"2.0","7551P":"2.0",7551:"2.0",7251:"2.1",7261:"2.5",7281:"2.1",7301:"2.2",7371:"3.1",7451:"2.3",7501:"2.0",7571:"2.2",7601:"2.2",V1500B:"2.2",V1780B:"3.35",V1202B:"2.3",V1404I:"2.0",V1605B:"2.0",V1756B:"3.25",V1807B:"3.35",3101:"2.1",3151:"2.7",3201:"1.5",3251:"2.5",3255:"2.5",3301:"2.0",3351:"1.9",3401:"1.85",3451:"2.15","1200|AF":"3.1","2300X":"3.5","2500X":"3.6",2600:"3.4","2600E":"3.1","1600|AF":"3.2","2600X":"3.6",2700:"3.2","2700E":"2.8","Pro 2700":"3.2","2700X":"3.7","Pro 2700X":"3.6","2920X":"3.5","2950X":"3.5","2970WX":"3.0","2990WX":"3.0","Pro 300GE":"3.4","Pro 3125GE":"3.4","3150G":"3.5","Pro 3150G":"3.5","3150GE":"3.3","Pro 3150GE":"3.3","3200G":"3.6","Pro 3200G":"3.6","3200GE":"3.3","Pro 3200GE":"3.3","3350G":"3.6","Pro 3350G":"3.6","3350GE":"3.3","Pro 3350GE":"3.3","3400G":"3.7","Pro 3400G":"3.7","3400GE":"3.3","Pro 3400GE":"3.3","3300U":"2.1","PRO 3300U":"2.1","3450U":"2.1","3500U":"2.1","PRO 3500U":"2.1","3500C":"2.1","3550H":"2.1","3580U":"2.1","3700U":"2.3","PRO 3700U":"2.3","3700C":"2.3","3750H":"2.3","3780U":"2.3",3100:"3.6","3300X":"3.8",3500:"3.6","3500X":"3.6",3600:"3.6","Pro 3600":"3.6","3600X":"3.8","3600XT":"3.8","Pro 3700":"3.6","3700X":"3.6","3800X":"3.9","3800XT":"3.9",3900:"3.1","Pro 3900":"3.1","3900X":"3.8","3900XT":"3.8","3950X":"3.5","3960X":"3.8","3970X":"3.7","3990X":"2.9","3945WX":"4.0","3955WX":"3.9","3975WX":"3.5","3995WX":"2.7","4300GE":"3.5","Pro 4300GE":"3.5","4300G":"3.8","Pro 4300G":"3.8","4600GE":"3.3","Pro 4650GE":"3.3","4600G":"3.7","Pro 4650G":"3.7","4700GE":"3.1","Pro 4750GE":"3.1","4700G":"3.6","Pro 4750G":"3.6","4300U":"2.7","4450U":"2.5","Pro 4450U":"2.5","4500U":"2.3","4600U":"2.1","PRO 4650U":"2.1","4680U":"2.1","4600HS":"3.0","4600H":"3.0","4700U":"2.0","PRO 4750U":"1.7","4800U":"1.8","4800HS":"2.9","4800H":"2.9","4900HS":"3.0","4900H":"3.3","5300U":"2.6","5500U":"2.1","5700U":"1.8","7232P":"3.1","7302P":"3.0","7402P":"2.8","7502P":"2.5","7702P":"2.0",7252:"3.1",7262:"3.2",7272:"2.9",7282:"2.8",7302:"3.0",7352:"2.3",7402:"2.8",7452:"2.35",7502:"2.5",7532:"2.4",7542:"2.9",7552:"2.2",7642:"2.3",7662:"2.0",7702:"2.0",7742:"2.25","7H12":"2.6","7F32":"3.7","7F52":"3.5","7F72":"3.2",7763:"2.45",7713:"2.0","7713P":"2.0",7663:"2.0",7643:"2.3","75F3":"2.95",7543:"2.8","7543P":"2.8",7513:"2.6",7453:"2.75","74F3":"3.2",7443:"2.85","7443P":"2.85",7413:"2.65","73F3":"3.5",7343:"3.2",7313:"3.0","7313P":"3.0","72F3":"3.7","5600X":"3.7","5800X":"3.8","5900X":"3.7","5950X":"3.4"},x={1:"Other",2:"Unknown",3:"Daughter Board",4:"ZIF Socket",5:"Replacement/Piggy Back",6:"None",7:"LIF Socket",8:"Slot 1",9:"Slot 2",10:"370 Pin Socket",11:"Slot A",12:"Slot M",13:"423",14:"A (Socket 462)",15:"478",16:"754",17:"940",18:"939",19:"mPGA604",20:"LGA771",21:"LGA775",22:"S1",23:"AM2",24:"F (1207)",25:"LGA1366",26:"G34",27:"AM3",28:"C32",29:"LGA1156",30:"LGA1567",31:"PGA988A",32:"BGA1288",33:"rPGA988B",34:"BGA1023",35:"BGA1224",36:"LGA1155",37:"LGA1356",38:"LGA2011",39:"FS1",40:"FS2",41:"FM1",42:"FM2",43:"LGA2011-3",44:"LGA1356-3",45:"LGA1150",46:"BGA1168",47:"BGA1234",48:"BGA1364",49:"AM4",50:"LGA1151",51:"BGA1356",52:"BGA1440",53:"BGA1515",54:"LGA3647-1",55:"SP3",56:"SP3r2",57:"LGA2066",58:"BGA1392",59:"BGA1510",60:"BGA1528",61:"LGA4189",62:"LGA1200",63:"LGA4677"},b={LGA1150:"i7-5775C i3-4340 i3-4170 G3250 i3-4160T i3-4160 E3-1231 G3258 G3240 i7-4790S i7-4790K i7-4790 i5-4690K i5-4690 i5-4590T i5-4590S i5-4590 i5-4460 i3-4360 i3-4150 G1820 G3420 G3220 i7-4771 i5-4440 i3-4330 i3-4130T i3-4130 E3-1230 i7-4770S i7-4770K i7-4770 i5-4670K i5-4670 i5-4570T i5-4570S i5-4570 i5-4430",LGA1151:"i9-9900KS E-2288G E-2224 G5420 i9-9900T i9-9900 i7-9700T i7-9700F i7-9700E i7-9700 i5-9600 i5-9500T i5-9500F i5-9500 i5-9400T i3-9350K i3-9300 i3-9100T i3-9100F i3-9100 G4930 i9-9900KF i7-9700KF i5-9600KF i5-9400F i5-9400 i3-9350KF i9-9900K i7-9700K i5-9600K G5500 G5400 i7-8700T i7-8086K i5-8600 i5-8500T i5-8500 i5-8400T i3-8300 i3-8100T G4900 i7-8700K i7-8700 i5-8600K i5-8400 i3-8350K i3-8100 E3-1270 G4600 G4560 i7-7700T i7-7700K i7-7700 i5-7600K i5-7600 i5-7500T i5-7500 i5-7400 i3-7350K i3-7300 i3-7100T i3-7100 G3930 G3900 G4400 i7-6700T i7-6700K i7-6700 i5-6600K i5-6600 i5-6500T i5-6500 i5-6400T i5-6400 i3-6300 i3-6100T i3-6100 E3-1270 E3-1270 T4500 T4400",1155:"G440 G460 G465 G470 G530T G540T G550T G1610T G1620T G530 G540 G1610 G550 G1620 G555 G1630 i3-2100T i3-2120T i3-3220T i3-3240T i3-3250T i3-2100 i3-2105 i3-2102 i3-3210 i3-3220 i3-2125 i3-2120 i3-3225 i3-2130 i3-3245 i3-3240 i3-3250 i5-3570T i5-2500T i5-2400S i5-2405S i5-2390T i5-3330S i5-2500S i5-3335S i5-2300 i5-3450S i5-3340S i5-3470S i5-3475S i5-3470T i5-2310 i5-3550S i5-2320 i5-3330 i5-3350P i5-3450 i5-2400 i5-3340 i5-3570S i5-2380P i5-2450P i5-3470 i5-2500K i5-3550 i5-2500 i5-3570 i5-3570K i5-2550K i7-3770T i7-2600S i7-3770S i7-2600K i7-2600 i7-3770 i7-3770K i7-2700K G620T G630T G640T G2020T G645T G2100T G2030T G622 G860T G620 G632 G2120T G630 G640 G2010 G840 G2020 G850 G645 G2030 G860 G2120 G870 G2130 G2140 E3-1220L E3-1220L E3-1260L E3-1265L E3-1220 E3-1225 E3-1220 E3-1235 E3-1225 E3-1230 E3-1230 E3-1240 E3-1245 E3-1270 E3-1275 E3-1240 E3-1245 E3-1270 E3-1280 E3-1275 E3-1290 E3-1280 E3-1290"};function O(e){let t=e;return(e=e.toLowerCase()).indexOf("intel")>=0&&(t="Intel"),e.indexOf("amd")>=0&&(t="AMD"),e.indexOf("qemu")>=0&&(t="QEMU"),e.indexOf("hygon")>=0&&(t="Hygon"),e.indexOf("centaur")>=0&&(t="WinChip/Via"),e.indexOf("vmware")>=0&&(t="VMware"),e.indexOf("Xen")>=0&&(t="Xen Hypervisor"),e.indexOf("tcg")>=0&&(t="QEMU"),e.indexOf("apple")>=0&&(t="Apple"),t}function C(e){e.brand=e.brand.replace(/\(R\)+/g,"Â®").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/\(TM\)+/g,"â„¢").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/\(C\)+/g,"Â©").replace(/\s+/g," ").trim(),e.brand=e.brand.replace(/CPU+/g,"").replace(/\s+/g," ").trim(),e.manufacturer=O(e.brand);let t=e.brand.split(" ");return t.shift(),e.brand=t.join(" "),e}function _(e){let t="0";for(let n in S)if({}.hasOwnProperty.call(S,n)){let r=n.split("|"),s=0;r.forEach((t=>{e.indexOf(t)>-1&&s++})),s===r.length&&(t=S[n])}return parseFloat(t)}function I(){let e=r.cpus(),t=999999999,n=0,s=0,i=[];if(e&&e.length){for(let r in e)if({}.hasOwnProperty.call(e,r)){let a=e[r].speed>100?(e[r].speed+1)/1e3:e[r].speed/10;s+=a,a>n&&(n=a),a<t&&(t=a),i.push(parseFloat(a.toFixed(2)))}return s/=e.length,{min:parseFloat(t.toFixed(2)),max:parseFloat(n.toFixed(2)),avg:parseFloat(s.toFixed(2)),cores:i}}return{min:0,max:0,avg:0,cores:i}}function L(e){return new Promise((t=>{process.nextTick((()=>{let n="";if(p)try{s('reg query "HKEY_LOCAL_MACHINE\\HARDWARE\\DESCRIPTION\\System\\CentralProcessor\\0" /v FeatureSet',o.execOptsWin,(function(r,s){if(!r){let e=s.split("0x").pop().trim(),t=parseInt(e,16).toString(2),r="0".repeat(32-t.length)+t,i=["fpu","vme","de","pse","tsc","msr","pae","mce","cx8","apic","","sep","mtrr","pge","mca","cmov","pat","pse-36","psn","clfsh","","ds","acpi","mmx","fxsr","sse","sse2","ss","htt","tm","ia64","pbe"];for(let e=0;e<i.length;e++)"1"===r[e]&&""!==i[e]&&(n+=" "+i[e]);n=n.trim().toLowerCase()}e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}if(c)try{s("export LC_ALL=C; lscpu; unset LC_ALL",(function(r,s){r||s.toString().split("\n").forEach((function(e){-1!==e.split(":")[0].toUpperCase().indexOf("FLAGS")&&(n=e.split(":")[1].trim().toLowerCase())})),n?(e&&e(n),t(n)):a.readFile("/proc/cpuinfo",(function(r,s){if(!r){let e=s.toString().split("\n");n=o.getValue(e,"features",":",!0).toLowerCase()}e&&e(n),t(n)}))}))}catch(r){e&&e(n),t(n)}(d||f||m)&&s("export LC_ALL=C; dmidecode -t 4 2>/dev/null; unset LC_ALL",(function(r,s){let i=[];if(!r){let e=s.toString().split("\tFlags:");(e.length>1?e[1].split("\tVersion:")[0].split("\n"):[]).forEach((function(e){let t=(e.indexOf("(")?e.split("(")[0].toLowerCase():"").trim().replace(/\t/g,"");t&&i.push(t)}))}n=i.join(" ").trim().toLowerCase(),e&&e(n),t(n)})),u&&s("sysctl machdep.cpu.features",(function(r,s){if(!r){let e=s.toString().split("\n");e.length>0&&-1!==e[0].indexOf("machdep.cpu.features:")&&(n=e[0].split(":")[1].trim().toLowerCase())}e&&e(n),t(n)})),g&&(e&&e(n),t(n))}))}))}function P(e){return new Promise((t=>{process.nextTick((()=>{let n={l1d:null,l1i:null,l2:null,l3:null};if(c)try{s("export LC_ALL=C; lscpu; unset LC_ALL",(function(r,s){r||s.toString().split("\n").forEach((function(e){let t=e.split(":");-1!==t[0].toUpperCase().indexOf("L1D CACHE")&&(n.l1d=parseInt(t[1].trim())*(-1!==t[1].indexOf("M")?1048576:-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toUpperCase().indexOf("L1I CACHE")&&(n.l1i=parseInt(t[1].trim())*(-1!==t[1].indexOf("M")?1048576:-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toUpperCase().indexOf("L2 CACHE")&&(n.l2=parseInt(t[1].trim())*(-1!==t[1].indexOf("M")?1048576:-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toUpperCase().indexOf("L3 CACHE")&&(n.l3=parseInt(t[1].trim())*(-1!==t[1].indexOf("M")?1048576:-1!==t[1].indexOf("K")?1024:1))})),e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}if((d||f||m)&&s("export LC_ALL=C; dmidecode -t 7 2>/dev/null; unset LC_ALL",(function(r,s){let i=[];r||(i=s.toString().split("Cache Information"),i.shift());for(let e=0;e<i.length;e++){const t=i[e].split("\n");let r=o.getValue(t,"Socket Designation").toLowerCase().replace(" ","-").split("-");r=r.length?r[0]:"";const s=o.getValue(t,"Installed Size").split(" ");let a=parseInt(s[0],10);const l=s.length>1?s[1]:"kb";a*="kb"===l?1024:"mb"===l?1048576:"gb"===l?1073741824:1,r&&("l1"===r?(n.cache[r+"d"]=a/2,n.cache[r+"i"]=a/2):n.cache[r]=a)}e&&e(n),t(n)})),u&&s("sysctl hw.l1icachesize hw.l1dcachesize hw.l2cachesize hw.l3cachesize",(function(r,s){r||s.toString().split("\n").forEach((function(e){let t=e.split(":");-1!==t[0].toLowerCase().indexOf("hw.l1icachesize")&&(n.l1d=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toLowerCase().indexOf("hw.l1dcachesize")&&(n.l1i=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toLowerCase().indexOf("hw.l2cachesize")&&(n.l2=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1)),-1!==t[0].toLowerCase().indexOf("hw.l3cachesize")&&(n.l3=parseInt(t[1].trim())*(-1!==t[1].indexOf("K")?1024:1))})),e&&e(n),t(n)})),g&&(e&&e(n),t(n)),p)try{o.powerShell("Get-WmiObject Win32_processor | select L2CacheSize, L3CacheSize | fl").then(((r,s)=>{if(!s){let e=r.split("\r\n");n.l1d=0,n.l1i=0,n.l2=o.getValue(e,"l2cachesize",":"),n.l3=o.getValue(e,"l3cachesize",":"),n.l2&&(n.l2=1024*parseInt(n.l2,10)),n.l3&&(n.l3=1024*parseInt(n.l3,10))}o.powerShell("Get-WmiObject Win32_CacheMemory | select CacheType,InstalledSize,Level | fl").then(((r,s)=>{s||r.split(/\n\s*\n/).forEach((function(e){const t=e.split("\r\n"),r=o.getValue(t,"CacheType"),s=o.getValue(t,"Level"),i=o.getValue(t,"InstalledSize");"3"===s&&"3"===r&&(n.l1i=parseInt(i,10)),"3"===s&&"4"===r&&(n.l1d=parseInt(i,10)),"3"!==s||"5"!==r||n.l1i||n.l1d||(n.l1i=parseInt(i,10)/2,n.l1d=parseInt(i,10)/2)})),e&&e(n),t(n)}))}))}catch(r){e&&e(n),t(n)}}))}))}t.cpu=function(e){return new Promise((t=>{process.nextTick((()=>{new Promise((e=>{process.nextTick((()=>{const t="unknown";let n={manufacturer:t,brand:t,vendor:"",family:"",model:"",stepping:"",revision:"",voltage:"",speed:0,speedMin:0,speedMax:0,governor:"",cores:o.cores(),physicalCores:o.cores(),processors:1,socket:"",flags:"",virtualization:!1,cache:{}};L().then((t=>{if(n.flags=t,n.virtualization=t.indexOf("vmx")>-1||t.indexOf("svm")>-1,u&&s("sysctl machdep.cpu hw.cpufrequency_max hw.cpufrequency_min hw.packages hw.physicalcpu_max hw.ncpu hw.tbfrequency hw.cpufamily hw.cpusubfamily",(function(t,s){let a=s.toString().split("\n");const l=o.getValue(a,"machdep.cpu.brand_string").split("@");n.brand=l[0].trim();const c=l[1]?l[1].trim():"0";n.speed=parseFloat(c.replace(/GHz+/g,""));let u=o.getValue(a,"hw.tbfrequency")/1e9;u=u<.1?100*u:u,n.speed=0===n.speed?u:n.speed,h=n.speed,n=C(n),n.speedMin=o.getValue(a,"hw.cpufrequency_min")?o.getValue(a,"hw.cpufrequency_min")/1e9:n.speed,n.speedMax=o.getValue(a,"hw.cpufrequency_max")?o.getValue(a,"hw.cpufrequency_max")/1e9:n.speed,n.vendor=o.getValue(a,"machdep.cpu.vendor")||"Apple",n.family=o.getValue(a,"machdep.cpu.family")||o.getValue(a,"hw.cpufamily"),n.model=o.getValue(a,"machdep.cpu.model"),n.stepping=o.getValue(a,"machdep.cpu.stepping")||o.getValue(a,"hw.cpusubfamily");const p=o.getValue(a,"hw.packages"),d=o.getValue(a,"hw.physicalcpu_max"),f=o.getValue(a,"hw.ncpu");if("arm64"===r.arch()){const e=i("ioreg -c IOPlatformDevice -d 3 -r | grep cluster-type").toString().split("\n"),t=e.filter((e=>e.indexOf('"E"')>=0)).length,r=e.filter((e=>e.indexOf('"P"')>=0)).length;n.socket="SOC",n.efficiencyCores=t,n.performanceCores=r}p&&(n.processors=parseInt(p)||1),d&&f&&(n.cores=parseInt(f)||o.cores(),n.physicalCores=parseInt(d)||o.cores()),P().then((t=>{n.cache=t,e(n)}))})),c){let t="",i=[];r.cpus()[0]&&r.cpus()[0].model&&(t=r.cpus()[0].model),s('export LC_ALL=C; lscpu; echo -n "Governor: "; cat /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor 2>/dev/null; echo; unset LC_ALL',(function(r,l){r||(i=l.toString().split("\n")),t=o.getValue(i,"model name")||t;const c=t.split("@");if(n.brand=c[0].trim(),n.speed=c[1]?parseFloat(c[1].trim()):0,0===n.speed&&(n.brand.indexOf("AMD")>-1||n.brand.toLowerCase().indexOf("ryzen")>-1)&&(n.speed=_(n.brand)),0===n.speed){const e=I();0!==e.avg&&(n.speed=e.avg)}h=n.speed,n.speedMin=Math.round(parseFloat(o.getValue(i,"cpu min mhz").replace(/,/g,"."))/10)/100,n.speedMax=Math.round(parseFloat(o.getValue(i,"cpu max mhz").replace(/,/g,"."))/10)/100,n=C(n),n.vendor=O(o.getValue(i,"vendor id")),n.family=o.getValue(i,"cpu family"),n.model=o.getValue(i,"model:"),n.stepping=o.getValue(i,"stepping"),n.revision=o.getValue(i,"cpu revision"),n.cache.l1d=o.getValue(i,"l1d cache"),n.cache.l1d&&(n.cache.l1d=parseInt(n.cache.l1d)*(-1!==n.cache.l1d.indexOf("M")?1048576:-1!==n.cache.l1d.indexOf("K")?1024:1)),n.cache.l1i=o.getValue(i,"l1i cache"),n.cache.l1i&&(n.cache.l1i=parseInt(n.cache.l1i)*(-1!==n.cache.l1i.indexOf("M")?1048576:-1!==n.cache.l1i.indexOf("K")?1024:1)),n.cache.l2=o.getValue(i,"l2 cache"),n.cache.l2&&(n.cache.l2=parseInt(n.cache.l2)*(-1!==n.cache.l2.indexOf("M")?1048576:-1!==n.cache.l2.indexOf("K")?1024:1)),n.cache.l3=o.getValue(i,"l3 cache"),n.cache.l3&&(n.cache.l3=parseInt(n.cache.l3)*(-1!==n.cache.l3.indexOf("M")?1048576:-1!==n.cache.l3.indexOf("K")?1024:1));const u=o.getValue(i,"thread(s) per core")||"1",p=o.getValue(i,"socket(s)")||"1";let d=parseInt(u,10),f=parseInt(p,10);if(n.physicalCores=n.cores/d,n.processors=f,n.governor=o.getValue(i,"governor")||"","ARM"===n.vendor){const e=a.readFileSync("/proc/cpuinfo").toString().split("\n"),t=o.decodePiCpuinfo(e);t.model.toLowerCase().indexOf("raspberry")>=0&&(n.family=n.manufacturer,n.manufacturer=t.manufacturer,n.brand=t.processor,n.revision=t.revisionCode,n.socket="SOC")}let m=[];s('export LC_ALL=C; dmidecode â€“t 4 2>/dev/null | grep "Upgrade: Socket"; unset LC_ALL',(function(t,r){m=r.toString().split("\n"),m&&m.length&&(n.socket=o.getValue(m,"Upgrade").replace("Socket","").trim()||n.socket),e(n)}))}))}if(d||f||m){let t="",i=[];r.cpus()[0]&&r.cpus()[0].model&&(t=r.cpus()[0].model),s("export LC_ALL=C; dmidecode -t 4; dmidecode -t 7 unset LC_ALL",(function(r,s){let a=[];if(!r){const e=s.toString().split("# dmidecode"),t=e.length>1?e[1]:"";a=e.length>2?e[2].split("Cache Information"):[],i=t.split("\n")}if(n.brand=t.split("@")[0].trim(),n.speed=t.split("@")[1]?parseFloat(t.split("@")[1].trim()):0,0===n.speed&&(n.brand.indexOf("AMD")>-1||n.brand.toLowerCase().indexOf("ryzen")>-1)&&(n.speed=_(n.brand)),0===n.speed){const e=I();0!==e.avg&&(n.speed=e.avg)}h=n.speed,n.speedMin=n.speed,n.speedMax=Math.round(parseFloat(o.getValue(i,"max speed").replace(/Mhz/g,""))/10)/100,n=C(n),n.vendor=O(o.getValue(i,"manufacturer"));let l=o.getValue(i,"signature");l=l.split(",");for(var c=0;c<l.length;c++)l[c]=l[c].trim();n.family=o.getValue(l,"Family"," ",!0),n.model=o.getValue(l,"Model"," ",!0),n.stepping=o.getValue(l,"Stepping"," ",!0),n.revision="";const u=parseFloat(o.getValue(i,"voltage"));n.voltage=isNaN(u)?"":u.toFixed(2);for(let e=0;e<a.length;e++){i=a[e].split("\n");let t=o.getValue(i,"Socket Designation").toLowerCase().replace(" ","-").split("-");t=t.length?t[0]:"";const r=o.getValue(i,"Installed Size").split(" ");let s=parseInt(r[0],10);const l=r.length>1?r[1]:"kb";s*="kb"===l?1024:"mb"===l?1048576:"gb"===l?1073741824:1,t&&("l1"===t?(n.cache[t+"d"]=s/2,n.cache[t+"i"]=s/2):n.cache[t]=s)}n.socket=o.getValue(i,"Upgrade").replace("Socket","").trim();const p=o.getValue(i,"thread count").trim(),d=o.getValue(i,"core count").trim();d&&p&&(n.cores=parseInt(p,10),n.physicalCores=parseInt(d,10)),e(n)}))}if(g&&e(n),p)try{const t=[];t.push(o.powerShell("Get-WmiObject Win32_processor | select Name, Revision, L2CacheSize, L3CacheSize, Manufacturer, MaxClockSpeed, Description, UpgradeMethod, Caption, NumberOfLogicalProcessors, NumberOfCores | fl")),t.push(o.powerShell("Get-WmiObject Win32_CacheMemory | select CacheType,InstalledSize,Level | fl")),t.push(o.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),Promise.all(t).then((t=>{let r=t[0].split("\r\n"),s=o.getValue(r,"name",":")||"";s.indexOf("@")>=0?(n.brand=s.split("@")[0].trim(),n.speed=s.split("@")[1]?parseFloat(s.split("@")[1].trim()):0,h=n.speed):(n.brand=s.trim(),n.speed=0),n=C(n),n.revision=o.getValue(r,"revision",":"),n.cache.l1d=0,n.cache.l1i=0,n.cache.l2=o.getValue(r,"l2cachesize",":"),n.cache.l3=o.getValue(r,"l3cachesize",":"),n.cache.l2&&(n.cache.l2=1024*parseInt(n.cache.l2,10)),n.cache.l3&&(n.cache.l3=1024*parseInt(n.cache.l3,10)),n.vendor=o.getValue(r,"manufacturer",":"),n.speedMax=Math.round(parseFloat(o.getValue(r,"maxclockspeed",":").replace(/,/g,"."))/10)/100,0===n.speed&&(n.brand.indexOf("AMD")>-1||n.brand.toLowerCase().indexOf("ryzen")>-1)&&(n.speed=_(n.brand)),0===n.speed&&(n.speed=n.speedMax),n.speedMin=n.speed;let i=o.getValue(r,"description",":").split(" ");for(let e=0;e<i.length;e++)i[e].toLowerCase().startsWith("family")&&e+1<i.length&&i[e+1]&&(n.family=i[e+1]),i[e].toLowerCase().startsWith("model")&&e+1<i.length&&i[e+1]&&(n.model=i[e+1]),i[e].toLowerCase().startsWith("stepping")&&e+1<i.length&&i[e+1]&&(n.stepping=i[e+1]);const a=o.getValue(r,"UpgradeMethod",":");x[a]&&(n.socket=x[a]);const l=function(e){let t="";for(const n in b){const r=b[n].split(" ");for(let s=0;s<r.length;s++)e.indexOf(r[s])>=0&&(t=n)}return t}(s);l&&(n.socket=l);const c=o.countLines(r,"Caption"),u=o.getValue(r,"NumberOfLogicalProcessors",":"),p=o.getValue(r,"NumberOfCores",":");c&&(n.processors=parseInt(c)||1),p&&u&&(n.cores=parseInt(u)||o.cores(),n.physicalCores=parseInt(p)||o.cores()),c>1&&(n.cores=n.cores*c,n.physicalCores=n.physicalCores*c),t[1].split(/\n\s*\n/).forEach((function(e){r=e.split("\r\n");const t=o.getValue(r,"CacheType"),s=o.getValue(r,"Level"),i=o.getValue(r,"InstalledSize");"3"===s&&"3"===t&&(n.cache.l1i=parseInt(i,10)),"3"===s&&"4"===t&&(n.cache.l1d=parseInt(i,10)),"3"!==s||"5"!==t||n.cache.l1i||n.cache.l1d||(n.cache.l1i=parseInt(i,10)/2,n.cache.l1d=parseInt(i,10)/2)}));const d=t[2]?t[2].toString().toLowerCase():"";n.virtualization=-1!==d.indexOf("true"),e(n)}))}catch(t){e(n)}}))}))})).then((n=>{e&&e(n),t(n)}))}))}))},t.cpuCurrentSpeed=function(e){return new Promise((t=>{process.nextTick((()=>{let n=I();if(0===n.avg&&0!==h){const e=parseFloat(h);n={min:e,max:e,avg:e,cores:[]}}e&&e(n),t(n)}))}))},t.cpuTemperature=function(e){return new Promise((t=>{process.nextTick((()=>{let r={main:null,cores:[],max:null,socket:[],chipset:null};if(c){try{const e=i('cat /sys/class/thermal/thermal_zone*/type  2>/dev/null; echo "-----"; cat /sys/class/thermal/thermal_zone*/temp 2>/dev/null;').toString().split("-----\n");if(2===e.length){const t=e[0].split("\n"),n=e[1].split("\n");for(let e=0;e<t.length;e++){const s=t[e].trim();s.startsWith("acpi")&&n[e]&&r.socket.push(Math.round(parseInt(n[e],10)/100)/10),s.startsWith("pch")&&n[e]&&(r.chipset=Math.round(parseInt(n[e],10)/100)/10)}}}catch(e){o.noop()}const n='for mon in /sys/class/hwmon/hwmon*; do for label in "$mon"/temp*_label; do if [ -f $label ]; then value=$(echo $label | rev | cut -c 7- | rev)_input; if [ -f "$value" ]; then echo $(cat "$label")___$(cat "$value");  fi; fi; done; done;';try{s(n,(function(n,i){const o=(i=i.toString()).toLowerCase().indexOf("tdie");if(-1!==o&&(i=i.substring(o)),i.split("\n").forEach((e=>{const t=e.split("___"),n=t[0],s=t.length>1&&t[1]?t[1]:"0";s&&(void 0===n||n&&n.toLowerCase().startsWith("core"))?r.cores.push(Math.round(parseInt(s,10)/100)/10):s&&n&&null===r.main&&(r.main=Math.round(parseInt(s,10)/100)/10)})),r.cores.length>0){null===r.main&&(r.main=Math.round(r.cores.reduce(((e,t)=>e+t),0)/r.cores.length));let e=Math.max.apply(Math,r.cores);r.max=e>r.main?e:r.main}if(null!==r.main)return null===r.max&&(r.max=r.main),e&&e(r),void t(r);s("sensors",(function(n,i){if(!n){let n=i.toString().split("\n"),s=null,a=!0,o="";if(n.forEach((function(e){""===e.trim()?a=!0:a&&(e.trim().toLowerCase().startsWith("acpi")&&(o="acpi"),e.trim().toLowerCase().startsWith("pch")&&(o="pch"),e.trim().toLowerCase().startsWith("core")&&(o="core"),a=!1);let t=e.match(/[+-]([^Â°]*)/g),n=e.split(":")[0].toUpperCase();"acpi"===o?-1!==n.indexOf("TEMP")&&r.socket.push(parseFloat(t)):"pch"===o&&-1!==n.indexOf("TEMP")&&(r.chipset=parseFloat(t)),-1===n.indexOf("PHYSICAL")&&-1===n.indexOf("PACKAGE")||(r.main=parseFloat(t)),-1!==n.indexOf("CORE ")&&r.cores.push(parseFloat(t)),-1!==n.indexOf("TDIE")&&null===s&&(s=parseFloat(t))})),r.cores.length>0){null===r.main&&(r.main=Math.round(r.cores.reduce(((e,t)=>e+t),0)/r.cores.length));let e=Math.max.apply(Math,r.cores);r.max=e>r.main?e:r.main}else null===r.main&&null!==s&&(r.main=s,r.max=s);if(null!==r.main||null!==r.max)return e&&e(r),void t(r)}a.stat("/sys/class/thermal/thermal_zone0/temp",(function(n){null===n?a.readFile("/sys/class/thermal/thermal_zone0/temp",(function(n,s){if(!n){let e=s.toString().split("\n");e.length>0&&(r.main=parseFloat(e[0])/1e3,r.max=r.main)}e&&e(r),t(r)})):s("/opt/vc/bin/vcgencmd measure_temp",(function(n,s){if(!n){let e=s.toString().split("\n");e.length>0&&e[0].indexOf("=")&&(r.main=parseFloat(e[0].split("=")[1]),r.max=r.main)}e&&e(r),t(r)}))}))}))}))}catch(n){e&&e(r),t(r)}}if((d||f||m)&&s("sysctl dev.cpu | grep temp",(function(n,s){if(!n){let e=s.toString().split("\n"),t=0;e.forEach((function(e){const n=e.split(":");if(n.length>1){const e=parseFloat(n[1].replace(",","."));e>r.max&&(r.max=e),t+=e,r.cores.push(e)}})),r.cores.length&&(r.main=Math.round(t/r.cores.length*100)/100)}e&&e(r),t(r)})),u){let s=null;try{s=n(Object(function(){var e=new Error("Cannot find module 'osx-temperature-sensor'");throw e.code="MODULE_NOT_FOUND",e}()))}catch(e){s=null}s&&(r=s.cpuTemperature()),e&&e(r),t(r)}if(g&&(e&&e(r),t(r)),p)try{o.powerShell('Get-WmiObject MSAcpi_ThermalZoneTemperature -Namespace "root/wmi" | Select CurrentTemperature').then(((n,s)=>{if(!s){let e=0;n.split("\r\n").filter((e=>""!==e.trim())).filter(((e,t)=>t>0)).forEach((function(t){let n=(parseInt(t,10)-2732)/10;isNaN(n)||(e+=n,n>r.max&&(r.max=n),r.cores.push(n))})),r.cores.length&&(r.main=e/r.cores.length)}e&&e(r),t(r)}))}catch(n){e&&e(r),t(r)}}))}))},t.cpuFlags=L,t.cpuCache=P,t.currentLoad=function(e){return new Promise((t=>{process.nextTick((()=>{new Promise((e=>{process.nextTick((()=>{let t=r.loadavg().map((function(e){return e/o.cores()})),n=parseFloat(Math.max.apply(Math,t).toFixed(2)),s={};if(Date.now()-y.ms>=200){y.ms=Date.now();const e=r.cpus();let t=0,i=0,a=0,o=0,l=0,c=[];w=e&&e.length?e.length:0;for(let n=0;n<w;n++){const r=e[n].times;t+=r.user,i+=r.sys,a+=r.nice,l+=r.idle,o+=r.irq;let s=v&&v[n]&&v[n].totalTick?v[n].totalTick:0,u=v&&v[n]&&v[n].totalLoad?v[n].totalLoad:0,p=v&&v[n]&&v[n].user?v[n].user:0,d=v&&v[n]&&v[n].sys?v[n].sys:0,f=v&&v[n]&&v[n].nice?v[n].nice:0,m=v&&v[n]&&v[n].idle?v[n].idle:0,g=v&&v[n]&&v[n].irq?v[n].irq:0;v[n]=r,v[n].totalTick=v[n].user+v[n].sys+v[n].nice+v[n].irq+v[n].idle,v[n].totalLoad=v[n].user+v[n].sys+v[n].nice+v[n].irq,v[n].currentTick=v[n].totalTick-s,v[n].load=v[n].totalLoad-u,v[n].loadUser=v[n].user-p,v[n].loadSystem=v[n].sys-d,v[n].loadNice=v[n].nice-f,v[n].loadIdle=v[n].idle-m,v[n].loadIrq=v[n].irq-g,c[n]={},c[n].load=v[n].load/v[n].currentTick*100,c[n].loadUser=v[n].loadUser/v[n].currentTick*100,c[n].loadSystem=v[n].loadSystem/v[n].currentTick*100,c[n].loadNice=v[n].loadNice/v[n].currentTick*100,c[n].loadIdle=v[n].loadIdle/v[n].currentTick*100,c[n].loadIrq=v[n].loadIrq/v[n].currentTick*100,c[n].rawLoad=v[n].load,c[n].rawLoadUser=v[n].loadUser,c[n].rawLoadSystem=v[n].loadSystem,c[n].rawLoadNice=v[n].loadNice,c[n].rawLoadIdle=v[n].loadIdle,c[n].rawLoadIrq=v[n].loadIrq}let u=t+i+a+o+l,p=t+i+a+o,d=u-y.tick;s={avgLoad:n,currentLoad:(p-y.load)/d*100,currentLoadUser:(t-y.user)/d*100,currentLoadSystem:(i-y.system)/d*100,currentLoadNice:(a-y.nice)/d*100,currentLoadIdle:(l-y.idle)/d*100,currentLoadIrq:(o-y.irq)/d*100,rawCurrentLoad:p-y.load,rawCurrentLoadUser:t-y.user,rawCurrentLoadSystem:i-y.system,rawCurrentLoadNice:a-y.nice,rawCurrentLoadIdle:l-y.idle,rawCurrentLoadIrq:o-y.irq,cpus:c},y={user:t,nice:a,system:i,idle:l,irq:o,tick:u,load:p,ms:y.ms,currentLoad:s.currentLoad,currentLoadUser:s.currentLoadUser,currentLoadSystem:s.currentLoadSystem,currentLoadNice:s.currentLoadNice,currentLoadIdle:s.currentLoadIdle,currentLoadIrq:s.currentLoadIrq,rawCurrentLoad:s.rawCurrentLoad,rawCurrentLoadUser:s.rawCurrentLoadUser,rawCurrentLoadSystem:s.rawCurrentLoadSystem,rawCurrentLoadNice:s.rawCurrentLoadNice,rawCurrentLoadIdle:s.rawCurrentLoadIdle,rawCurrentLoadIrq:s.rawCurrentLoadIrq}}else{let e=[];for(let t=0;t<w;t++)e[t]={},e[t].load=v[t].load/v[t].currentTick*100,e[t].loadUser=v[t].loadUser/v[t].currentTick*100,e[t].loadSystem=v[t].loadSystem/v[t].currentTick*100,e[t].loadNice=v[t].loadNice/v[t].currentTick*100,e[t].loadIdle=v[t].loadIdle/v[t].currentTick*100,e[t].loadIrq=v[t].loadIrq/v[t].currentTick*100,e[t].rawLoad=v[t].load,e[t].rawLoadUser=v[t].loadUser,e[t].rawLoadSystem=v[t].loadSystem,e[t].rawLoadNice=v[t].loadNice,e[t].rawLoadIdle=v[t].loadIdle,e[t].rawLoadIrq=v[t].loadIrq;s={avgLoad:n,currentLoad:y.currentLoad,currentLoadUser:y.currentLoadUser,currentLoadSystem:y.currentLoadSystem,currentLoadNice:y.currentLoadNice,currentLoadIdle:y.currentLoadIdle,currentLoadIrq:y.currentLoadIrq,rawCurrentLoad:y.rawCurrentLoad,rawCurrentLoadUser:y.rawCurrentLoadUser,rawCurrentLoadSystem:y.rawCurrentLoadSystem,rawCurrentLoadNice:y.rawCurrentLoadNice,rawCurrentLoadIdle:y.rawCurrentLoadIdle,rawCurrentLoadIrq:y.rawCurrentLoadIrq,cpus:e}}e(s)}))})).then((n=>{e&&e(n),t(n)}))}))}))},t.fullLoad=function(e){return new Promise((t=>{process.nextTick((()=>{new Promise((e=>{process.nextTick((()=>{const t=r.cpus();let n=0,s=0,i=0,a=0,o=0,l=0;if(t&&t.length){for(let e=0,r=t.length;e<r;e++){const r=t[e].times;n+=r.user,s+=r.sys,i+=r.nice,a+=r.irq,o+=r.idle}let e=o+a+i+s+n;l=(e-o)/e*100}else l=0;e(l)}))})).then((n=>{e&&e(n),t(n)}))}))}))}},3526:(e,t,n)=>{"use strict";const r=n(9778),s=n(2644),i="win32"===process.platform;let a,o={},l=0;function c(e,t){function n(e,t){return e.filter((e=>e.Id&&e.Id===t)).length>0}r.isFunction(e)&&!t&&(t=e,e=!1),"string"==typeof e&&"true"===e&&(e=!0),"boolean"!=typeof e&&void 0!==e&&(e=!1),e=e||!1;let i=[];return new Promise((l=>{process.nextTick((()=>{a||(a=new s);const c=[];a.listContainers(e,(e=>{let u={};try{if(u=e,u&&"[object Array]"===Object.prototype.toString.call(u)&&u.length>0){for(let e in o)({}).hasOwnProperty.call(o,e)&&(n(u,e)||delete o[e]);u.forEach((function(e){var t,n;e.Names&&"[object Array]"===Object.prototype.toString.call(e.Names)&&e.Names.length>0&&(e.Name=e.Names[0].replace(/^\/|\/$/g,"")),c.push((t=e.Id.trim(),n=e,new Promise((e=>{process.nextTick((()=>{if("string"!=typeof(t=t||""))return e();const i=(r.isPrototypePolluted()?"":r.sanitizeShellString(t,!0)).trim();i?(a||(a=new s),a.getInspect(i.trim(),(t=>{try{e({id:n.Id,name:n.Name,image:n.Image,imageID:n.ImageID,command:n.Command,created:n.Created,started:t.State&&t.State.StartedAt?Math.round(new Date(t.State.StartedAt).getTime()/1e3):0,finished:t.State&&t.State.FinishedAt&&!t.State.FinishedAt.startsWith("0001-01-01")?Math.round(new Date(t.State.FinishedAt).getTime()/1e3):0,createdAt:t.Created?t.Created:"",startedAt:t.State&&t.State.StartedAt?t.State.StartedAt:"",finishedAt:t.State&&t.State.FinishedAt&&!t.State.FinishedAt.startsWith("0001-01-01")?t.State.FinishedAt:"",state:n.State,restartCount:t.RestartCount||0,platform:t.Platform||"",driver:t.Driver||"",ports:n.Ports,mounts:n.Mounts})}catch(t){e()}}))):e()}))}))))})),c.length?Promise.all(c).then((e=>{t&&t(e),l(e)})):(t&&t(i),l(i))}else t&&t(i),l(i)}catch(e){for(let e in o)({}).hasOwnProperty.call(o,e)&&(n(u,e)||delete o[e]);t&&t(i),l(i)}}))}))}))}function u(e,t){let n=[];return new Promise((s=>{process.nextTick((()=>{if(r.isFunction(e)&&!t)t=e,n=["*"];else{if("string"!=typeof(e=e||"*"))return t&&t([]),s([]);let i="";if(i.__proto__.toLowerCase=r.stringToLower,i.__proto__.replace=r.stringReplace,i.__proto__.trim=r.stringTrim,i=e,i=i.trim(),"*"!==i){i="";const t=(r.isPrototypePolluted()?"":r.sanitizeShellString(e,!0)).trim();for(let e=0;e<=r.mathMin(t.length,2e3);e++)if(void 0!==t[e]){t[e].__proto__.toLowerCase=r.stringToLower;const n=t[e].toLowerCase();n&&n[0]&&!n[1]&&(i+=n[0])}}i=i.trim().toLowerCase().replace(/,+/g,"|"),n=i.split("|")}const i=[],a=[];if(n.length&&"*"===n[0].trim())n=[],c().then((e=>{for(let t of e)n.push(t.id);n.length?u(n.join(",")).then((e=>{t&&t(e),s(e)})):(t&&t(i),s(i))}));else{for(let e of n)a.push(p(e.trim()));a.length?Promise.all(a).then((e=>{t&&t(e),s(e)})):(t&&t(i),s(i))}}))}))}function p(e){let t={id:e=e||"",memUsage:0,memLimit:0,memPercent:0,cpuPercent:0,pids:0,netIO:{rx:0,wx:0},blockIO:{r:0,w:0},restartCount:0,cpuStats:{},precpuStats:{},memoryStats:{},networks:{}};return new Promise((n=>{process.nextTick((()=>{e?(a||(a=new s),a.getInspect(e,(s=>{try{a.getStats(e,(e=>{try{let n=e;n.message||(t.memUsage=n.memory_stats&&n.memory_stats.usage?n.memory_stats.usage:0,t.memLimit=n.memory_stats&&n.memory_stats.limit?n.memory_stats.limit:0,t.memPercent=n.memory_stats&&n.memory_stats.usage&&n.memory_stats.limit?n.memory_stats.usage/n.memory_stats.limit*100:0,t.cpuPercent=n.cpu_stats&&n.precpu_stats?function(e,t){if(i){let n=r.nanoSeconds(),s=0;if(l>0){let r=n-l,i=e.cpu_usage.total_usage-t.cpu_usage.total_usage;r>0&&(s=100*i/r)}return l=n,s}{let n=0,r=e.cpu_usage.total_usage-t.cpu_usage.total_usage,s=e.system_cpu_usage-t.system_cpu_usage;return s>0&&r>0&&(n=r/s*e.cpu_usage.percpu_usage.length*100),n}}(n.cpu_stats,n.precpu_stats):0,t.pids=n.pids_stats&&n.pids_stats.current?n.pids_stats.current:0,t.restartCount=s.RestartCount?s.RestartCount:0,n.networks&&(t.netIO=function(e){let t,n;for(let r in e){if(!{}.hasOwnProperty.call(e,r))continue;let s=e[r];t=+s.rx_bytes,n=+s.tx_bytes}return{rx:t,wx:n}}(n.networks)),n.blkio_stats&&(t.blockIO=function(e){let t={r:0,w:0};return e&&e.io_service_bytes_recursive&&"[object Array]"===Object.prototype.toString.call(e.io_service_bytes_recursive)&&e.io_service_bytes_recursive.length>0&&e.io_service_bytes_recursive.forEach((function(e){e.op&&"read"===e.op.toLowerCase()&&e.value&&(t.r+=e.value),e.op&&"write"===e.op.toLowerCase()&&e.value&&(t.w+=e.value)})),t}(n.blkio_stats)),t.cpuStats=n.cpu_stats?n.cpu_stats:{},t.precpuStats=n.precpu_stats?n.precpu_stats:{},t.memoryStats=n.memory_stats?n.memory_stats:{},t.networks=n.networks?n.networks:{})}catch(e){r.noop()}n(t)}))}catch(e){r.noop()}}))):n(t)}))}))}function d(e,t){let n=[];return new Promise((i=>{process.nextTick((()=>{if("string"!=typeof(e=e||""))return i(n);const o=(r.isPrototypePolluted()?"":r.sanitizeShellString(e,!0)).trim();o?(a||(a=new s),a.getProcesses(o,(e=>{try{if(e&&e.Titles&&e.Processes){let t=e.Titles.map((function(e){return e.toUpperCase()})),r=t.indexOf("PID"),s=t.indexOf("PPID"),i=t.indexOf("PGID"),a=t.indexOf("VSZ"),o=t.indexOf("TIME"),l=t.indexOf("ELAPSED"),c=t.indexOf("NI"),u=t.indexOf("RUSER"),p=t.indexOf("USER"),d=t.indexOf("RGROUP"),f=t.indexOf("GROUP"),m=t.indexOf("STAT"),g=t.indexOf("RSS"),h=t.indexOf("COMMAND");e.Processes.forEach((e=>{n.push({pidHost:r>=0?e[r]:"",ppid:s>=0?e[s]:"",pgid:i>=0?e[i]:"",user:p>=0?e[p]:"",ruser:u>=0?e[u]:"",group:f>=0?e[f]:"",rgroup:d>=0?e[d]:"",stat:m>=0?e[m]:"",time:o>=0?e[o]:"",elapsed:l>=0?e[l]:"",nice:c>=0?e[c]:"",rss:g>=0?e[g]:"",vsz:a>=0?e[a]:"",command:h>=0?e[h]:""})}))}}catch(e){r.noop()}t&&t(n),i(n)}))):(t&&t(n),i(n))}))}))}t.dockerInfo=function(e){return new Promise((t=>{process.nextTick((()=>{a||(a=new s);const n={};a.getInfo((r=>{n.id=r.ID,n.containers=r.Containers,n.containersRunning=r.ContainersRunning,n.containersPaused=r.ContainersPaused,n.containersStopped=r.ContainersStopped,n.images=r.Images,n.driver=r.Driver,n.memoryLimit=r.MemoryLimit,n.swapLimit=r.SwapLimit,n.kernelMemory=r.KernelMemory,n.cpuCfsPeriod=r.CpuCfsPeriod,n.cpuCfsQuota=r.CpuCfsQuota,n.cpuShares=r.CPUShares,n.cpuSet=r.CPUSet,n.ipv4Forwarding=r.IPv4Forwarding,n.bridgeNfIptables=r.BridgeNfIptables,n.bridgeNfIp6tables=r.BridgeNfIp6tables,n.debug=r.Debug,n.nfd=r.NFd,n.oomKillDisable=r.OomKillDisable,n.ngoroutines=r.NGoroutines,n.systemTime=r.SystemTime,n.loggingDriver=r.LoggingDriver,n.cgroupDriver=r.CgroupDriver,n.nEventsListener=r.NEventsListener,n.kernelVersion=r.KernelVersion,n.operatingSystem=r.OperatingSystem,n.osType=r.OSType,n.architecture=r.Architecture,n.ncpu=r.NCPU,n.memTotal=r.MemTotal,n.dockerRootDir=r.DockerRootDir,n.httpProxy=r.HttpProxy,n.httpsProxy=r.HttpsProxy,n.noProxy=r.NoProxy,n.name=r.Name,n.labels=r.Labels,n.experimentalBuild=r.ExperimentalBuild,n.serverVersion=r.ServerVersion,n.clusterStore=r.ClusterStore,n.clusterAdvertise=r.ClusterAdvertise,n.defaultRuntime=r.DefaultRuntime,n.liveRestoreEnabled=r.LiveRestoreEnabled,n.isolation=r.Isolation,n.initBinary=r.InitBinary,n.productLicense=r.ProductLicense,e&&e(n),t(n)}))}))}))},t.dockerImages=function(e,t){r.isFunction(e)&&!t&&(t=e,e=!1),"string"==typeof e&&"true"===e&&(e=!0),"boolean"!=typeof e&&void 0!==e&&(e=!1),e=e||!1;let n=[];return new Promise((i=>{process.nextTick((()=>{a||(a=new s);const o=[];a.listImages(e,(e=>{let l={};try{l=e,l&&"[object Array]"===Object.prototype.toString.call(l)&&l.length>0?(l.forEach((function(e){var t,n;e.Names&&"[object Array]"===Object.prototype.toString.call(e.Names)&&e.Names.length>0&&(e.Name=e.Names[0].replace(/^\/|\/$/g,"")),o.push((t=e.Id.trim(),n=e,new Promise((e=>{process.nextTick((()=>{if("string"!=typeof(t=t||""))return e();const i=(r.isPrototypePolluted()?"":r.sanitizeShellString(t,!0)).trim();i?(a||(a=new s),a.inspectImage(i.trim(),(t=>{try{e({id:n.Id,container:t.Container,comment:t.Comment,os:t.Os,architecture:t.Architecture,parent:t.Parent,dockerVersion:t.DockerVersion,size:t.Size,sharedSize:n.SharedSize,virtualSize:t.VirtualSize,author:t.Author,created:t.Created?Math.round(new Date(t.Created).getTime()/1e3):0,containerConfig:t.ContainerConfig?t.ContainerConfig:{},graphDriver:t.GraphDriver?t.GraphDriver:{},repoDigests:t.RepoDigests?t.RepoDigests:{},repoTags:t.RepoTags?t.RepoTags:{},config:t.Config?t.Config:{},rootFS:t.RootFS?t.RootFS:{}})}catch(t){e()}}))):e()}))}))))})),o.length?Promise.all(o).then((e=>{t&&t(e),i(e)})):(t&&t(n),i(n))):(t&&t(n),i(n))}catch(e){t&&t(n),i(n)}}))}))}))},t.dockerContainers=c,t.dockerContainerStats=u,t.dockerContainerProcesses=d,t.dockerVolumes=function(e){let t=[];return new Promise((n=>{process.nextTick((()=>{a||(a=new s),a.listVolumes((r=>{let s={};try{s=r,s&&s.Volumes&&"[object Array]"===Object.prototype.toString.call(s.Volumes)&&s.Volumes.length>0?(s.Volumes.forEach((function(e){t.push({name:e.Name,driver:e.Driver,labels:e.Labels,mountpoint:e.Mountpoint,options:e.Options,scope:e.Scope,created:e.CreatedAt?Math.round(new Date(e.CreatedAt).getTime()/1e3):0})})),e&&e(t),n(t)):(e&&e(t),n(t))}catch(r){e&&e(t),n(t)}}))}))}))},t.dockerAll=function(e){return new Promise((t=>{process.nextTick((()=>{c(!0).then((n=>{if(n&&"[object Array]"===Object.prototype.toString.call(n)&&n.length>0){let r=n.length;n.forEach((function(s){u(s.id).then((i=>{s.memUsage=i[0].memUsage,s.memLimit=i[0].memLimit,s.memPercent=i[0].memPercent,s.cpuPercent=i[0].cpuPercent,s.pids=i[0].pids,s.netIO=i[0].netIO,s.blockIO=i[0].blockIO,s.cpuStats=i[0].cpuStats,s.precpuStats=i[0].precpuStats,s.memoryStats=i[0].memoryStats,s.networks=i[0].networks,d(s.id).then((i=>{s.processes=i,r-=1,0===r&&(e&&e(n),t(n))}))}))}))}else e&&e(n),t(n)}))}))}))}},2644:(e,t,n)=>{"use strict";const r=n(1808),s="Windows_NT"===n(2037).type()?"//./pipe/docker_engine":"/var/run/docker.sock";e.exports=class{getInfo(e){try{let t,n=r.createConnection({path:s}),i="";n.on("connect",(()=>{n.write("GET http:/info HTTP/1.0\r\n\r\n")})),n.on("data",(e=>{i+=e.toString()})),n.on("error",(()=>{n=!1,e({})})),n.on("end",(()=>{let r=i.indexOf("\r\n\r\n");i=i.substring(r+4),n=!1;try{t=JSON.parse(i),e(t)}catch(t){e({})}}))}catch(t){e({})}}listImages(e,t){try{let n,i=r.createConnection({path:s}),a="";i.on("connect",(()=>{i.write("GET http:/images/json"+(e?"?all=1":"")+" HTTP/1.0\r\n\r\n")})),i.on("data",(e=>{a+=e.toString()})),i.on("error",(()=>{i=!1,t({})})),i.on("end",(()=>{let e=a.indexOf("\r\n\r\n");a=a.substring(e+4),i=!1;try{n=JSON.parse(a),t(n)}catch(e){t({})}}))}catch(e){t({})}}inspectImage(e,t){if(e=e||"")try{let n,i=r.createConnection({path:s}),a="";i.on("connect",(()=>{i.write("GET http:/images/"+e+"/json?stream=0 HTTP/1.0\r\n\r\n")})),i.on("data",(e=>{a+=e.toString()})),i.on("error",(()=>{i=!1,t({})})),i.on("end",(()=>{let e=a.indexOf("\r\n\r\n");a=a.substring(e+4),i=!1;try{n=JSON.parse(a),t(n)}catch(e){t({})}}))}catch(e){t({})}else t({})}listContainers(e,t){try{let n,i=r.createConnection({path:s}),a="";i.on("connect",(()=>{i.write("GET http:/containers/json"+(e?"?all=1":"")+" HTTP/1.0\r\n\r\n")})),i.on("data",(e=>{a+=e.toString()})),i.on("error",(()=>{i=!1,t({})})),i.on("end",(()=>{let e=a.indexOf("\r\n\r\n");a=a.substring(e+4),i=!1;try{n=JSON.parse(a),t(n)}catch(e){t({})}}))}catch(e){t({})}}getStats(e,t){if(e=e||"")try{let n,i=r.createConnection({path:s}),a="";i.on("connect",(()=>{i.write("GET http:/containers/"+e+"/stats?stream=0 HTTP/1.0\r\n\r\n")})),i.on("data",(e=>{a+=e.toString()})),i.on("error",(()=>{i=!1,t({})})),i.on("end",(()=>{let e=a.indexOf("\r\n\r\n");a=a.substring(e+4),i=!1;try{n=JSON.parse(a),t(n)}catch(e){t({})}}))}catch(e){t({})}else t({})}getInspect(e,t){if(e=e||"")try{let n,i=r.createConnection({path:s}),a="";i.on("connect",(()=>{i.write("GET http:/containers/"+e+"/json?stream=0 HTTP/1.0\r\n\r\n")})),i.on("data",(e=>{a+=e.toString()})),i.on("error",(()=>{i=!1,t({})})),i.on("end",(()=>{let e=a.indexOf("\r\n\r\n");a=a.substring(e+4),i=!1;try{n=JSON.parse(a),t(n)}catch(e){t({})}}))}catch(e){t({})}else t({})}getProcesses(e,t){if(e=e||"")try{let n,i=r.createConnection({path:s}),a="";i.on("connect",(()=>{i.write("GET http:/containers/"+e+"/top?ps_args=-opid,ppid,pgid,vsz,time,etime,nice,ruser,user,rgroup,group,stat,rss,args HTTP/1.0\r\n\r\n")})),i.on("data",(e=>{a+=e.toString()})),i.on("error",(()=>{i=!1,t({})})),i.on("end",(()=>{let e=a.indexOf("\r\n\r\n");a=a.substring(e+4),i=!1;try{n=JSON.parse(a),t(n)}catch(e){t({})}}))}catch(e){t({})}else t({})}listVolumes(e){try{let t,n=r.createConnection({path:s}),i="";n.on("connect",(()=>{n.write("GET http:/volumes HTTP/1.0\r\n\r\n")})),n.on("data",(e=>{i+=e.toString()})),n.on("error",(()=>{n=!1,e({})})),n.on("end",(()=>{let r=i.indexOf("\r\n\r\n");i=i.substring(r+4),n=!1;try{t=JSON.parse(i),e(t)}catch(t){e({})}}))}catch(t){e({})}}}},9336:(e,t,n)=>{"use strict";const r=n(9778),s=n(7147),i=n(2081).exec,a=n(2081).execSync,o=r.promisifySave(n(2081).exec);let l=process.platform;const c="linux"===l||"android"===l,u="darwin"===l,p="win32"===l,d="freebsd"===l,f="openbsd"===l,m="netbsd"===l,g="sunos"===l;let h={},y={};function v(e){let t=[];return e.filter((e=>""!==e)).forEach((e=>{try{e=(e=decodeURIComponent(e.replace(/\\x/g,"%"))).replace(/\\/g,"\\\\");let n=JSON.parse(e);t.push({name:n.name,type:n.type,fsType:n.fsType,mount:n.mountpoint,size:parseInt(n.size),physical:"disk"===n.type?"0"===n.rota?"SSD":"HDD":"rom"===n.type?"CD/DVD":"",uuid:n.uuid,label:n.label,model:n.model,serial:n.serial,removable:"1"===n.rm,protocol:n.tran,group:n.group})}catch(e){r.noop()}})),t=r.unique(t),t=r.sortByKey(t,["type","name"]),t}function w(e){return e.toString().replace(/NAME=/g,'{"name":').replace(/FSTYPE=/g,',"fsType":').replace(/TYPE=/g,',"type":').replace(/SIZE=/g,',"size":').replace(/MOUNTPOINT=/g,',"mountpoint":').replace(/UUID=/g,',"uuid":').replace(/ROTA=/g,',"rota":').replace(/RO=/g,',"ro":').replace(/RM=/g,',"rm":').replace(/TRAN=/g,',"tran":').replace(/SERIAL=/g,',"serial":').replace(/LABEL=/g,',"label":').replace(/MODEL=/g,',"model":').replace(/OWNER=/g,',"owner":').replace(/GROUP=/g,',"group":').replace(/\n/g,"}\n")}function S(e,t){let n={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0};return h&&h.ms?(n.rx=e,n.wx=t,n.tx=n.rx+n.wx,n.ms=Date.now()-h.ms,n.rx_sec=(n.rx-h.bytes_read)/(n.ms/1e3),n.wx_sec=(n.wx-h.bytes_write)/(n.ms/1e3),n.tx_sec=n.rx_sec+n.wx_sec,h.rx_sec=n.rx_sec,h.wx_sec=n.wx_sec,h.tx_sec=n.tx_sec,h.bytes_read=n.rx,h.bytes_write=n.wx,h.bytes_overall=n.rx+n.wx,h.ms=Date.now(),h.last_ms=n.ms):(n.rx=e,n.wx=t,n.tx=n.rx+n.wx,h.rx_sec=null,h.wx_sec=null,h.tx_sec=null,h.bytes_read=n.rx,h.bytes_write=n.wx,h.bytes_overall=n.rx+n.wx,h.ms=Date.now(),h.last_ms=0),n}function x(e,t,n,r,s){let i={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0};return y&&y.ms?(i.rIO=e,i.wIO=t,i.tIO=e+t,i.ms=Date.now()-y.ms,i.rIO_sec=(i.rIO-y.rIO)/(i.ms/1e3),i.wIO_sec=(i.wIO-y.wIO)/(i.ms/1e3),i.tIO_sec=i.rIO_sec+i.wIO_sec,i.rWaitTime=n,i.wWaitTime=r,i.tWaitTime=s,i.rWaitPercent=100*(i.rWaitTime-y.rWaitTime)/i.ms,i.wWaitPercent=100*(i.wWaitTime-y.wWaitTime)/i.ms,i.tWaitPercent=100*(i.tWaitTime-y.tWaitTime)/i.ms,y.rIO=e,y.wIO=t,y.rIO_sec=i.rIO_sec,y.wIO_sec=i.wIO_sec,y.tIO_sec=i.tIO_sec,y.rWaitTime=n,y.wWaitTime=r,y.tWaitTime=s,y.rWaitPercent=i.rWaitPercent,y.wWaitPercent=i.wWaitPercent,y.tWaitPercent=i.tWaitPercent,y.last_ms=i.ms,y.ms=Date.now()):(i.rIO=e,i.wIO=t,i.tIO=e+t,i.rWaitTime=n,i.wWaitTime=r,i.tWaitTime=s,y.rIO=e,y.wIO=t,y.rIO_sec=null,y.wIO_sec=null,y.tIO_sec=null,y.rWaitTime=n,y.wWaitTime=r,y.tWaitTime=s,y.rWaitPercent=null,y.wWaitPercent=null,y.tWaitPercent=null,y.last_ms=0,y.ms=Date.now()),i}t.fsSize=function(e){let t=[];function n(e){let n=[];return e.forEach((function(e){if(""!==e&&(e=e.replace(/ +/g," ").split(" "))&&(e[0].startsWith("/")||e[6]&&"/"===e[6]||e[0].indexOf("/")>0||1===e[0].indexOf(":"))){const r=e[0],s=c||d||f||m?e[1]:function(e){if(!e.startsWith("/"))return"NFS";const n=e.split("/"),r=n[n.length-1],s=t.filter((e=>e.indexOf(r)>=0));return 1===s.length&&s[0].indexOf("APFS")>=0?"APFS":"HFS"}(e[0]),i=1024*parseInt(c||d||f||m?e[2]:e[1]),a=1024*parseInt(c||d||f||m?e[3]:e[2]),o=1024*parseInt(c||d||f||m?e[4]:e[3]),l=parseFloat((a/(a+o)*100).toFixed(2));e.splice(0,c||d||f||m?6:5);const u=e.join(" ");n.find((e=>e.fs===r&&e.type===s))||n.push({fs:r,type:s,size:i,used:a,available:o,use:l,mount:u})}})),n}return new Promise((s=>{process.nextTick((()=>{let o=[];if(c||d||f||m||u){let r="";if(u){r="df -kP";try{t=a("diskutil list").toString().split("\n").filter((e=>!e.startsWith("/")&&e.indexOf(":")>0))}catch(e){t=[]}}c&&(r='df -lkPTx squashfs | grep  -E "^/|^.\\:"'),(d||f||m)&&(r="df -lkPT"),i(r,{maxBuffer:1048576},(function(t,r){if(t)i("df -kPT",{maxBuffer:1048576},(function(t,r){if(!t){let e=r.toString().split("\n");o=n(e)}e&&e(o),s(o)}));else{let t=r.toString().split("\n");o=n(t),e&&e(o),s(o)}}))}if(g&&(e&&e(o),s(o)),p)try{r.powerShell("Get-WmiObject Win32_logicaldisk | select Caption,FileSystem,FreeSpace,Size | fl").then(((t,n)=>{n||t.toString().split(/\n\s*\n/).forEach((function(e){let t=e.split("\r\n");const n=r.toInt(r.getValue(t,"size",":")),s=r.toInt(r.getValue(t,"freespace",":")),i=r.getValue(t,"caption",":");n&&o.push({fs:i,type:r.getValue(t,"filesystem",":"),size:n,used:n-s,available:s,use:parseFloat((100*(n-s)/n).toFixed(2)),mount:i})})),e&&e(o),s(o)}))}catch(t){e&&e(o),s(o)}}))}))},t.fsOpenFiles=function(e){return new Promise((t=>{process.nextTick((()=>{const n={max:null,allocated:null,available:null};(d||f||m||u)&&i("sysctl -i kern.maxfiles kern.num_files kern.open_files",{maxBuffer:1048576},(function(s,i){if(!s){let e=i.toString().split("\n");n.max=parseInt(r.getValue(e,"kern.maxfiles",":"),10),n.allocated=parseInt(r.getValue(e,"kern.num_files",":"),10)||parseInt(r.getValue(e,"kern.open_files",":"),10),n.available=n.max-n.allocated}e&&e(n),t(n)})),c&&s.readFile("/proc/sys/fs/file-nr",(function(r,i){if(r)s.readFile("/proc/sys/fs/file-max",(function(r,s){if(!r){let e=s.toString().split("\n");e[0]&&(n.max=parseInt(e[0],10))}e&&e(n),t(n)}));else{let r=i.toString().split("\n");if(r[0]){const e=r[0].replace(/\s+/g," ").split(" ");3===e.length&&(n.allocated=parseInt(e[0],10),n.available=parseInt(e[1],10),n.max=parseInt(e[2],10),n.available||(n.available=n.max-n.allocated))}e&&e(n),t(n)}})),g&&(e&&e(null),t(null)),p&&(e&&e(null),t(null))}))}))},t.blockDevices=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];if(c&&i("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,TRAN,SERIAL,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1048576},(function(r,s){if(r)i("lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER 2>/dev/null",{maxBuffer:1048576},(function(r,s){if(!r){let e=w(s).split("\n");n=v(e)}e&&e(n),t(n)}));else{let r=w(s).split("\n");n=v(r),e&&e(n),t(n)}})),u&&i("diskutil info -all",{maxBuffer:1048576},(function(r,s){if(!r){let e=s.toString().split("\n");n=function(e){let t=[],n=0;return e.forEach((e=>{if(e.length>0)if("*"===e[0])n++;else{let s=e.split(":");s.length>1&&(t[n]||(t[n]={name:"",identifier:"",type:"disk",fsType:"",mount:"",size:0,physical:"HDD",uuid:"",label:"",model:"",serial:"",removable:!1,protocol:""}),s[0]=s[0].trim().toUpperCase().replace(/ +/g,""),s[1]=s[1].trim(),"DEVICEIDENTIFIER"===s[0]&&(t[n].identifier=s[1]),"DEVICENODE"===s[0]&&(t[n].name=s[1]),"VOLUMENAME"===s[0]&&-1===s[1].indexOf("Not applicable")&&(t[n].label=s[1]),"PROTOCOL"===s[0]&&(t[n].protocol=s[1]),"DISKSIZE"===s[0]&&(t[n].size=(r=s[1],parseInt(r.substr(r.indexOf(" (")+2,r.indexOf(" Bytes)")-10)))),"FILESYSTEMPERSONALITY"===s[0]&&(t[n].fsType=s[1]),"MOUNTPOINT"===s[0]&&(t[n].mount=s[1]),"VOLUMEUUID"===s[0]&&(t[n].uuid=s[1]),"READ-ONLYMEDIA"===s[0]&&"Yes"===s[1]&&(t[n].physical="CD/DVD"),"SOLIDSTATE"===s[0]&&"Yes"===s[1]&&(t[n].physical="SSD"),"VIRTUAL"===s[0]&&(t[n].type="virtual"),"REMOVABLEMEDIA"===s[0]&&(t[n].removable="Removable"===s[1]),"PARTITIONTYPE"===s[0]&&(t[n].type="part"),"DEVICE/MEDIANAME"===s[0]&&(t[n].model=s[1]))}var r})),t}(e)}e&&e(n),t(n)})),g&&(e&&e(n),t(n)),p){let s=["Unknown","NoRoot","Removable","Local","Network","CD/DVD","RAM"];try{r.powerShell("Get-CimInstance -ClassName Win32_LogicalDisk | select Caption,DriveType,Name,FileSystem,Size,VolumeSerialNumber,VolumeName | fl").then(((i,a)=>{a||i.toString().split(/\n\s*\n/).forEach((function(e){let t=e.split("\r\n"),i=r.getValue(t,"drivetype",":");i&&n.push({name:r.getValue(t,"name",":"),identifier:r.getValue(t,"caption",":"),type:"disk",fsType:r.getValue(t,"filesystem",":").toLowerCase(),mount:r.getValue(t,"caption",":"),size:r.getValue(t,"size",":"),physical:i>=0&&i<=6?s[i]:s[0],uuid:r.getValue(t,"volumeserialnumber",":"),label:r.getValue(t,"volumename",":"),model:"",serial:r.getValue(t,"volumeserialnumber",":"),removable:"2"===i,protocol:""})})),e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}}(d||f||m)&&(e&&e(null),t(null))}))}))},t.fsStats=function(e){return new Promise((t=>{process.nextTick((()=>{if(p||d||f||m||g)return t(null);let n={rx:0,wx:0,tx:0,rx_sec:null,wx_sec:null,tx_sec:null,ms:0},r=0,s=0;h&&!h.ms||h&&h.ms&&Date.now()-h.ms>=500?(c&&i("lsblk -r 2>/dev/null | grep /",{maxBuffer:1048576},(function(a,o){if(a)e&&e(n),t(n);else{let a=o.toString().split("\n"),l=[];a.forEach((function(e){""!==e&&(e=e.trim().split(" "),-1===l.indexOf(e[0])&&l.push(e[0]))}));let c=l.join("|");i('cat /proc/diskstats | egrep "'+c+'"',{maxBuffer:1048576},(function(i,a){i||(a.toString().split("\n").forEach((function(e){""!==(e=e.trim())&&(e=e.replace(/ +/g," ").split(" "),r+=512*parseInt(e[5]),s+=512*parseInt(e[9]))})),n=S(r,s)),e&&e(n),t(n)}))}})),u&&i('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,\n"',{maxBuffer:1048576},(function(i,a){i||(a.toString().split("\n").forEach((function(e){""!==(e=e.trim())&&(e=e.split(","),r+=parseInt(e[2]),s+=parseInt(e[9]))})),n=S(r,s)),e&&e(n),t(n)}))):(n.ms=h.last_ms,n.rx=h.bytes_read,n.wx=h.bytes_write,n.tx=h.bytes_read+h.bytes_write,n.rx_sec=h.rx_sec,n.wx_sec=h.wx_sec,n.tx_sec=h.tx_sec,e&&e(n),t(n))}))}))},t.disksIO=function(e){return new Promise((t=>{process.nextTick((()=>{if(p)return t(null);if(g)return t(null);let n={rIO:0,wIO:0,tIO:0,rIO_sec:null,wIO_sec:null,tIO_sec:null,rWaitTime:0,wWaitTime:0,tWaitTime:0,rWaitPercent:null,wWaitPercent:null,tWaitPercent:null,ms:0},r=0,s=0,a=0,o=0,l=0;y&&!y.ms||y&&y.ms&&Date.now()-y.ms>=500?((c||d||f||m)&&i('for mount in `lsblk 2>/dev/null | grep " disk " | sed "s/[â”‚â””â”€â”œ]//g" | awk \'{$1=$1};1\' | cut -d " " -f 1 | sort -u`; do cat /sys/block/$mount/stat | sed -r "s/ +/;/g" | sed -r "s/^;//"; done',{maxBuffer:1048576},(function(i,c){i?(e&&e(n),t(n)):(c.split("\n").forEach((function(e){if(!e)return;let t=e.split(";");r+=parseInt(t[0]),s+=parseInt(t[4]),a+=parseInt(t[3]),o+=parseInt(t[7]),l+=parseInt(t[10])})),n=x(r,s,a,o,l),e&&e(n),t(n))})),u&&i('ioreg -c IOBlockStorageDriver -k Statistics -r -w0 | sed -n "/IOBlockStorageDriver/,/Statistics/p" | grep "Statistics" | tr -cd "01234567890,\n"',{maxBuffer:1048576},(function(i,c){i||(c.toString().split("\n").forEach((function(e){""!==(e=e.trim())&&(e=e.split(","),r+=parseInt(e[10]),s+=parseInt(e[0]))})),n=x(r,s,a,o,l)),e&&e(n),t(n)}))):(n.rIO=y.rIO,n.wIO=y.wIO,n.tIO=y.rIO+y.wIO,n.ms=y.last_ms,n.rIO_sec=y.rIO_sec,n.wIO_sec=y.wIO_sec,n.tIO_sec=y.tIO_sec,n.rWaitTime=y.rWaitTime,n.wWaitTime=y.wWaitTime,n.tWaitTime=y.tWaitTime,n.rWaitPercent=y.rWaitPercent,n.wWaitPercent=y.wWaitPercent,n.tWaitPercent=y.tWaitPercent,e&&e(n),t(n))}))}))},t.diskLayout=function(e){function t(e){let t="";return e&&(e=e.toUpperCase(),[{pattern:"WESTERN.*",manufacturer:"Western Digital"},{pattern:"^WDC.*",manufacturer:"Western Digital"},{pattern:"WD.*",manufacturer:"Western Digital"},{pattern:"TOSHIBA.*",manufacturer:"Toshiba"},{pattern:"HITACHI.*",manufacturer:"Hitachi"},{pattern:"^IC.*",manufacturer:"Hitachi"},{pattern:"^HTS.*",manufacturer:"Hitachi"},{pattern:"SANDISK.*",manufacturer:"SanDisk"},{pattern:"KINGSTON.*",manufacturer:"Kingston Technology"},{pattern:"^SONY.*",manufacturer:"Sony"},{pattern:"TRANSCEND.*",manufacturer:"Transcend"},{pattern:"SAMSUNG.*",manufacturer:"Samsung"},{pattern:"^ST(?!I\\ ).*",manufacturer:"Seagate"},{pattern:"^STI\\ .*",manufacturer:"SimpleTech"},{pattern:"^D...-.*",manufacturer:"IBM"},{pattern:"^IBM.*",manufacturer:"IBM"},{pattern:"^FUJITSU.*",manufacturer:"Fujitsu"},{pattern:"^MP.*",manufacturer:"Fujitsu"},{pattern:"^MK.*",manufacturer:"Toshiba"},{pattern:"MAXTO.*",manufacturer:"Maxtor"},{pattern:"PIONEER.*",manufacturer:"Pioneer"},{pattern:"PHILIPS.*",manufacturer:"Philips"},{pattern:"QUANTUM.*",manufacturer:"Quantum Technology"},{pattern:"FIREBALL.*",manufacturer:"Quantum Technology"},{pattern:"^VBOX.*",manufacturer:"VirtualBox"},{pattern:"CORSAIR.*",manufacturer:"Corsair Components"},{pattern:"CRUCIAL.*",manufacturer:"Crucial"},{pattern:"ECM.*",manufacturer:"ECM"},{pattern:"INTEL.*",manufacturer:"INTEL"},{pattern:"EVO.*",manufacturer:"Samsung"},{pattern:"APPLE.*",manufacturer:"Apple"}].forEach((n=>{RegExp(n.pattern).test(e)&&(t=n.manufacturer)}))),t}return new Promise((n=>{process.nextTick((()=>{const s=t=>{for(let e=0;e<t.length;e++)delete t[e].BSDName;e&&e(t),n(t)};let l=[],h="";if(c){let e="";i("export LC_ALL=C; lsblk -ablJO 2>/dev/null; unset LC_ALL",{maxBuffer:1048576},(function(n,o){if(!n)try{const n=o.toString().trim();let s=[];try{const e=JSON.parse(n);e&&{}.hasOwnProperty.call(e,"blockdevices")&&(s=e.blockdevices.filter((e=>"disk"===e.type&&e.size>0&&(null!==e.model||null===e.mountpoint&&null===e.label&&null===e.fsType&&null===e.parttype))))}catch(e){s=v(w(a("export LC_ALL=C; lsblk -bPo NAME,TYPE,SIZE,FSTYPE,MOUNTPOINT,UUID,ROTA,RO,RM,LABEL,MODEL,OWNER,GROUP 2>/dev/null; unset LC_ALL").toString()).split("\n")).filter((e=>"disk"===e.type&&e.size>0&&(null!==e.model&&""!==e.model||""===e.mount&&""===e.label&&""===e.fsType)))}s.forEach((n=>{let s="";const i="/dev/"+n.name,o=n.name;try{s=a("cat /sys/block/"+o+"/queue/rotational 2>/dev/null").toString().split("\n")[0]}catch(e){r.noop()}let c=n.tran?n.tran.toUpperCase().trim():"";"NVME"===c&&(s="2",c="PCIe"),l.push({device:i,type:"0"===s?"SSD":"1"===s?"HD":"2"===s?"NVMe":n.model&&n.model.indexOf("SSD")>-1?"SSD":n.model&&n.model.indexOf("NVM")>-1?"NVMe":"HD",name:n.model||"",vendor:t(n.model)||(n.vendor?n.vendor.trim():""),size:n.size||0,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:n.rev?n.rev.trim():"",serialNum:n.serial?n.serial.trim():"",interfaceType:c,smartStatus:"unknown",temperature:null,BSDName:i}),h+=`printf "\n${i}|"; smartctl -H ${i} | grep overall;`,e+=`${e?'printf ",";':""}smartctl -a -j ${i};`}))}catch(e){r.noop()}e?i(e,{maxBuffer:1048576},(function(e,t){try{JSON.parse(`[${t}]`).forEach((e=>{const t=e.smartctl.argv[e.smartctl.argv.length-1];for(let n=0;n<l.length;n++)l[n].BSDName===t&&(l[n].smartStatus=e.smart_status.passed?"Ok":!1===e.smart_status.passed?"Predicted Failure":"unknown",e.temperature&&e.temperature.current&&(l[n].temperature=e.temperature.current),l[n].smartData=e)})),s(l)}catch(e){h?(h+='printf "\n"',i(h,{maxBuffer:1048576},(function(e,t){t.toString().split("\n").forEach((e=>{if(e){let t=e.split("|");if(2===t.length){let e=t[0];t[1]=t[1].trim();let n=t[1].split(":");if(2===n.length){n[1]=n[1].trim();let t=n[1].toLowerCase();for(let n=0;n<l.length;n++)l[n].BSDName===e&&(l[n].smartStatus="passed"===t?"Ok":"failed!"===t?"Predicted Failure":"unknown")}}}})),s(l)}))):s(l)}})):s(l)}))}if((d||f||m)&&(e&&e(l),n(l)),g&&(e&&e(l),n(l)),u&&i("system_profiler SPSerialATADataType SPNVMeDataType SPUSBDataType",{maxBuffer:1048576},(function(s,a){if(!s){let s=a.toString().split("\n"),o=[],c=[],u=[],p="SATA";s.forEach((e=>{"NVMExpress:"===e?p="NVMe":"USB:"===e?p="USB":"SATA/SATA Express:"===e?p="SATA":"SATA"===p?o.push(e):"NVMe"===p?c.push(e):"USB"===p&&u.push(e)}));try{let e=o.join("\n").split(" Physical Interconnect: ");e.shift(),e.forEach((function(e){let n=(e="InterfaceType: "+e).split("\n");const s=r.getValue(n,"Medium Type",":",!0).trim(),i=r.getValue(n,"capacity",":",!0).trim(),a=r.getValue(n,"BSD Name",":",!0).trim();if(i){let e=0;if(i.indexOf("(")>=0&&(e=parseInt(i.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),e||(e=parseInt(i)),e){const i=r.getValue(n,"S.M.A.R.T. status",":",!0).trim().toLowerCase();l.push({device:a,type:s.startsWith("Solid")?"SSD":"HD",name:r.getValue(n,"Model",":",!0).trim(),vendor:t(r.getValue(n,"Model",":",!0).trim())||r.getValue(n,"Manufacturer",":",!0),size:e,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:r.getValue(n,"Revision",":",!0).trim(),serialNum:r.getValue(n,"Serial Number",":",!0).trim(),interfaceType:r.getValue(n,"InterfaceType",":",!0).trim(),smartStatus:"verified"===i?"OK":i||"unknown",temperature:null,BSDName:a}),h=h+'printf "\n'+a+'|"; diskutil info /dev/'+a+" | grep SMART;"}}}))}catch(e){r.noop()}try{let e=c.join("\n").split("\n\n          Capacity:");e.shift(),e.forEach((function(e){let n=(e="!Capacity: "+e).split("\n");const s=r.getValue(n,"link width",":",!0).trim(),i=r.getValue(n,"!capacity",":",!0).trim(),a=r.getValue(n,"BSD Name",":",!0).trim();if(i){let e=0;if(i.indexOf("(")>=0&&(e=parseInt(i.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),e||(e=parseInt(i)),e){const i=r.getValue(n,"S.M.A.R.T. status",":",!0).trim().toLowerCase();l.push({device:a,type:"NVMe",name:r.getValue(n,"Model",":",!0).trim(),vendor:t(r.getValue(n,"Model",":",!0).trim()),size:e,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:r.getValue(n,"Revision",":",!0).trim(),serialNum:r.getValue(n,"Serial Number",":",!0).trim(),interfaceType:("PCIe "+s).trim(),smartStatus:"verified"===i?"OK":i||"unknown",temperature:null,BSDName:a}),h=h+'printf "\n'+a+'|"; diskutil info /dev/'+a+" | grep SMART;"}}}))}catch(e){r.noop()}try{let e=u.join("\n").replaceAll("Media:\n ","Model:").split("\n\n          Product ID:");e.shift(),e.forEach((function(e){let n=e.split("\n");const s=r.getValue(n,"Capacity",":",!0).trim(),i=r.getValue(n,"BSD Name",":",!0).trim();if(s){let e=0;if(s.indexOf("(")>=0&&(e=parseInt(s.match(/\(([^)]+)\)/)[1].replace(/\./g,"").replace(/,/g,"").replace(/\s/g,""))),e||(e=parseInt(s)),e){const s=r.getValue(n,"S.M.A.R.T. status",":",!0).trim().toLowerCase();l.push({device:i,type:"USB",name:r.getValue(n,"Model",":",!0).trim().replaceAll(":",""),vendor:t(r.getValue(n,"Model",":",!0).trim()),size:e,bytesPerSector:null,totalCylinders:null,totalHeads:null,totalSectors:null,totalTracks:null,tracksPerCylinder:null,sectorsPerTrack:null,firmwareRevision:r.getValue(n,"Revision",":",!0).trim(),serialNum:r.getValue(n,"Serial Number",":",!0).trim(),interfaceType:"USB",smartStatus:"verified"===s?"OK":s||"unknown",temperature:null,BSDName:i}),h=h+'printf "\n'+i+'|"; diskutil info /dev/'+i+" | grep SMART;"}}}))}catch(e){r.noop()}if(h)h+='printf "\n"',i(h,{maxBuffer:1048576},(function(t,r){r.toString().split("\n").forEach((e=>{if(e){let t=e.split("|");if(2===t.length){let e=t[0];t[1]=t[1].trim();let n=t[1].split(":");if(2===n.length){n[1]=n[1].trim();let t=n[1].toLowerCase();for(let n=0;n<l.length;n++)l[n].BSDName===e&&(l[n].smartStatus="not supported"===t?"not supported":"verified"===t?"Ok":"failing"===t?"Predicted Failure":"unknown")}}}}));for(let e=0;e<l.length;e++)delete l[e].BSDName;e&&e(l),n(l)}));else{for(let e=0;e<l.length;e++)delete l[e].BSDName;e&&e(l),n(l)}}})),p)try{const s=[];if(s.push(r.powerShell("Get-WmiObject Win32_DiskDrive | select Caption,Size,Status,PNPDeviceId,BytesPerSector,TotalCylinders,TotalHeads,TotalSectors,TotalTracks,TracksPerCylinder,SectorsPerTrack,FirmwareRevision,SerialNumber,InterfaceType | fl")),s.push(r.powerShell("Get-PhysicalDisk | select BusType,MediaType,FriendlyName,Model,SerialNumber,Size | fl")),r.smartMonToolsInstalled())try{const e=JSON.parse(a("smartctl --scan -j"));e&&e.devices&&e.devices.length>0&&e.devices.forEach((e=>{s.push(o(`smartctl -j -a ${e.name}`,r.execOptsWin))}))}catch(e){r.noop()}r.promiseAll(s).then((s=>{let i=s.results[0].toString().split(/\n\s*\n/);i.forEach((function(e){let n=e.split("\r\n");const s=r.getValue(n,"Size",":").trim(),i=r.getValue(n,"Status",":").trim().toLowerCase();s&&l.push({device:r.getValue(n,"PNPDeviceId",":"),type:e.indexOf("SSD")>-1?"SSD":"HD",name:r.getValue(n,"Caption",":"),vendor:t(r.getValue(n,"Caption",":",!0).trim()),size:parseInt(s),bytesPerSector:parseInt(r.getValue(n,"BytesPerSector",":")),totalCylinders:parseInt(r.getValue(n,"TotalCylinders",":")),totalHeads:parseInt(r.getValue(n,"TotalHeads",":")),totalSectors:parseInt(r.getValue(n,"TotalSectors",":")),totalTracks:parseInt(r.getValue(n,"TotalTracks",":")),tracksPerCylinder:parseInt(r.getValue(n,"TracksPerCylinder",":")),sectorsPerTrack:parseInt(r.getValue(n,"SectorsPerTrack",":")),firmwareRevision:r.getValue(n,"FirmwareRevision",":").trim(),serialNum:r.getValue(n,"SerialNumber",":").trim(),interfaceType:r.getValue(n,"InterfaceType",":").trim(),smartStatus:"ok"===i?"Ok":"degraded"===i?"Degraded":"pred fail"===i?"Predicted Failure":"Unknown",temperature:null})})),i=s.results[1].split(/\n\s*\n/),i.forEach((function(e){let t=e.split("\r\n");const n=r.getValue(t,"SerialNumber",":").trim(),s=r.getValue(t,"FriendlyName",":").trim().replace("Msft ","Microsoft"),i=r.getValue(t,"Size",":").trim(),a=r.getValue(t,"Model",":").trim(),o=r.getValue(t,"BusType",":").trim();let c=r.getValue(t,"MediaType",":").trim();if("3"!==c&&"HDD"!==c||(c="HD"),"4"===c&&(c="SSD"),"5"===c&&(c="SCM"),"Unspecified"===c&&(a.toLowerCase().indexOf("virtual")>-1||a.toLowerCase().indexOf("vbox")>-1)&&(c="Virtual"),i){let e=r.findObjectByKey(l,"serialNum",n);-1!==e&&""!==n||(e=r.findObjectByKey(l,"name",s)),-1!=e&&(l[e].type=c,l[e].interfaceType=o)}})),s.results.shift(),s.results.shift(),s.results.length&&s.results.forEach((e=>{try{const t=JSON.parse(e);if(t.serial_number){const e=t.serial_number;let n=r.findObjectByKey(l,"serialNum",e);-1!=n&&(l[n].smartStatus=t.smart_status&&t.smart_status.passed?"Ok":t.smart_status&&!1===t.smart_status.passed?"Predicted Failure":"unknown",t.temperature&&t.temperature.current&&(l[n].temperature=t.temperature.current),l[n].smartData=t)}}catch(e){r.noop()}})),e&&e(l),n(l)}))}catch(t){e&&e(l),n(l)}}))}))}},7316:(e,t,n)=>{"use strict";const r=n(7147),s=n(2081).exec,i=n(2081).execSync,a=n(9778);let o=process.platform,l="";const c="linux"===o||"android"===o,u="darwin"===o,p="win32"===o,d="freebsd"===o,f="openbsd"===o,m="netbsd"===o,g="sunos"===o;let h=0,y=0,v=0,w=0;const S={"-2":"UNINITIALIZED","-1":"OTHER",0:"HD15",1:"SVIDEO",2:"Composite video",3:"Component video",4:"DVI",5:"HDMI",6:"LVDS",8:"D_JPN",9:"SDI",10:"DP",11:"DP embedded",12:"UDI",13:"UDI embedded",14:"SDTVDONGLE",15:"MIRACAST",2147483648:"INTERNAL"};function x(e){let t="";return e&&(e=e.toUpperCase(),[{pattern:"^LG.+",manufacturer:"LG"},{pattern:"^BENQ.+",manufacturer:"BenQ"},{pattern:"^ASUS.+",manufacturer:"Asus"},{pattern:"^DELL.+",manufacturer:"Dell"},{pattern:"^SAMSUNG.+",manufacturer:"Samsung"},{pattern:"^VIEWSON.+",manufacturer:"ViewSonic"},{pattern:"^SONY.+",manufacturer:"Sony"},{pattern:"^ACER.+",manufacturer:"Acer"},{pattern:"^AOC.+",manufacturer:"AOC Monitors"},{pattern:"^HP.+",manufacturer:"HP"},{pattern:"^EIZO.?",manufacturer:"Eizo"},{pattern:"^PHILIPS.?",manufacturer:"Philips"},{pattern:"^IIYAMA.?",manufacturer:"Iiyama"},{pattern:"^SHARP.?",manufacturer:"Sharp"},{pattern:"^NEC.?",manufacturer:"NEC"},{pattern:"^LENOVO.?",manufacturer:"Lenovo"},{pattern:"COMPAQ.?",manufacturer:"Compaq"},{pattern:"APPLE.?",manufacturer:"Apple"},{pattern:"INTEL.?",manufacturer:"Intel"},{pattern:"AMD.?",manufacturer:"AMD"},{pattern:"NVIDIA.?",manufacturer:"NVDIA"}].forEach((n=>{RegExp(n.pattern).test(e)&&(t=n.manufacturer)}))),t}function b(e){let t="";return(e=(e||"").toLowerCase()).indexOf("apple")>=0?t="0x05ac":e.indexOf("nvidia")>=0?t="0x10de":e.indexOf("intel")>=0?t="0x8086":(e.indexOf("ati")>=0||e.indexOf("amd")>=0)&&(t="0x1002"),t}t.graphics=function(e){function t(){function e(e){return[null,void 0].includes(e)?e:parseFloat(e)}const t=function(e){const t=function(){if(l)return l;if(p)try{const e=a.WINDIR+"\\System32\\DriverStore\\FileRepository",t=r.readdirSync(e).filter((t=>r.readdirSync([e,t].join("/")).includes("nvidia-smi.exe"))).reduce(((t,n)=>{const s=r.statSync([e,t,"nvidia-smi.exe"].join("/")),i=r.statSync([e,n,"nvidia-smi.exe"].join("/"));return s.ctimeMs>i.ctimeMs?t:n}));t&&(l=[e,t,"nvidia-smi.exe"].join("/"))}catch(e){a.noop()}else c&&(l="nvidia-smi");return l}();if(e=e||a.execOptsWin,t){const n=t+" --query-gpu=driver_version,pci.sub_device_id,name,pci.bus_id,fan.speed,memory.total,memory.used,memory.free,utilization.gpu,utilization.memory,temperature.gpu,temperature.memory,power.draw,power.limit,clocks.gr,clocks.mem --format=csv,noheader,nounits"+(c?"  2>/dev/null":"");try{return i(n,e).toString()}catch(e){a.noop()}}return""}();return t?t.split("\n").filter(Boolean).map((t=>{const n=t.split(", ").map((e=>e.includes("N/A")?void 0:e));if(16===n.length)return{driverVersion:n[0],subDeviceId:n[1],name:n[2],pciBus:n[3],fanSpeed:e(n[4]),memoryTotal:e(n[5]),memoryUsed:e(n[6]),memoryFree:e(n[7]),utilizationGpu:e(n[8]),utilizationMemory:e(n[9]),temperatureGpu:e(n[10]),temperatureMemory:e(n[11]),powerDraw:e(n[12]),powerLimit:e(n[13]),clockCore:e(n[14]),clockMemory:e(n[15])}})):[]}function n(e,t){return t.driverVersion&&(e.driverVersion=t.driverVersion),t.subDeviceId&&(e.subDeviceId=t.subDeviceId),t.name&&(e.name=t.name),t.pciBus&&(e.pciBus=t.pciBus),t.fanSpeed&&(e.fanSpeed=t.fanSpeed),t.memoryTotal&&(e.memoryTotal=t.memoryTotal,e.vram=t.memoryTotal,e.vramDynamic=!1),t.memoryUsed&&(e.memoryUsed=t.memoryUsed),t.memoryFree&&(e.memoryFree=t.memoryFree),t.utilizationGpu&&(e.utilizationGpu=t.utilizationGpu),t.utilizationMemory&&(e.utilizationMemory=t.utilizationMemory),t.temperatureGpu&&(e.temperatureGpu=t.temperatureGpu),t.temperatureMemory&&(e.temperatureMemory=t.temperatureMemory),t.powerDraw&&(e.powerDraw=t.powerDraw),t.powerLimit&&(e.powerLimit=t.powerLimit),t.clockCore&&(e.clockCore=t.clockCore),t.clockMemory&&(e.clockMemory=t.clockMemory),e}function o(e){let t={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},n=108;if("000000"===e.substr(n,6)&&(n+=36),"000000"===e.substr(n,6)&&(n+=36),"000000"===e.substr(n,6)&&(n+=36),"000000"===e.substr(n,6)&&(n+=36),t.resolutionX=parseInt("0x0"+e.substr(n+8,1)+e.substr(n+4,2)),t.resolutionY=parseInt("0x0"+e.substr(n+14,1)+e.substr(n+10,2)),t.sizeX=parseInt("0x0"+e.substr(n+28,1)+e.substr(n+24,2)),t.sizeY=parseInt("0x0"+e.substr(n+29,1)+e.substr(n+26,2)),n=e.indexOf("000000fc00"),n>=0){let r=e.substr(n+10,26);-1!==r.indexOf("0a")&&(r=r.substr(0,r.indexOf("0a")));try{r.length>2&&(t.model=r.match(/.{1,2}/g).map((function(e){return String.fromCharCode(parseInt(e,16))})).join(""))}catch(e){a.noop()}}else t.model="";return t}return new Promise((r=>{process.nextTick((()=>{let l={controllers:[],displays:[]};if(u&&s("system_profiler -xml -detailLevel full SPDisplaysDataType",(function(t,n){if(!t)try{let e=n.toString();l=function(e){const t={controllers:[],displays:[]};try{return e.forEach((function(e){const n=(e.sppci_bus||"").indexOf("builtin")>-1?"Built-In":(e.sppci_bus||"").indexOf("pcie")>-1?"PCIe":"",r=(parseInt(e.spdisplays_vram||"",10)||0)*((e.spdisplays_vram||"").indexOf("GB")>-1?1024:1),s=(parseInt(e.spdisplays_vram_shared||"",10)||0)*((e.spdisplays_vram_shared||"").indexOf("GB")>-1?1024:1);let i={spdisplays_mtlgpufamilymac1:"mac1",spdisplays_mtlgpufamilymac2:"mac2",spdisplays_mtlgpufamilyapple1:"apple1",spdisplays_mtlgpufamilyapple2:"apple2",spdisplays_mtlgpufamilyapple3:"apple3",spdisplays_mtlgpufamilyapple4:"apple4",spdisplays_mtlgpufamilyapple5:"apple5",spdisplays_mtlgpufamilyapple6:"apple6",spdisplays_mtlgpufamilyapple7:"apple7",spdisplays_metalfeaturesetfamily11:"family1_v1",spdisplays_metalfeaturesetfamily12:"family1_v2",spdisplays_metalfeaturesetfamily13:"family1_v3",spdisplays_metalfeaturesetfamily14:"family1_v4",spdisplays_metalfeaturesetfamily21:"family2_v1"}[e.spdisplays_metal||e.spdisplays_metalfamily||""]||"";t.controllers.push({vendor:x(e.spdisplays_vendor||"")||e.spdisplays_vendor||"",model:e.sppci_model||"",bus:n,vramDynamic:"Built-In"===n,vram:r||s||null,deviceId:e["spdisplays_device-id"]||"",vendorId:e["spdisplays_vendor-id"]||b((e.spdisplays_vendor||"")+(e.sppci_model||"")),external:"spdisplays_egpu"===e.sppci_device_type,cores:e.sppci_cores||null,metalVersion:i}),e.spdisplays_ndrvs&&e.spdisplays_ndrvs.length&&e.spdisplays_ndrvs.forEach((function(e){const n=e.spdisplays_connection_type||"",r=(e._spdisplays_resolution||"").split("@"),s=r[0].split("x"),i=(e._spdisplays_pixels||"").split("x"),a=e.spdisplays_depth||"",o=e["_spdisplays_display-serial-number"]||e["_spdisplays_display-serial-number2"]||null;var l;t.displays.push({vendor:(l=e["_spdisplays_display-vendor-id"]||"",{610:"Apple","1e6d":"LG","10ac":"DELL","4dd9":"Sony","38a3":"NEC"}[l]||""||x(e._name||"")),vendorId:e["_spdisplays_display-vendor-id"]||"",model:e._name||"",productionYear:e["_spdisplays_display-year"]||null,serial:"0"!==o?o:null,displayId:e._spdisplays_displayID||null,main:!!e.spdisplays_main&&"spdisplays_yes"===e.spdisplays_main,builtin:(e.spdisplays_display_type||"").indexOf("built-in")>-1,connection:n.indexOf("_internal")>-1?"Internal":n.indexOf("_displayport")>-1?"Display Port":n.indexOf("_hdmi")>-1?"HDMI":null,sizeX:null,sizeY:null,pixelDepth:"CGSThirtyBitColor"===a?30:"CGSThirtytwoBitColor"===a?32:"CGSTwentyfourBitColor"===a?24:null,resolutionX:i.length>1?parseInt(i[0],10):null,resolutionY:i.length>1?parseInt(i[1],10):null,currentResX:s.length>1?parseInt(s[0],10):null,currentResY:s.length>1?parseInt(s[1],10):null,positionX:0,positionY:0,currentRefreshRate:r.length>1?parseInt(r[1],10):null})}))})),t}catch(e){return t}}(a.plistParser(e)[0]._items)}catch(e){a.noop()}e&&e(l),r(l)})),c&&(a.isRaspberry()&&a.isRaspbian()?s("fbset -s | grep 'mode \"'; vcgencmd get_mem gpu; tvservice -s; tvservice -n;",(function(t,n){let s=n.toString().split("\n");if(s.length>3&&s[0].indexOf('mode "')>=-1&&s[2].indexOf("0x12000a")>-1){const e=s[0].replace("mode","").replace(/"/g,"").trim().split("x");2===e.length&&l.displays.push({vendor:"",model:a.getValue(s,"device_name","="),main:!0,builtin:!1,connection:"HDMI",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:parseInt(e[0],10),resolutionY:parseInt(e[1],10),currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null})}s.length>1&&n.toString().indexOf("gpu=")>=-1&&l.controllers.push({vendor:"Broadcom",model:"VideoCore IV",bus:"",vram:a.getValue(s,"gpu","=").replace("M",""),vramDynamic:!0}),e&&e(l),r(l)})):s("lspci -vvv  2>/dev/null",(function(c,u){if(!c){let e=u.toString().split("\n");l.controllers=function(e){let t=[],n={vendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1,pciID:""},r=!1,s=[];try{s=i('export LC_ALL=C; dmidecode -t 9 2>/dev/null; unset LC_ALL | grep "Bus Address: "').toString().split("\n");for(let e=0;e<s.length;e++)s[e]=s[e].replace("Bus Address:","").replace("0000:","").trim();s=s.filter((function(e){return null!=e&&e}))}catch(e){a.noop()}for(let i=0;i<e.length;i++)if(""!==e[i].trim()){if(" "!==e[i][0]&&"\t"!==e[i][0]){let a=s.indexOf(e[i].split(" ")[0])>=0,o=e[i].toLowerCase().indexOf(" vga "),l=e[i].toLowerCase().indexOf("3d controller");if(-1!==o||-1!==l){-1!==l&&-1===o&&(o=l),(n.vendor||n.model||n.bus||null!==n.vram||n.vramDynamic)&&(t.push(n),n={vendor:"",model:"",bus:"",busAddress:"",vram:null,vramDynamic:!1});const c=e[i].split(" ")[0];/[\da-fA-F]{2}:[\da-fA-F]{2}\.[\da-fA-F]/.test(c)&&(n.busAddress=c),r=!0;let u=e[i].search(/\[[0-9a-f]{4}:[0-9a-f]{4}]|$/),p=e[i].substr(o,u-o).split(":");n.busAddress=e[i].substr(0,o).trim(),p.length>1&&(p[1]=p[1].trim(),p[1].toLowerCase().indexOf("corporation")>=0?(n.vendor=p[1].substr(0,p[1].toLowerCase().indexOf("corporation")+11).trim(),n.model=p[1].substr(p[1].toLowerCase().indexOf("corporation")+11,200).trim().split("(")[0],n.bus=s.length>0&&a?"PCIe":"Onboard",n.vram=null,n.vramDynamic=!1):p[1].toLowerCase().indexOf(" inc.")>=0?((p[1].match(new RegExp("]","g"))||[]).length>1?(n.vendor=p[1].substr(0,p[1].toLowerCase().indexOf("]")+1).trim(),n.model=p[1].substr(p[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(n.vendor=p[1].substr(0,p[1].toLowerCase().indexOf(" inc.")+5).trim(),n.model=p[1].substr(p[1].toLowerCase().indexOf(" inc.")+5,200).trim().split("(")[0].trim()),n.bus=s.length>0&&a?"PCIe":"Onboard",n.vram=null,n.vramDynamic=!1):p[1].toLowerCase().indexOf(" ltd.")>=0&&((p[1].match(new RegExp("]","g"))||[]).length>1?(n.vendor=p[1].substr(0,p[1].toLowerCase().indexOf("]")+1).trim(),n.model=p[1].substr(p[1].toLowerCase().indexOf("]")+1,200).trim().split("(")[0].trim()):(n.vendor=p[1].substr(0,p[1].toLowerCase().indexOf(" ltd.")+5).trim(),n.model=p[1].substr(p[1].toLowerCase().indexOf(" ltd.")+5,200).trim().split("(")[0].trim())))}else r=!1}if(r){let t=e[i].split(":");if(t.length>1&&-1!==t[0].replace(/ +/g,"").toLowerCase().indexOf("devicename")&&-1!==t[1].toLowerCase().indexOf("onboard")&&(n.bus="Onboard"),t.length>1&&-1!==t[0].replace(/ +/g,"").toLowerCase().indexOf("region")&&-1!==t[1].toLowerCase().indexOf("memory")){let e=t[1].split("=");e.length>1&&(n.vram=parseInt(e[1]))}}}return(n.vendor||n.model||n.bus||n.busAddress||null!==n.vram||n.vramDynamic)&&t.push(n),t}(e);const r=t();l.controllers=l.controllers.map((e=>n(e,r.find((t=>t.pciBus.toLowerCase().endsWith(e.busAddress.toLowerCase())))||{})))}s("clinfo --raw",(function(t,n){if(!t){let e=n.toString().split("\n");l.controllers=function(e,t){const n=/\[([^\]]+)\]\s+(\w+)\s+(.*)/,r=t.reduce(((e,t)=>{const r=n.exec(t.trim());return r&&(e[r[1]]||(e[r[1]]={}),e[r[1]][r[2]]=r[3]),e}),{});for(let t in r){const n=r[t];if("CL_DEVICE_TYPE_GPU"===n.CL_DEVICE_TYPE){let t;if(n.CL_DEVICE_TOPOLOGY_AMD){const e=n.CL_DEVICE_TOPOLOGY_AMD.match(/[a-zA-Z0-9]+:\d+\.\d+/);e&&(t=e[0])}else if(n.CL_DEVICE_PCI_BUS_ID_NV&&n.CL_DEVICE_PCI_SLOT_ID_NV){const e=parseInt(n.CL_DEVICE_PCI_BUS_ID_NV),r=parseInt(n.CL_DEVICE_PCI_SLOT_ID_NV);if(!isNaN(e)&&!isNaN(r)){const n=r>>3&255,s=7&r;t=`${(255&e).toString().padStart(2,"0")}:${n.toString().padStart(2,"0")}.${s}`}}if(t){let r=e.find((e=>e.busAddress===t));r||(r={vendor:"",model:"",bus:"",busAddress:t,vram:null,vramDynamic:!1},e.push(r)),r.vendor=n.CL_DEVICE_VENDOR,n.CL_DEVICE_BOARD_NAME_AMD?r.model=n.CL_DEVICE_BOARD_NAME_AMD:r.model=n.CL_DEVICE_NAME;const s=parseInt(n.CL_DEVICE_GLOBAL_MEM_SIZE);isNaN(s)||(r.vram=Math.round(s/1024/1024))}}}return e}(l.controllers,e)}s("xdpyinfo 2>/dev/null | grep 'depth of root window' | awk '{ print $5 }'",(function(t,n){let i=0;if(!t){let e=n.toString().split("\n");i=parseInt(e[0])||0}s("xrandr --verbose 2>/dev/null",(function(t,n){if(!t){let e=n.toString().split("\n");l.displays=function(e,t){let n=[],r={vendor:"",model:"",deviceName:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null},s=!1,i=!1,l="",c=0;for(let u=1;u<e.length;u++)if(""!==e[u].trim()){if(" "!==e[u][0]&&"\t"!==e[u][0]&&-1!==e[u].toLowerCase().indexOf(" connected ")){(r.model||r.main||r.builtin||r.connection||null!==r.sizeX||null!==r.pixelDepth||null!==r.resolutionX)&&(n.push(r),r={vendor:"",model:"",main:!1,builtin:!1,connection:"",sizeX:null,sizeY:null,pixelDepth:null,resolutionX:null,resolutionY:null,currentResX:null,currentResY:null,positionX:0,positionY:0,currentRefreshRate:null});let t=e[u].split(" ");r.connection=t[0],r.main=e[u].toLowerCase().indexOf(" primary ")>=0,r.builtin=t[0].toLowerCase().indexOf("edp")>=0}if(s)if(e[u].search(/\S|$/)>c)l+=e[u].toLowerCase().trim();else{let e=o(l);r.vendor=e.vendor,r.model=e.model,r.resolutionX=e.resolutionX,r.resolutionY=e.resolutionY,r.sizeX=e.sizeX,r.sizeY=e.sizeY,r.pixelDepth=t,s=!1}if(e[u].toLowerCase().indexOf("edid:")>=0&&(s=!0,c=e[u].search(/\S|$/)),e[u].toLowerCase().indexOf("*current")>=0){const t=e[u].split("(");if(t&&t.length>1&&t[0].indexOf("x")>=0){const e=t[0].trim().split("x");r.currentResX=a.toInt(e[0]),r.currentResY=a.toInt(e[1])}i=!0}if(i&&e[u].toLowerCase().indexOf("clock")>=0&&e[u].toLowerCase().indexOf("hz")>=0&&e[u].toLowerCase().indexOf("v: height")>=0){const t=e[u].split("clock");t&&t.length>1&&t[1].toLowerCase().indexOf("hz")>=0&&(r.currentRefreshRate=a.toInt(t[1])),i=!1}}return(r.model||r.main||r.builtin||r.connection||null!==r.sizeX||null!==r.pixelDepth||null!==r.resolutionX)&&n.push(r),n}(e,i)}e&&e(l),r(l)}))}))}))}))),(d||f||m)&&(e&&e(null),r(null)),g&&(e&&e(null),r(null)),p)try{const s=[];s.push(a.powerShell("Get-WmiObject win32_VideoController | fl *")),s.push(a.powerShell('gp "HKLM:\\SYSTEM\\ControlSet001\\Control\\Class\\{4d36e968-e325-11ce-bfc1-08002be10318}\\*" -ErrorAction SilentlyContinue | where MatchingDeviceId $null -NE | select MatchingDeviceId,HardwareInformation.qwMemorySize | fl')),s.push(a.powerShell("Get-WmiObject win32_desktopmonitor | fl *")),s.push(a.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorBasicDisplayParams | fl")),s.push(a.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.Screen]::AllScreens")),s.push(a.powerShell("Get-CimInstance -Namespace root\\wmi -ClassName WmiMonitorConnectionParams | fl")),s.push(a.powerShell('gwmi WmiMonitorID -Namespace root\\wmi | ForEach-Object {(($_.ManufacturerName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.ProductCodeID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.UserFriendlyName -notmatch 0 | foreach {[char]$_}) -join "") + "|" + (($_.SerialNumberID -notmatch 0 | foreach {[char]$_}) -join "") + "|" + $_.InstanceName}'));const i=t();Promise.all(s).then((t=>{let s=t[0].replace(/\r/g,"").split(/\n\s*\n/),o=t[1].replace(/\r/g,"").split(/\n\s*\n/);l.controllers=function(e,t){const n={};for(const e in t)if({}.hasOwnProperty.call(t,e)&&""!==t[e].trim()){const r=t[e].trim().split("\n"),s=a.getValue(r,"MatchingDeviceId").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i);if(s){const e=parseInt(a.getValue(r,"HardwareInformation.qwMemorySize"));if(!isNaN(e)){let t=s[1].toUpperCase()+"&"+s[2].toUpperCase();s[3]&&(t+="&"+s[3].toUpperCase()),s[4]&&(t+="&"+s[4].toUpperCase()),n[t]=e}}}let r=[];for(let t in e)if({}.hasOwnProperty.call(e,t)&&""!==e[t].trim()){let s=e[t].trim().split("\n"),i=a.getValue(s,"PNPDeviceID",":").match(/PCI\\(VEN_[0-9A-F]{4})&(DEV_[0-9A-F]{4})(?:&(SUBSYS_[0-9A-F]{8}))?(?:&(REV_[0-9A-F]{2}))?/i),o=null,l=null;if(i){if(o=i[3]||"",o&&(o=o.split("_")[1]),null==l&&i[3]&&i[4]){const e=i[1].toUpperCase()+"&"+i[2].toUpperCase()+"&"+i[3].toUpperCase()+"&"+i[4].toUpperCase();({}).hasOwnProperty.call(n,e)&&(l=n[e])}if(null==l&&i[3]){const e=i[1].toUpperCase()+"&"+i[2].toUpperCase()+"&"+i[3].toUpperCase();({}).hasOwnProperty.call(n,e)&&(l=n[e])}if(null==l&&i[4]){const e=i[1].toUpperCase()+"&"+i[2].toUpperCase()+"&"+i[4].toUpperCase();({}).hasOwnProperty.call(n,e)&&(l=n[e])}if(null==l){const e=i[1].toUpperCase()+"&"+i[2].toUpperCase();({}).hasOwnProperty.call(n,e)&&(l=n[e])}}r.push({vendor:a.getValue(s,"AdapterCompatibility",":"),model:a.getValue(s,"name",":"),bus:a.getValue(s,"PNPDeviceID",":").startsWith("PCI")?"PCI":"",vram:(null==l?a.toInt(a.getValue(s,"AdapterRAM",":")):l)/1024/1024,vramDynamic:"2"===a.getValue(s,"VideoMemoryType",":"),subDeviceId:o}),h=a.toInt(a.getValue(s,"CurrentHorizontalResolution",":"))||h,y=a.toInt(a.getValue(s,"CurrentVerticalResolution",":"))||y,w=a.toInt(a.getValue(s,"CurrentRefreshRate",":"))||w,v=a.toInt(a.getValue(s,"CurrentBitsPerPixel",":"))||v}return r}(s,o),l.controllers=l.controllers.map((e=>"nvidia"===e.vendor.toLowerCase()?n(e,i.find((t=>{let n=(e.subDeviceId||"").toLowerCase();const r=t.subDeviceId.split("x");let s=r.length>1?r[1].toLowerCase():r[0].toLowerCase();const i=Math.abs(n.length-s.length);if(n.length>s.length)for(let e=0;e<i;e++)s="0"+s;else if(n.length<s.length)for(let e=0;e<i;e++)n="0"+n;return n===s}))||{}):e));let c=t[2].replace(/\r/g,"").split(/\n\s*\n/);""===c[0].trim()&&c.shift(),c.length&&""===c[c.length-1].trim()&&c.pop();let u=t[3].replace(/\r/g,"").split("Active ");u.shift();let p=t[4].replace(/\r/g,"").split("BitsPerPixel ");p.shift();let d=t[5].replace(/\r/g,"").split(/\n\s*\n/);d.shift();const f=t[6].replace(/\r/g,"").split(/\n/);let m=[];f.forEach((e=>{const t=e.split("|");5===t.length&&m.push({vendor:t[0],code:t[1],model:t[2],serial:t[3],instanceId:t[4]})})),l.displays=function(e,t,n,r,s){let i=[],o="",l="",c="",u=0,p=0;if(n&&n.length){let e=n[0].split("\n");o=a.getValue(e,"MonitorManufacturer",":"),l=a.getValue(e,"Name",":"),c=a.getValue(e,"PNPDeviceID",":").replace(/&amp;/g,"&").toLowerCase(),u=a.toInt(a.getValue(e,"ScreenWidth",":")),p=a.toInt(a.getValue(e,"ScreenHeight",":"))}for(let n=0;n<e.length;n++)if(""!==e[n].trim()){e[n]="BitsPerPixel "+e[n],t[n]="Active "+t[n],0!==r.length&&void 0!==r[n]||(r[n]="Unknown");let u=e[n].split("\n"),p=t[n].split("\n"),d=r[n].split("\n");const f=a.getValue(u,"BitsPerPixel"),m=a.getValue(u,"Bounds").replace("{","").replace("}","").replace(/=/g,":").split(","),g=a.getValue(u,"Primary"),h=a.getValue(p,"MaxHorizontalImageSize"),y=a.getValue(p,"MaxVerticalImageSize"),v=a.getValue(p,"InstanceName").toLowerCase(),w=a.getValue(d,"VideoOutputTechnology"),x=a.getValue(u,"DeviceName");let b="",O="";s.forEach((e=>{e.instanceId.toLowerCase().startsWith(v)&&o.startsWith("(")&&l.startsWith("PnP")&&(b=e.vendor,O=e.model)})),i.push({vendor:v.startsWith(c)&&""===b?o:b,model:v.startsWith(c)&&""===O?l:O,deviceName:x,main:"true"===g.toLowerCase(),builtin:"2147483648"===w,connection:w&&S[w]?S[w]:"",resolutionX:a.toInt(a.getValue(m,"Width",":")),resolutionY:a.toInt(a.getValue(m,"Height",":")),sizeX:h?parseInt(h,10):null,sizeY:y?parseInt(y,10):null,pixelDepth:f,currentResX:a.toInt(a.getValue(m,"Width",":")),currentResY:a.toInt(a.getValue(m,"Height",":")),positionX:a.toInt(a.getValue(m,"X",":")),positionY:a.toInt(a.getValue(m,"Y",":"))})}return 0===e.length&&i.push({vendor:o,model:l,main:!0,sizeX:null,sizeY:null,resolutionX:u,resolutionY:p,pixelDepth:null,currentResX:u,currentResY:p,positionX:0,positionY:0}),i}(p,u,c,d,m),1===l.displays.length&&(h&&(l.displays[0].resolutionX=h,l.displays[0].currentResX||(l.displays[0].currentResX=h)),y&&(l.displays[0].resolutionY=y,0===l.displays[0].currentResY&&(l.displays[0].currentResY=y)),v&&(l.displays[0].pixelDepth=v),w&&!l.displays[0].currentRefreshRate&&(l.displays[0].currentRefreshRate=w)),e&&e(l),r(l)})).catch((()=>{e&&e(l),r(l)}))}catch(t){e&&e(l),r(l)}}))}))}},4455:(e,t,n)=>{"use strict";const r=n(3435).i8,s=n(9778),i=n(5664),a=n(6416),o=n(9177),l=n(9003),c=n(9467),u=n(7316),p=n(9336),d=n(3497),f=n(3200),m=n(8563),g=n(6137),h=n(2898),y=n(3526),v=n(8911),w=n(9423),S=n(5249),x=n(9163),b=n(5591);let O=process.platform;const C="win32"===O,_="freebsd"===O,I="openbsd"===O,L="netbsd"===O,P="sunos"===O;function E(){return r}function V(e){return new Promise((t=>{process.nextTick((()=>{let n={};n.version=E(),Promise.all([i.system(),i.bios(),i.baseboard(),i.chassis(),a.osInfo(),a.uuid(),a.versions(),o.cpu(),o.cpuFlags(),u.graphics(),d.networkInterfaces(),l.memLayout(),p.diskLayout()]).then((r=>{n.system=r[0],n.bios=r[1],n.baseboard=r[2],n.chassis=r[3],n.os=r[4],n.uuid=r[5],n.versions=r[6],n.cpu=r[7],n.cpu.flags=r[8],n.graphics=r[9],n.net=r[10],n.memLayout=r[11],n.diskLayout=r[12],e&&e(n),t(n)}))}))}))}function T(e,t,n){return s.isFunction(t)&&(n=t,t=""),s.isFunction(e)&&(n=e,e=""),new Promise((r=>{process.nextTick((()=>{t=t||d.getDefaultNetworkInterface(),e=e||"";let s=function(){let e=15;return C&&(e=13),(_||I||L)&&(e=11),P&&(e=6),function(){0==--e&&(n&&n(i),r(i))}}(),i={};i.time=a.time(),i.node=process.versions.node,i.v8=process.versions.v8,o.cpuCurrentSpeed().then((e=>{i.cpuCurrentSpeed=e,s()})),g.users().then((e=>{i.users=e,s()})),m.processes().then((e=>{i.processes=e,s()})),o.currentLoad().then((e=>{i.currentLoad=e,s()})),P||o.cpuTemperature().then((e=>{i.temp=e,s()})),I||_||L||P||d.networkStats(t).then((e=>{i.networkStats=e,s()})),P||d.networkConnections().then((e=>{i.networkConnections=e,s()})),l.mem().then((e=>{i.mem=e,s()})),P||c().then((e=>{i.battery=e,s()})),P||m.services(e).then((e=>{i.services=e,s()})),P||p.fsSize().then((e=>{i.fsSize=e,s()})),C||I||_||L||P||p.fsStats().then((e=>{i.fsStats=e,s()})),C||I||_||L||P||p.disksIO().then((e=>{i.disksIO=e,s()})),I||_||L||P||f.wifiNetworks().then((e=>{i.wifiNetworks=e,s()})),h.inetLatency().then((e=>{i.inetLatency=e,s()}))}))}))}function k(e,n){return new Promise((r=>{process.nextTick((()=>{const s=Object.keys(e).filter((e=>({}.hasOwnProperty.call(t,e)))).map((n=>{const r=e[n].substring(e[n].lastIndexOf("(")+1,e[n].lastIndexOf(")"));let s=n.indexOf(")")>=0?n.split(")")[1].trim():n;return s=n.indexOf("|")>=0?n.split("|")[0].trim():s,r?t[s](r):t[s]("")}));Promise.all(s).then((s=>{const i={};let a=0;for(let n in e)if({}.hasOwnProperty.call(e,n)&&{}.hasOwnProperty.call(t,n)&&s.length>a){if("*"===e[n]||"all"===e[n])i[n]=s[a];else{let t=e[n],r="",o=[];if(t.indexOf(")")>=0&&(t=t.split(")")[1].trim()),t.indexOf("|")>=0&&(r=t.split("|")[1].trim(),o=r.split(":"),t=t.split("|")[0].trim()),t=t.replace(/,/g," ").replace(/ +/g," ").split(" "),s[a])if(Array.isArray(s[a])){const e=[];s[a].forEach((n=>{let s={};if(1!==t.length||"*"!==t[0]&&"all"!==t[0]?t.forEach((e=>{({}).hasOwnProperty.call(n,e)&&(s[e]=n[e])})):s=n,r&&2===o.length){if({}.hasOwnProperty.call(s,o[0].trim())){const t=s[o[0].trim()];"number"==typeof t?t===parseFloat(o[1].trim())&&e.push(s):"string"==typeof t&&t.toLowerCase()===o[1].trim().toLowerCase()&&e.push(s)}}else e.push(s)})),i[n]=e}else{const e={};t.forEach((t=>{({}).hasOwnProperty.call(s[a],t)&&(e[t]=s[a][t])})),i[n]=e}else i[n]={}}a++}n&&n(i),r(i)}))}))}))}C&&s.getCodepage(),t.version=E,t.system=i.system,t.bios=i.bios,t.baseboard=i.baseboard,t.chassis=i.chassis,t.time=a.time,t.osInfo=a.osInfo,t.versions=a.versions,t.shell=a.shell,t.uuid=a.uuid,t.cpu=o.cpu,t.cpuFlags=o.cpuFlags,t.cpuCache=o.cpuCache,t.cpuCurrentSpeed=o.cpuCurrentSpeed,t.cpuTemperature=o.cpuTemperature,t.currentLoad=o.currentLoad,t.fullLoad=o.fullLoad,t.mem=l.mem,t.memLayout=l.memLayout,t.battery=c,t.graphics=u.graphics,t.fsSize=p.fsSize,t.fsOpenFiles=p.fsOpenFiles,t.blockDevices=p.blockDevices,t.fsStats=p.fsStats,t.disksIO=p.disksIO,t.diskLayout=p.diskLayout,t.networkInterfaceDefault=d.networkInterfaceDefault,t.networkGatewayDefault=d.networkGatewayDefault,t.networkInterfaces=d.networkInterfaces,t.networkStats=d.networkStats,t.networkConnections=d.networkConnections,t.wifiNetworks=f.wifiNetworks,t.wifiInterfaces=f.wifiInterfaces,t.wifiConnections=f.wifiConnections,t.services=m.services,t.processes=m.processes,t.processLoad=m.processLoad,t.users=g.users,t.inetChecksite=h.inetChecksite,t.inetLatency=h.inetLatency,t.dockerInfo=y.dockerInfo,t.dockerImages=y.dockerImages,t.dockerContainers=y.dockerContainers,t.dockerContainerStats=y.dockerContainerStats,t.dockerContainerProcesses=y.dockerContainerProcesses,t.dockerVolumes=y.dockerVolumes,t.dockerAll=y.dockerAll,t.vboxInfo=v.vboxInfo,t.printer=w.printer,t.usb=S.usb,t.audio=x.audio,t.bluetoothDevices=b.bluetoothDevices,t.getStaticData=V,t.getDynamicData=T,t.getAllData=function(e,t,n){return new Promise((r=>{process.nextTick((()=>{let i={};t&&s.isFunction(t)&&!n&&(n=t,t=""),e&&s.isFunction(e)&&!t&&!n&&(n=e,e="",t=""),V().then((s=>{i=s,T(e,t).then((e=>{for(let t in e)({}).hasOwnProperty.call(e,t)&&(i[t]=e[t]);n&&n(i),r(i)}))}))}))}))},t.get=k,t.observe=function(e,t,n){let r=null;return setInterval((()=>{k(e).then((e=>{JSON.stringify(r)!==JSON.stringify(e)&&(r=Object.assign({},e),n(e))}))}),t)},t.powerShellStart=s.powerShellStart,t.powerShellRelease=s.powerShellRelease},2898:(e,t,n)=>{"use strict";const r=n(9778);let s=process.platform;const i="linux"===s||"android"===s,a="darwin"===s,o="win32"===s,l="freebsd"===s,c="openbsd"===s,u="netbsd"===s,p="sunos"===s;t.inetChecksite=function(e,t){return new Promise((s=>{process.nextTick((()=>{let d={url:e,ok:!1,status:404,ms:null};if("string"!=typeof e)return t&&t(d),s(d);let f="";const m=r.sanitizeShellString(e,!0);for(let e=0;e<=r.mathMin(m.length,2e3);e++)if(void 0!==m[e]){m[e].__proto__.toLowerCase=r.stringToLower;const t=m[e].toLowerCase();t&&t[0]&&!t[1]&&1===t[0].length&&(f+=t[0])}d.url=f;try{if(f&&!r.isPrototypePolluted()){if(f.__proto__.startsWith=r.stringStartWith,f.startsWith("file:")||f.startsWith("gopher:")||f.startsWith("telnet:")||f.startsWith("mailto:")||f.startsWith("news:")||f.startsWith("nntp:"))return t&&t(d),s(d);let e=Date.now();if(i||l||c||u||a||p){let n=["-I","--connect-timeout","5","-m","5"];n.push(f);let i="curl";r.execSafe(i,n).then((n=>{const r=n.split("\n");let i=r[0]&&r[0].indexOf(" ")>=0?parseInt(r[0].split(" ")[1],10):404;d.status=i||404,d.ok=200===i||301===i||302===i||304===i,d.ms=d.ok?Date.now()-e:null,t&&t(d),s(d)}))}if(o){const r=f.startsWith("https:")?n(5687):n(3685);try{r.get(f,(n=>{const r=n.statusCode;d.status=r||404,d.ok=200===r||301===r||302===r||304===r,200!==r?(n.resume(),d.ms=d.ok?Date.now()-e:null,t&&t(d),s(d)):(n.on("data",(()=>{})),n.on("end",(()=>{d.ms=d.ok?Date.now()-e:null,t&&t(d),s(d)})))})).on("error",(()=>{t&&t(d),s(d)}))}catch(e){t&&t(d),s(d)}}}else t&&t(d),s(d)}catch(e){t&&t(d),s(d)}}))}))},t.inetLatency=function(e,t){return r.isFunction(e)&&!t&&(t=e,e=""),e=e||"8.8.8.8",new Promise((n=>{process.nextTick((()=>{if("string"!=typeof e)return t&&t(null),n(null);let s="";const d=(r.isPrototypePolluted()?"8.8.8.8":r.sanitizeShellString(e,!0)).trim();for(let e=0;e<=r.mathMin(d.length,2e3);e++)if(void 0!==d[e]){d[e].__proto__.toLowerCase=r.stringToLower;const t=d[e].toLowerCase();t&&t[0]&&!t[1]&&(s+=t[0])}if(s.__proto__.startsWith=r.stringStartWith,s.startsWith("file:")||s.startsWith("gopher:")||s.startsWith("telnet:")||s.startsWith("mailto:")||s.startsWith("news:")||s.startsWith("nntp:"))return t&&t(null),n(null);let f,m;if((i||l||c||u||a)&&(i&&(f=["-c","2","-w","3",s],m="rtt"),(l||c||u)&&(f=["-c","2","-t","3",s],m="round-trip"),a&&(f=["-c2","-t3",s],m="avg"),r.execSafe("ping",f).then((e=>{let r=null;if(e){const t=e.split("\n").filter((e=>e.indexOf(m)>=0)).join("\n"),n=t.split("=");if(n.length>1){const e=n[1].split("/");e.length>1&&(r=parseFloat(e[1]))}}t&&t(r),n(r)}))),p){const e=["-s","-a",s,"56","2"],i="avg";r.execSafe("ping",e,{timeout:3e3}).then((e=>{let r=null;if(e){const t=e.split("\n").filter((e=>e.indexOf(i)>=0)).join("\n"),n=t.split("=");if(n.length>1){const e=n[1].split("/");e.length>1&&(r=parseFloat(e[1].replace(",",".")))}}t&&t(r),n(r)}))}if(o){let e=null;try{const i=[s,"-n","1"];r.execSafe("ping",i,r.execOptsWin).then((r=>{if(r){let t=r.split("\r\n");t.shift(),t.forEach((function(t){if(3===(t.toLowerCase().match(/ms/g)||[]).length){let n=t.replace(/ +/g," ").split(" ");n.length>6&&(e=parseFloat(n[n.length-1]))}}))}t&&t(e),n(e)}))}catch(r){t&&t(e),n(e)}}}))}))}},9003:(e,t,n)=>{"use strict";const r=n(2037),s=n(2081).exec,i=n(2081).execSync,a=n(9778),o=n(7147);let l=process.platform;const c="linux"===l||"android"===l,u="darwin"===l,p="win32"===l,d="freebsd"===l,f="openbsd"===l,m="netbsd"===l,g="sunos"===l,h={"0x014F":"Transcend Information","0x2C00":"Micron Technology Inc.","0x802C":"Micron Technology Inc.","0x80AD":"Hynix Semiconductor Inc.","0x80CE":"Samsung Electronics Inc.","0xAD00":"Hynix Semiconductor Inc.","0xCE00":"Samsung Electronics Inc.","0x02FE":"Elpida","0x5105":"Qimonda AG i. In.","0x8551":"Qimonda AG i. In.","0x859B":"Crucial","0x04CD":"G-Skill"},y={"017A":"Apacer","0198":"HyperX","029E":"Corsair","04CB":"A-DATA","04CD":"G-Skill","059B":"Crucial","00CE":"Samsung",1315:"Crutial","014F":"Transcend Information","2C00":"Micron Technology Inc.","802C":"Micron Technology Inc.","80AD":"Hynix Semiconductor Inc.","80CE":"Samsung Electronics Inc.",AD00:"Hynix Semiconductor Inc.",CE00:"Samsung Electronics Inc.","02FE":"Elpida",5105:"Qimonda AG i. In.",8551:"Qimonda AG i. In.","859B":"Crucial"};t.mem=function(e){return new Promise((t=>{process.nextTick((()=>{let n={total:r.totalmem(),free:r.freemem(),used:r.totalmem()-r.freemem(),active:r.totalmem()-r.freemem(),available:r.freemem(),buffers:0,cached:0,slab:0,buffcache:0,swaptotal:0,swapused:0,swapfree:0};if(c&&o.readFile("/proc/meminfo",(function(s,i){if(!s){const e=i.toString().split("\n");n.total=parseInt(a.getValue(e,"memtotal"),10),n.total=n.total?1024*n.total:r.totalmem(),n.free=parseInt(a.getValue(e,"memfree"),10),n.free=n.free?1024*n.free:r.freemem(),n.used=n.total-n.free,n.buffers=parseInt(a.getValue(e,"buffers"),10),n.buffers=n.buffers?1024*n.buffers:0,n.cached=parseInt(a.getValue(e,"cached"),10),n.cached=n.cached?1024*n.cached:0,n.slab=parseInt(a.getValue(e,"slab"),10),n.slab=n.slab?1024*n.slab:0,n.buffcache=n.buffers+n.cached+n.slab;let t=parseInt(a.getValue(e,"memavailable"),10);n.available=t?1024*t:n.free+n.buffcache,n.active=n.total-n.available,n.swaptotal=parseInt(a.getValue(e,"swaptotal"),10),n.swaptotal=n.swaptotal?1024*n.swaptotal:0,n.swapfree=parseInt(a.getValue(e,"swapfree"),10),n.swapfree=n.swapfree?1024*n.swapfree:0,n.swapused=n.swaptotal-n.swapfree}e&&e(n),t(n)})),(d||f||m)&&s("/sbin/sysctl hw.realmem hw.physmem vm.stats.vm.v_page_count vm.stats.vm.v_wire_count vm.stats.vm.v_active_count vm.stats.vm.v_inactive_count vm.stats.vm.v_cache_count vm.stats.vm.v_free_count vm.stats.vm.v_page_size",(function(r,s){if(!r){let e=s.toString().split("\n");const t=parseInt(a.getValue(e,"vm.stats.vm.v_page_size"),10),r=parseInt(a.getValue(e,"vm.stats.vm.v_inactive_count"),10)*t,i=parseInt(a.getValue(e,"vm.stats.vm.v_cache_count"),10)*t;n.total=parseInt(a.getValue(e,"hw.realmem"),10),isNaN(n.total)&&(n.total=parseInt(a.getValue(e,"hw.physmem"),10)),n.free=parseInt(a.getValue(e,"vm.stats.vm.v_free_count"),10)*t,n.buffcache=r+i,n.available=n.buffcache+n.free,n.active=n.total-n.free-n.buffcache,n.swaptotal=0,n.swapfree=0,n.swapused=0}e&&e(n),t(n)})),g&&(e&&e(n),t(n)),u){let r=4096;try{let e=a.toInt(i("sysctl -n vm.pagesize").toString());r=e||r}catch(e){a.noop()}s('vm_stat 2>/dev/null | grep "Pages active"',(function(i,a){if(!i){let e=a.toString().split("\n");n.active=parseInt(e[0].split(":")[1],10)*r,n.buffcache=n.used-n.active,n.available=n.free+n.buffcache}s("sysctl -n vm.swapusage 2>/dev/null",(function(r,s){if(!r){let e=s.toString().split("\n");if(e.length>0){let t=e[0].replace(/,/g,".").replace(/M/g,"");t=t.trim().split("  ");for(let e=0;e<t.length;e++)-1!==t[e].toLowerCase().indexOf("total")&&(n.swaptotal=1024*parseFloat(t[e].split("=")[1].trim())*1024),-1!==t[e].toLowerCase().indexOf("used")&&(n.swapused=1024*parseFloat(t[e].split("=")[1].trim())*1024),-1!==t[e].toLowerCase().indexOf("free")&&(n.swapfree=1024*parseFloat(t[e].split("=")[1].trim())*1024)}}e&&e(n),t(n)}))}))}if(p){let r=0,s=0;try{a.powerShell("Get-CimInstance Win32_PageFileUsage | Select AllocatedBaseSize, CurrentUsage").then(((i,a)=>{a||i.split("\r\n").filter((e=>""!==e.trim())).filter(((e,t)=>t>0)).forEach((function(e){""!==e&&(e=e.trim().split(/\s\s+/),r+=parseInt(e[0],10)||0,s+=parseInt(e[1],10)||0)})),n.swaptotal=1024*r*1024,n.swapused=1024*s*1024,n.swapfree=n.swaptotal-n.swapused,e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}}}))}))},t.memLayout=function(e){function t(e){const t=e.replace("0x","").toUpperCase();return 4===t.length&&{}.hasOwnProperty.call(y,t)?y[t]:e}return new Promise((n=>{process.nextTick((()=>{let o=[];if((c||d||f||m)&&s('export LC_ALL=C; dmidecode -t memory 2>/dev/null | grep -iE "Size:|Type|Speed|Manufacturer|Form Factor|Locator|Memory Device|Serial Number|Voltage|Part Number"; unset LC_ALL',(function(s,l){if(!s){let e=l.toString().split("Memory Device");e.shift(),e.forEach((function(e){let n=e.split("\n");const r=a.getValue(n,"Size"),s=r.indexOf("GB")>=0?1024*parseInt(r,10)*1024*1024:1024*parseInt(r,10)*1024;if(parseInt(a.getValue(n,"Size"),10)>0){const e=a.toInt(a.getValue(n,"Total Width")),r=a.toInt(a.getValue(n,"Data Width"));o.push({size:s,bank:a.getValue(n,"Bank Locator"),type:a.getValue(n,"Type:"),ecc:!(!r||!e)&&e>r,clockSpeed:a.getValue(n,"Configured Clock Speed:")?parseInt(a.getValue(n,"Configured Clock Speed:"),10):a.getValue(n,"Speed:")?parseInt(a.getValue(n,"Speed:"),10):null,formFactor:a.getValue(n,"Form Factor:"),manufacturer:t(a.getValue(n,"Manufacturer:")),partNum:a.getValue(n,"Part Number:"),serialNum:a.getValue(n,"Serial Number:"),voltageConfigured:parseFloat(a.getValue(n,"Configured Voltage:"))||null,voltageMin:parseFloat(a.getValue(n,"Minimum Voltage:"))||null,voltageMax:parseFloat(a.getValue(n,"Maximum Voltage:"))||null})}else o.push({size:0,bank:a.getValue(n,"Bank Locator"),type:"Empty",ecc:null,clockSpeed:0,formFactor:a.getValue(n,"Form Factor:"),partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})}))}if(!o.length){o.push({size:r.totalmem(),bank:"",type:"",ecc:null,clockSpeed:0,formFactor:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null});try{let e=i("cat /proc/cpuinfo 2>/dev/null"),t=e.toString().split("\n"),n=a.getValue(t,"hardware",":",!0).toUpperCase(),r=a.getValue(t,"revision",":",!0).toLowerCase();if("BCM2835"===n||"BCM2708"===n||"BCM2709"===n||"BCM2835"===n||"BCM2837"===n){const n={0:400,1:450,2:450,3:3200};o[0].type="LPDDR2",o[0].type=r&&r[2]&&"3"===r[2]?"LPDDR4":o[0].type,o[0].ecc=!1,o[0].clockSpeed=r&&r[2]&&n[r[2]]||400,o[0].clockSpeed=r&&r[4]&&"d"===r[4]?500:o[0].clockSpeed,o[0].formFactor="SoC",e=i("vcgencmd get_config sdram_freq 2>/dev/null"),t=e.toString().split("\n");let s=parseInt(a.getValue(t,"sdram_freq","=",!0),10)||0;s&&(o[0].clockSpeed=s),e=i("vcgencmd measure_volts sdram_p 2>/dev/null"),t=e.toString().split("\n");let l=parseFloat(a.getValue(t,"volt","=",!0))||0;l&&(o[0].voltageConfigured=l,o[0].voltageMin=l,o[0].voltageMax=l)}}catch(e){a.noop()}}e&&e(o),n(o)})),u&&s("system_profiler SPMemoryDataType",(function(t,r){if(!t){const e=r.toString().split("\n"),t=a.getValue(e,"ecc",":",!0).toLowerCase();let n=r.toString().split("        BANK "),s=!0;1===n.length&&(n=r.toString().split("        DIMM"),s=!1),n.shift(),n.forEach((function(e){let n=e.split("\n");const r=(s?"BANK ":"DIMM")+n[0].trim().split("/")[0],i=parseInt(a.getValue(n,"          Size"));var l;i?o.push({size:1024*i*1024*1024,bank:r,type:a.getValue(n,"          Type:"),ecc:t?"enabled"===t:null,clockSpeed:parseInt(a.getValue(n,"          Speed:"),10),formFactor:"",manufacturer:(l=a.getValue(n,"          Manufacturer:"),{}.hasOwnProperty.call(h,l)?h[l]:l),partNum:a.getValue(n,"          Part Number:"),serialNum:a.getValue(n,"          Serial Number:"),voltageConfigured:null,voltageMin:null,voltageMax:null}):o.push({size:0,bank:r,type:"Empty",ecc:null,clockSpeed:0,formFactor:"",manufacturer:"",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})}))}if(!o.length){const e=r.toString().split("\n"),t=parseInt(a.getValue(e,"      Memory:")),n=a.getValue(e,"      Type:");t&&n&&o.push({size:1024*t*1024*1024,bank:"0",type:n,ecc:!1,clockSpeed:0,formFactor:"",manufacturer:"Apple",partNum:"",serialNum:"",voltageConfigured:null,voltageMin:null,voltageMax:null})}e&&e(o),n(o)})),g&&(e&&e(o),n(o)),p){const t="Unknown|Other|DRAM|Synchronous DRAM|Cache DRAM|EDO|EDRAM|VRAM|SRAM|RAM|ROM|FLASH|EEPROM|FEPROM|EPROM|CDRAM|3DRAM|SDRAM|SGRAM|RDRAM|DDR|DDR2|DDR2 FB-DIMM|Reserved|DDR3|FBD2|DDR4|LPDDR|LPDDR2|LPDDR3|LPDDR4".split("|"),r="Unknown|Other|SIP|DIP|ZIP|SOJ|Proprietary|SIMM|DIMM|TSOP|PGA|RIMM|SODIMM|SRIMM|SMD|SSMP|QFP|TQFP|SOIC|LCC|PLCC|BGA|FPBGA|LGA".split("|");try{a.powerShell("Get-WmiObject Win32_PhysicalMemory | select DataWidth,TotalWidth,Capacity,BankLabel,MemoryType,SMBIOSMemoryType,ConfiguredClockSpeed,FormFactor,Manufacturer,PartNumber,SerialNumber,ConfiguredVoltage,MinVoltage,MaxVoltage | fl").then(((s,i)=>{if(!i){let e=s.toString().split(/\n\s*\n/);e.shift(),e.forEach((function(e){let n=e.split("\r\n");const s=a.toInt(a.getValue(n,"DataWidth",":")),i=a.toInt(a.getValue(n,"TotalWidth",":")),l=parseInt(a.getValue(n,"Capacity",":"),10)||0;l&&o.push({size:l,bank:a.getValue(n,"BankLabel",":"),type:t[parseInt(a.getValue(n,"MemoryType",":"),10)||parseInt(a.getValue(n,"SMBIOSMemoryType",":"),10)],ecc:!(!s||!i)&&i>s,clockSpeed:parseInt(a.getValue(n,"ConfiguredClockSpeed",":"),10)||parseInt(a.getValue(n,"Speed",":"),10)||0,formFactor:r[parseInt(a.getValue(n,"FormFactor",":"),10)||0],manufacturer:a.getValue(n,"Manufacturer",":"),partNum:a.getValue(n,"PartNumber",":"),serialNum:a.getValue(n,"SerialNumber",":"),voltageConfigured:(parseInt(a.getValue(n,"ConfiguredVoltage",":"),10)||0)/1e3,voltageMin:(parseInt(a.getValue(n,"MinVoltage",":"),10)||0)/1e3,voltageMax:(parseInt(a.getValue(n,"MaxVoltage",":"),10)||0)/1e3})}))}e&&e(o),n(o)}))}catch(t){e&&e(o),n(o)}}}))}))}},3497:(e,t,n)=>{"use strict";const r=n(2037),s=n(2081).exec,i=n(2081).execSync,a=n(7147),o=n(9778);let l=process.platform;const c="linux"===l||"android"===l,u="darwin"===l,p="win32"===l,d="freebsd"===l,f="openbsd"===l,m="netbsd"===l,g="sunos"===l;let h,y={},v="",w={},S=[],x=[],b={};function O(){let e="",t="";try{let n=r.networkInterfaces(),s=9999;for(let r in n)({}).hasOwnProperty.call(n,r)&&n[r].forEach((function(n){n&&!1===n.internal&&(t=t||r,n.scopeid&&n.scopeid<s&&(e=r,s=n.scopeid))}));if(e=e||t||"",p){let t="";if(i("netstat -r",o.execOptsWin).toString().split(r.EOL).forEach((e=>{if((e=e.replace(/\s+/g," ").trim()).indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(e)){const n=e.split(" ");n.length>=5&&(t=n[n.length-2])}})),t)for(let r in n)({}).hasOwnProperty.call(n,r)&&n[r].forEach((function(n){n&&n.address&&n.address===t&&(e=r)}))}if(c){let t=i("ip route 2> /dev/null | grep default").toString().split("\n")[0].split(/\s+/);"none"===t[0]&&t[5]?e=t[5]:t[4]&&(e=t[4]),e.indexOf(":")>-1&&(e=e.split(":")[1].trim())}if(u||d||f||m||g){let t="";c&&(t="ip route 2> /dev/null | grep default | awk '{print $5}'"),u&&(t="route -n get default 2>/dev/null | grep interface: | awk '{print $2}'"),(d||f||m||g)&&(t="route get 0.0.0.0 | grep interface:");let n=i(t);e=n.toString().split("\n")[0],e.indexOf(":")>-1&&(e=e.split(":")[1].trim())}}catch(e){o.noop()}return e&&(v=e),v}function C(){let e="",t="",n={};if(c||d||f||m){if(void 0===h)try{const e=i("which ip").toString().split("\n");h=e.length&&-1===e[0].indexOf(":")&&0===e[0].indexOf("/")?e[0]:""}catch(e){h=""}try{const r=i("export LC_ALL=C; "+(h?h+" link show up":"/sbin/ifconfig")+"; unset LC_ALL").toString().split("\n");for(let s=0;s<r.length;s++)if(r[s]&&" "!==r[s][0]){if(h){let n=r[s+1].trim().split(" ");"link/ether"===n[0]&&(e=r[s].split(" ")[1],e=e.slice(0,e.length-1),t=n[1])}else e=r[s].split(" ")[0],t=r[s].split("HWaddr ")[1];e&&t&&(n[e]=t.trim(),e="",t="")}}catch(e){o.noop()}}if(u)try{const r=i("/sbin/ifconfig").toString().split("\n");for(let s=0;s<r.length;s++)r[s]&&"\t"!==r[s][0]&&r[s].indexOf(":")>0?e=r[s].split(":")[0]:0===r[s].indexOf("\tether ")&&(t=r[s].split("\tether ")[1],e&&t&&(n[e]=t.trim(),e="",t=""))}catch(e){o.noop()}return n}function _(e,t){let n="";const r=t+".";try{const t=e.filter((e=>r.includes(e.name+"."))).map((e=>e.dnsSuffix));return t[0]&&(n=t[0]),n||(n=""),n}catch(e){return"Unknown"}}function I(e,t,n){let r={state:"Unknown",protocol:"Unknown"};if("Disabled"===n)return r.state="Disabled",r.protocol="Not defined",r;if("wired"==e&&n.length>0)try{const e=n.find((e=>e.includes(t+"\r\n"))).split("\r\n"),s=e.find((e=>e.includes("802.1x")));if(s.includes("Disabled"))r.state="Disabled",r.protocol="Not defined";else if(s.includes("Enabled")){const t=e.find((e=>e.includes("EAP")));r.protocol=t.split(":").pop(),r.state="Enabled"}}catch(e){return r}else if("wireless"==e){let e="",n="";try{const s=function(e){try{return i(`netsh wlan show  interface name="${e}" | findstr "SSID"`,o.execOptsWin).split("\r\n").shift().split(":").pop()}catch(e){return"Unknown"}}(t);"Unknown"!==s&&(e=i(`netsh wlan show profiles "${s}" | findstr "802.1X"`,o.execOptsWin),n=i(`netsh wlan show profiles "${s}" | findstr "EAP"`,o.execOptsWin)),e.includes(":")&&n.includes(":")&&(r.state=e.split(":").pop(),r.protocol=n.split(":").pop())}catch(e){return 1===e.status&&e.stdout.includes("AutoConfig")&&(r.state="Disabled",r.protocol="Not defined"),r}}return r}function L(e){const t=[];let n=[];return e.forEach((function(e){e.startsWith("\t")||e.startsWith(" ")||n.length&&(t.push(n),n=[]),n.push(e)})),n.length&&t.push(n),t}function P(e){const t=`nmcli device status 2>/dev/null | grep ${e}`;try{const e=i(t).toString().replace(/\s+/g," ").trim().split(" ").slice(3).join(" ");return"--"!=e?e:""}catch(e){return""}}function E(e){let t=[];try{i(`cat ${e} 2> /dev/null | grep 'iface\\|source'`,{maxBuffer:2048e4}).toString().split("\n").forEach((e=>{const n=e.replace(/\s+/g," ").trim().split(" ");if(n.length>=4&&e.toLowerCase().indexOf(" inet ")>=0&&e.toLowerCase().indexOf("dhcp")>=0&&t.push(n[1]),e.toLowerCase().includes("source")){let n=e.split(" ")[1];t=t.concat(E(n))}}))}catch(e){o.noop()}return t}function V(){let e=[];try{e=function(e){const t=[];return e&&e.length&&e.forEach((e=>{if(e&&e.length&&e[0].split(":").length>2)for(let n of e)if(n.indexOf(" inet ")>=0&&n.indexOf(" dynamic ")>=0){const e=n.split(" "),r=e[e.length-1].trim();t.push(r);break}})),t}(L(i("ip a 2> /dev/null",{maxBuffer:2048e4}).toString().split("\n")))}catch(e){o.noop()}try{e=E("/etc/network/interfaces")}catch(e){o.noop()}return e}function T(e,t,n){let r=!1;if(!t)return n.indexOf(e)>=0;{const s=`nmcli connection show "${t}" 2>/dev/null | grep ipv4.method;`;try{return r="auto"===i(s).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString(),r}catch(t){return n.indexOf(e)>=0}}}function k(e){let t=!1;const n=`ipconfig getpacket "${e}" 2>/dev/null | grep lease_time;`;try{const e=i(n).toString().split("\n");e.length&&e[0].startsWith("lease_time")&&(t=!0)}catch(e){o.noop()}return t}function D(e){if(!e)return"Unknown";{const t=`nmcli connection show "${e}" 2>/dev/null | grep ipv4.dns-search;`;try{const e=i(t).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return"--"==e?"Not defined":e}catch(e){return"Unknown"}}}function A(e){if(!e)return"Not defined";{const t=`nmcli connection show "${e}" 2>/dev/null | grep 802-1x.eap;`;try{const e=i(t).toString().replace(/\s+/g," ").trim().split(" ").slice(1).toString();return"--"==e?"":e}catch(e){return"Not defined"}}}function N(e,t,n){return!!n&&(["00:00:00:00:00:00","00:03:FF","00:05:69","00:0C:29","00:0F:4B","00:0F:4B","00:13:07","00:13:BE","00:15:5d","00:16:3E","00:1C:42","00:21:F6","00:21:F6","00:24:0B","00:24:0B","00:50:56","00:A0:B1","00:E0:C8","08:00:27","0A:00:27","18:92:2C","16:DF:49","3C:F3:92","54:52:00","FC:15:97"].filter((e=>n.toUpperCase().toUpperCase().startsWith(e.substr(0,n.length)))).length>0||e.toLowerCase().indexOf(" virtual ")>-1||t.toLowerCase().indexOf(" virtual ")>-1||e.toLowerCase().indexOf("vethernet ")>-1||t.toLowerCase().indexOf("vethernet ")>-1||e.toLowerCase().startsWith("veth")||t.toLowerCase().startsWith("veth")||e.toLowerCase().startsWith("vboxnet")||t.toLowerCase().startsWith("vboxnet"))}function M(e,t,n){return"string"==typeof e&&(n=e,t=!0,e=null),"boolean"==typeof e&&(t=e,e=null,n=""),void 0===t&&(t=!0),n=""+(n=n||""),new Promise((s=>{process.nextTick((()=>{let a=r.networkInterfaces(),l=[],g=[],h=[],y=[];if(u||d||f||m)if(JSON.stringify(a)!==JSON.stringify(w)||t){const t=O();w=JSON.parse(JSON.stringify(a)),g=function(){try{return function(e){let t=[];return e.forEach((e=>{let n={iface:"",mtu:null,mac:"",ip6:"",ip4:"",speed:null,type:"",operstate:"",duplex:"",internal:!1};const r=e[0];n.iface=r.split(":")[0].trim();let s=r.split("> mtu");n.mtu=s.length>1?parseInt(s[1],10):null,isNaN(n.mtu)&&(n.mtu=null),n.internal=s[0].toLowerCase().indexOf("loopback")>-1,e.forEach((e=>{e.trim().startsWith("ether ")&&(n.mac=e.split("ether ")[1].toLowerCase().trim()),e.trim().startsWith("inet6 ")&&!n.ip6&&(n.ip6=e.split("inet6 ")[1].toLowerCase().split("%")[0].split(" ")[0]),e.trim().startsWith("inet ")&&!n.ip4&&(n.ip4=e.split("inet ")[1].toLowerCase().split(" ")[0])}));let i=o.getValue(e,"link rate");n.speed=i?parseFloat(i):null,null===n.speed?(i=o.getValue(e,"uplink rate"),n.speed=i?parseFloat(i):null,null!==n.speed&&i.toLowerCase().indexOf("gbps")>=0&&(n.speed=1e3*n.speed)):i.toLowerCase().indexOf("gbps")>=0&&(n.speed=1e3*n.speed),n.type=o.getValue(e,"type").toLowerCase().indexOf("wi-fi")>-1?"wireless":"wired",n.operstate=o.getValue(e,"status").toLowerCase().indexOf("active")>-1?"up":"down",n.duplex=o.getValue(e,"media").toLowerCase().indexOf("half-duplex")>-1?"half":"full",(n.ip6||n.ip4||n.mac)&&t.push(n)})),t}(L(i("/sbin/ifconfig -v",{maxBuffer:2048e4}).toString().split("\n")))}catch(e){return[]}}(),g.forEach((e=>{({}).hasOwnProperty.call(a,e.iface)&&a[e.iface].forEach((function(t){"IPv4"!==t.family&&4!==t.family||(e.ip4subnet=t.netmask),"IPv6"!==t.family&&6!==t.family||(e.ip6subnet=t.netmask)})),l.push({iface:e.iface,ifaceName:e.iface,default:e.iface===t,ip4:e.ip4,ip4subnet:e.ip4subnet||"",ip6:e.ip6,ip6subnet:e.ip6subnet||"",mac:e.mac,internal:e.internal,virtual:!e.internal&&N(e.iface,e.iface,e.mac),operstate:e.operstate,type:e.type,duplex:e.duplex,mtu:e.mtu,speed:e.speed,dhcp:k(e.iface),dnsSuffix:"",ieee8021xAuth:"",ieee8021xState:"",carrierChanges:0})})),x=l,n.toLowerCase().indexOf("default")>=0&&(l=l.filter((e=>e.default)),l=l.length>0?l[0]:[]),e&&e(l),s(l)}else l=x,e&&e(l),s(l);if(c)if(JSON.stringify(a)!==JSON.stringify(w)||t){w=JSON.parse(JSON.stringify(a)),S=V();const t=O();for(let e in a){let n="",r="",s="",p="",d="",f="",m="",g=null,h=0,y=!1,w="",x="",O="",_="";if({}.hasOwnProperty.call(a,e)){let I=e;a[e].forEach((function(t){"IPv4"!==t.family&&4!==t.family||(n=t.address,r=t.netmask),"IPv6"!==t.family&&6!==t.family||s&&!s.match(/^fe80::/i)||(s=t.address,p=t.netmask),d=t.mac;const i=parseInt(process.versions.node.split("."),10);d.indexOf("00:00:0")>-1&&(c||u)&&!t.internal&&i>=8&&i<=11&&(0===Object.keys(b).length&&(b=C()),d=b[e]||"")}));let L=e.split(":")[0].trim().toLowerCase();const E=`echo -n "addr_assign_type: "; cat /sys/class/net/${L}/addr_assign_type 2>/dev/null; echo;\n            echo -n "address: "; cat /sys/class/net/${L}/address 2>/dev/null; echo;\n            echo -n "addr_len: "; cat /sys/class/net/${L}/addr_len 2>/dev/null; echo;\n            echo -n "broadcast: "; cat /sys/class/net/${L}/broadcast 2>/dev/null; echo;\n            echo -n "carrier: "; cat /sys/class/net/${L}/carrier 2>/dev/null; echo;\n            echo -n "carrier_changes: "; cat /sys/class/net/${L}/carrier_changes 2>/dev/null; echo;\n            echo -n "dev_id: "; cat /sys/class/net/${L}/dev_id 2>/dev/null; echo;\n            echo -n "dev_port: "; cat /sys/class/net/${L}/dev_port 2>/dev/null; echo;\n            echo -n "dormant: "; cat /sys/class/net/${L}/dormant 2>/dev/null; echo;\n            echo -n "duplex: "; cat /sys/class/net/${L}/duplex 2>/dev/null; echo;\n            echo -n "flags: "; cat /sys/class/net/${L}/flags 2>/dev/null; echo;\n            echo -n "gro_flush_timeout: "; cat /sys/class/net/${L}/gro_flush_timeout 2>/dev/null; echo;\n            echo -n "ifalias: "; cat /sys/class/net/${L}/ifalias 2>/dev/null; echo;\n            echo -n "ifindex: "; cat /sys/class/net/${L}/ifindex 2>/dev/null; echo;\n            echo -n "iflink: "; cat /sys/class/net/${L}/iflink 2>/dev/null; echo;\n            echo -n "link_mode: "; cat /sys/class/net/${L}/link_mode 2>/dev/null; echo;\n            echo -n "mtu: "; cat /sys/class/net/${L}/mtu 2>/dev/null; echo;\n            echo -n "netdev_group: "; cat /sys/class/net/${L}/netdev_group 2>/dev/null; echo;\n            echo -n "operstate: "; cat /sys/class/net/${L}/operstate 2>/dev/null; echo;\n            echo -n "proto_down: "; cat /sys/class/net/${L}/proto_down 2>/dev/null; echo;\n            echo -n "speed: "; cat /sys/class/net/${L}/speed 2>/dev/null; echo;\n            echo -n "tx_queue_len: "; cat /sys/class/net/${L}/tx_queue_len 2>/dev/null; echo;\n            echo -n "type: "; cat /sys/class/net/${L}/type 2>/dev/null; echo;\n            echo -n "wireless: "; cat /proc/net/wireless 2>/dev/null | grep ${L}; echo;\n            echo -n "wirelessspeed: "; iw dev ${L} link 2>&1 | grep bitrate; echo;`;let V=[];try{V=i(E).toString().split("\n");const e=P(L);y=T(L,e,S),w=D(e),x=A(e),O=(v=x)?"Not defined"==v?"Disabled":"Enabled":"Unknown"}catch(e){o.noop()}f=o.getValue(V,"duplex"),f=f.startsWith("cat")?"":f,m=parseInt(o.getValue(V,"mtu"),10);let k=parseInt(o.getValue(V,"speed"),10);g=isNaN(k)?null:k;let M=o.getValue(V,"wirelessspeed").split("tx bitrate: ");null===g&&2===M.length&&(k=parseFloat(M[1]),g=isNaN(k)?null:k),h=parseInt(o.getValue(V,"carrier_changes"),10);const W=o.getValue(V,"operstate");_="up"===W?o.getValue(V,"wireless").trim()?"wireless":"wired":"unknown",("lo"===L||L.startsWith("bond"))&&(_="virtual");let F=!(!a[e]||!a[e][0])&&a[e][0].internal;(e.toLowerCase().indexOf("loopback")>-1||I.toLowerCase().indexOf("loopback")>-1)&&(F=!0);const B=!F&&N(e,I,d);l.push({iface:L,ifaceName:I,default:L===t,ip4:n,ip4subnet:r,ip6:s,ip6subnet:p,mac:d,internal:F,virtual:B,operstate:W,type:_,duplex:f,mtu:m,speed:g,dhcp:y,dnsSuffix:w,ieee8021xAuth:x,ieee8021xState:O,carrierChanges:h})}}x=l,n.toLowerCase().indexOf("default")>=0&&(l=l.filter((e=>e.default)),l=l.length>0?l[0]:[]),e&&e(l),s(l)}else l=x,e&&e(l),s(l);var v;if(p)if(JSON.stringify(a)!==JSON.stringify(w)||t){w=JSON.parse(JSON.stringify(a));const t=O();new Promise((e=>{process.nextTick((()=>{let t="Get-WmiObject Win32_NetworkAdapter | fl *; echo '#-#-#-#';";t+="Get-WmiObject Win32_NetworkAdapterConfiguration | fl DHCPEnabled";try{o.powerShell("Get-WmiObject Win32_NetworkAdapter | fl *; echo '#-#-#-#';Get-WmiObject Win32_NetworkAdapterConfiguration | fl DHCPEnabled").then((t=>{const n=((t=t.split("#-#-#-#"))[0]||"").split(/\n\s*\n/),r=(t[1]||"").split(/\n\s*\n/);e(function(e,t){let n=[];for(let r in e)if({}.hasOwnProperty.call(e,r)&&""!==e[r].trim()){let s=e[r].trim().split("\r\n"),i=t&&t[r]?t[r].trim().split("\r\n"):[],a=o.getValue(s,"NetEnabled",":"),l="9"===o.getValue(s,"AdapterTypeID",":")?"wireless":"wired",c=o.getValue(s,"Name",":").replace(/\]/g,")").replace(/\[/g,"("),u=o.getValue(s,"NetConnectionID",":").replace(/\]/g,")").replace(/\[/g,"(");if((c.toLowerCase().indexOf("wi-fi")>=0||c.toLowerCase().indexOf("wireless")>=0)&&(l="wireless"),""!==a){const e=parseInt(o.getValue(s,"speed",":").trim(),10)/1e6;n.push({mac:o.getValue(s,"MACAddress",":").toLowerCase(),dhcp:"true"===o.getValue(i,"dhcpEnabled",":").toLowerCase(),name:c,iface:u,netEnabled:"TRUE"===a,speed:isNaN(e)?null:e,operstate:"2"===o.getValue(s,"NetConnectionStatus",":")?"up":"down",type:l})}}return n}(n,r))}))}catch(t){e([])}}))})).then((function(r){r.forEach((e=>{let t=!1;Object.keys(a).forEach((n=>{t||a[n].forEach((n=>{Object.keys(n).indexOf("mac")>=0&&(t=n.mac===e.mac)}))})),t||(a[e.name]=[{mac:e.mac}])})),y=function(){try{return i("netsh lan show profiles",o.execOptsWin).split("\r\nProfile on interface")}catch(e){return 1===e.status&&e.stdout.includes("AutoConfig")?"Disabled":[]}}(),h=function(){let e={},t={primaryDNS:"",exitCode:0,ifaces:[]};try{return i("ipconfig /all",o.execOptsWin).split("\r\n\r\n").forEach(((n,r)=>{if(1==r){const e=n.split("\r\n").filter((e=>e.toUpperCase().includes("DNS"))),r=e[0].substring(e[0].lastIndexOf(":")+1);t.primaryDNS=r.trim(),t.primaryDNS||(t.primaryDNS="Not defined")}if(r>1)if(r%2==0){const t=n.substring(n.lastIndexOf(" ")+1).replace(":","");e.name=t}else{const r=n.split("\r\n").filter((e=>e.toUpperCase().includes("DNS"))),s=r[0].substring(r[0].lastIndexOf(":")+1);e.dnsSuffix=s.trim(),t.ifaces.push(e),e={}}})),t}catch(e){return{primaryDNS:"",exitCode:0,ifaces:[]}}}();for(let e in a){let n=e,s="",i="",o="",p="",d="",f="",m="",g=null,v=0,w="down",S=!1,x="",O="",L="",P="";if({}.hasOwnProperty.call(a,e)){let E=e;a[e].forEach((function(t){"IPv4"!==t.family&&4!==t.family||(s=t.address,i=t.netmask),"IPv6"!==t.family&&6!==t.family||o&&!o.match(/^fe80::/i)||(o=t.address,p=t.netmask),d=t.mac;const n=parseInt(process.versions.node.split("."),10);d.indexOf("00:00:0")>-1&&(c||u)&&!t.internal&&n>=8&&n<=11&&(0===Object.keys(b).length&&(b=C()),d=b[e]||"")})),x=_(h.ifaces,e);let V=!1;r.forEach((e=>{e.mac!==d||V||(n=e.iface||n,E=e.name,S=e.dhcp,w=e.operstate,g=e.speed,P=e.type,V=!0)})),(e.toLowerCase().indexOf("wlan")>=0||E.toLowerCase().indexOf("wlan")>=0||E.toLowerCase().indexOf("802.11n")>=0||E.toLowerCase().indexOf("wireless")>=0||E.toLowerCase().indexOf("wi-fi")>=0||E.toLowerCase().indexOf("wifi")>=0)&&(P="wireless");const T=I(P,e,y);O=T.protocol,L=T.state;let k=!(!a[e]||!a[e][0])&&a[e][0].internal;(e.toLowerCase().indexOf("loopback")>-1||E.toLowerCase().indexOf("loopback")>-1)&&(k=!0);const D=!k&&N(e,E,d);l.push({iface:n,ifaceName:E,default:n===t,ip4:s,ip4subnet:i,ip6:o,ip6subnet:p,mac:d,internal:k,virtual:D,operstate:w,type:P,duplex:f,mtu:m,speed:g,dhcp:S,dnsSuffix:x,ieee8021xAuth:O,ieee8021xState:L,carrierChanges:v})}}x=l,n.toLowerCase().indexOf("default")>=0&&(l=l.filter((e=>e.default)),l=l.length>0?l[0]:[]),e&&e(l),s(l)}))}else l=x,e&&e(l),s(l)}))}))}function W(e,t,n,r,s,i,a,o){let l={iface:e,operstate:r,rx_bytes:t,rx_dropped:s,rx_errors:i,tx_bytes:n,tx_dropped:a,tx_errors:o,rx_sec:null,tx_sec:null,ms:0};return y[e]&&y[e].ms?(l.ms=Date.now()-y[e].ms,l.rx_sec=t-y[e].rx_bytes>=0?(t-y[e].rx_bytes)/(l.ms/1e3):0,l.tx_sec=n-y[e].tx_bytes>=0?(n-y[e].tx_bytes)/(l.ms/1e3):0,y[e].rx_bytes=t,y[e].tx_bytes=n,y[e].rx_sec=l.rx_sec,y[e].tx_sec=l.tx_sec,y[e].ms=Date.now(),y[e].last_ms=l.ms,y[e].operstate=r):(y[e]||(y[e]={}),y[e].rx_bytes=t,y[e].tx_bytes=n,y[e].rx_sec=null,y[e].tx_sec=null,y[e].ms=Date.now(),y[e].last_ms=0,y[e].operstate=r),l}function F(e){return new Promise((t=>{process.nextTick((()=>{let n="";const r=o.isPrototypePolluted()?"---":o.sanitizeShellString(e);for(let e=0;e<=o.mathMin(r.length,2e3);e++)void 0!==r[e]&&(n+=r[e]);let i,l,g,h={iface:n,operstate:"unknown",rx_bytes:0,rx_dropped:0,rx_errors:0,tx_bytes:0,tx_dropped:0,tx_errors:0,rx_sec:null,tx_sec:null,ms:0},v="unknown",w=0,S=0,x=0,b=0,O=0,C=0;if(!y[n]||y[n]&&!y[n].ms||y[n]&&y[n].ms&&Date.now()-y[n].ms>=500){if(c&&(a.existsSync("/sys/class/net/"+n)?(i="cat /sys/class/net/"+n+"/operstate; cat /sys/class/net/"+n+"/statistics/rx_bytes; cat /sys/class/net/"+n+"/statistics/tx_bytes; cat /sys/class/net/"+n+"/statistics/rx_dropped; cat /sys/class/net/"+n+"/statistics/rx_errors; cat /sys/class/net/"+n+"/statistics/tx_dropped; cat /sys/class/net/"+n+"/statistics/tx_errors; ",s(i,(function(e,r){e||(l=r.toString().split("\n"),v=l[0].trim(),w=parseInt(l[1],10),S=parseInt(l[2],10),x=parseInt(l[3],10),b=parseInt(l[4],10),O=parseInt(l[5],10),C=parseInt(l[6],10),h=W(n,w,S,v,x,b,O,C)),t(h)}))):t(h)),(d||f||m)&&(i="netstat -ibndI "+n,s(i,(function(e,r){if(!e){l=r.toString().split("\n");for(let e=1;e<l.length;e++){const t=l[e].replace(/ +/g," ").split(" ");t&&t[0]&&t[7]&&t[10]&&(w+=parseInt(t[7]),"-"!==t[6].trim()&&(x+=parseInt(t[6])),"-"!==t[5].trim()&&(b+=parseInt(t[5])),S+=parseInt(t[10]),"-"!==t[12].trim()&&(O+=parseInt(t[12])),"-"!==t[9].trim()&&(C+=parseInt(t[9])),v="up")}h=W(n,w,S,v,x,b,O,C)}t(h)}))),u&&(i="ifconfig "+n+' | grep "status"',s(i,(function(e,r){h.operstate=(r.toString().split(":")[1]||"").trim(),h.operstate=(h.operstate||"").toLowerCase(),h.operstate="active"===h.operstate?"up":"inactive"===h.operstate?"down":"unknown",i="netstat -bdI "+n,s(i,(function(e,r){if(!e&&(l=r.toString().split("\n"),l.length>1&&""!==l[1].trim())){g=l[1].replace(/ +/g," ").split(" ");const e=g.length>11?1:0;w=parseInt(g[e+5]),x=parseInt(g[e+10]),b=parseInt(g[e+4]),S=parseInt(g[e+8]),O=parseInt(g[e+10]),C=parseInt(g[e+7]),h=W(n,w,S,h.operstate,x,b,O,C)}t(h)}))}))),p){let e=[],r=n;o.powerShell("Get-WmiObject Win32_PerfRawData_Tcpip_NetworkInterface | select Name,BytesReceivedPersec,PacketsReceivedErrors,PacketsReceivedDiscarded,BytesSentPersec,PacketsOutboundErrors,PacketsOutboundDiscarded | fl").then(((s,i)=>{if(!i){const t=s.toString().split(/\n\s*\n/);e=function(e){let t=[];for(let n in e)if({}.hasOwnProperty.call(e,n)&&""!==e[n].trim()){let r=e[n].trim().split("\r\n");t.push({name:o.getValue(r,"Name",":").replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase(),rx_bytes:parseInt(o.getValue(r,"BytesReceivedPersec",":"),10),rx_errors:parseInt(o.getValue(r,"PacketsReceivedErrors",":"),10),rx_dropped:parseInt(o.getValue(r,"PacketsReceivedDiscarded",":"),10),tx_bytes:parseInt(o.getValue(r,"BytesSentPersec",":"),10),tx_errors:parseInt(o.getValue(r,"PacketsOutboundErrors",":"),10),tx_dropped:parseInt(o.getValue(r,"PacketsOutboundDiscarded",":"),10)})}return t}(t)}M(!1).then((s=>{w=0,S=0,e.forEach((e=>{s.forEach((t=>{t.iface.toLowerCase()!==n.toLowerCase()&&t.mac.toLowerCase()!==n.toLowerCase()&&t.ip4.toLowerCase()!==n.toLowerCase()&&t.ip6.toLowerCase()!==n.toLowerCase()&&t.ifaceName.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase()!==n.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase()||t.ifaceName.replace(/[()[\] ]+/g,"").replace("#","_").toLowerCase()!==e.name||(r=t.iface,w=e.rx_bytes,x=e.rx_dropped,b=e.rx_errors,S=e.tx_bytes,O=e.tx_dropped,C=e.tx_errors,v=t.operstate)}))})),w&&S&&(h=W(r,parseInt(w),parseInt(S),v,x,b,O,C)),t(h)}))}))}}else h.rx_bytes=y[n].rx_bytes,h.tx_bytes=y[n].tx_bytes,h.rx_sec=y[n].rx_sec,h.tx_sec=y[n].tx_sec,h.ms=y[n].last_ms,h.operstate=y[n].operstate,t(h)}))}))}t.getDefaultNetworkInterface=O,t.networkInterfaceDefault=function(e){return new Promise((t=>{process.nextTick((()=>{let n=O();e&&e(n),t(n)}))}))},t.networkInterfaces=M,t.networkStats=function e(t,n){let r=[];return new Promise((s=>{process.nextTick((()=>{if(o.isFunction(t)&&!n)n=t,r=[O()];else{if("string"!=typeof t&&void 0!==t)return n&&n([]),s([]);(t=t||O()).__proto__.toLowerCase=o.stringToLower,t.__proto__.replace=o.stringReplace,t.__proto__.trim=o.stringTrim,t=t.trim().toLowerCase().replace(/,+/g,"|"),r=t.split("|")}const i=[],a=[];if(r.length&&"*"===r[0].trim())r=[],M(!1).then((t=>{for(let e of t)r.push(e.iface);e(r.join(",")).then((e=>{n&&n(e),s(e)}))}));else{for(let e of r)a.push(F(e.trim()));a.length?Promise.all(a).then((e=>{n&&n(e),s(e)})):(n&&n(i),s(i))}}))}))},t.networkConnections=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];if(c||d||f||m){let r='export LC_ALL=C; netstat -tunap | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL';(d||f||m)&&(r='export LC_ALL=C; netstat -na | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"; unset LC_ALL'),s(r,{maxBuffer:2048e4},(function(i,a){let o=a.toString().split("\n");!i&&(o.length>1||""!=o[0])?(o.forEach((function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=7){let t=e[3],r="",s=e[3].split(":");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join(":"));let i=e[4],a="",o=e[4].split(":");o.length>1&&(a=o[o.length-1],o.pop(),i=o.join(":"));let l=e[5],c=e[6].split("/");l&&n.push({protocol:e[0],localAddress:t,localPort:r,peerAddress:i,peerPort:a,state:l,pid:c[0]&&"-"!==c[0]?parseInt(c[0],10):null,process:c[1]?c[1].split(" ")[0]:""})}})),e&&e(n),t(n)):(r='ss -tunap | grep "ESTAB\\|SYN-SENT\\|SYN-RECV\\|FIN-WAIT1\\|FIN-WAIT2\\|TIME-WAIT\\|CLOSE\\|CLOSE-WAIT\\|LAST-ACK\\|LISTEN\\|CLOSING"',s(r,{maxBuffer:2048e4},(function(r,s){r||s.toString().split("\n").forEach((function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=6){let t=e[4],r="",s=e[4].split(":");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join(":"));let i=e[5],a="",o=e[5].split(":");o.length>1&&(a=o[o.length-1],o.pop(),i=o.join(":"));let l=e[1];"ESTAB"===l&&(l="ESTABLISHED"),"TIME-WAIT"===l&&(l="TIME_WAIT");let c=null,u="";if(e.length>=7&&e[6].indexOf("users:")>-1){let t=e[6].replace('users:(("',"").replace(/"/g,"").split(",");t.length>2&&(u=t[0].split(" ")[0],c=parseInt(t[1],10))}l&&n.push({protocol:e[0],localAddress:t,localPort:r,peerAddress:i,peerPort:a,state:l,pid:c,process:u})}})),e&&e(n),t(n)})))}))}if(u&&s('netstat -natv | grep "ESTABLISHED\\|SYN_SENT\\|SYN_RECV\\|FIN_WAIT1\\|FIN_WAIT2\\|TIME_WAIT\\|CLOSE\\|CLOSE_WAIT\\|LAST_ACK\\|LISTEN\\|CLOSING\\|UNKNOWN"',{maxBuffer:2048e4},(function(r,s){r||(s.toString().split("\n").forEach((function(e){if((e=e.replace(/ +/g," ").split(" ")).length>=8){let t=e[3],r="",s=e[3].split(".");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join("."));let i=e[4],a="",o=e[4].split(".");o.length>1&&(a=o[o.length-1],o.pop(),i=o.join("."));let l=e[5],c=parseInt(e[8],10);l&&n.push({protocol:e[0],localAddress:t,localPort:r,peerAddress:i,peerPort:a,state:l,pid:c,process:""})}})),e&&e(n),t(n))})),p){let r="netstat -nao";try{s(r,o.execOptsWin,(function(r,s){r||(s.toString().split("\r\n").forEach((function(e){if((e=e.trim().replace(/ +/g," ").split(" ")).length>=4){let t=e[1],r="",s=e[1].split(":");s.length>1&&(r=s[s.length-1],s.pop(),t=s.join(":"));let i=e[2],a="",l=e[2].split(":");l.length>1&&(a=l[l.length-1],l.pop(),i=l.join(":"));let c=o.toInt(e[4]),u=e[3];"HERGESTELLT"===u&&(u="ESTABLISHED"),u.startsWith("ABH")&&(u="LISTEN"),"SCHLIESSEN_WARTEN"===u&&(u="CLOSE_WAIT"),"WARTEND"===u&&(u="TIME_WAIT"),"SYN_GESENDET"===u&&(u="SYN_SENT"),"LISTENING"===u&&(u="LISTEN"),"SYN_RECEIVED"===u&&(u="SYN_RECV"),"FIN_WAIT_1"===u&&(u="FIN_WAIT1"),"FIN_WAIT_2"===u&&(u="FIN_WAIT2"),u&&n.push({protocol:e[0].toLowerCase(),localAddress:t,localPort:r,peerAddress:i,peerPort:a,state:u,pid:c,process:""})}})),e&&e(n),t(n))}))}catch(r){e&&e(n),t(n)}}}))}))},t.networkGatewayDefault=function(e){return new Promise((t=>{process.nextTick((()=>{let n="";if(c||d||f||m){let r="ip route get 1";try{s(r,{maxBuffer:2048e4},(function(r,s){if(r)e&&e(n),t(n);else{let r=s.toString().split("\n"),i=(r&&r[0]?r[0]:"").split(" via ");i&&i[1]&&(i=i[1].split(" "),n=i[0]),e&&e(n),t(n)}}))}catch(r){e&&e(n),t(n)}}if(u){let r="route -n get default";try{s(r,{maxBuffer:2048e4},(function(i,a){if(!i){const e=a.toString().split("\n").map((e=>e.trim()));n=o.getValue(e,"gateway")}n?(e&&e(n),t(n)):(r="netstat -rn | awk '/default/ {print $2}'",s(r,{maxBuffer:2048e4},(function(r,s){const i=s.toString().split("\n").map((e=>e.trim()));n=i.find((e=>/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(e))),e&&e(n),t(n)})))}))}catch(r){e&&e(n),t(n)}}if(p)try{s("netstat -r",o.execOptsWin,(function(s,i){i.toString().split(r.EOL).forEach((e=>{if((e=e.replace(/\s+/g," ").trim()).indexOf("0.0.0.0 0.0.0.0")>-1&&!/[a-zA-Z]/.test(e)){const t=e.split(" ");t.length>=5&&t[t.length-3].indexOf(".")>-1&&(n=t[t.length-3])}})),n?(e&&e(n),t(n)):o.powerShell("Get-CimInstance -ClassName Win32_IP4RouteTable | Where-Object { $_.Destination -eq '0.0.0.0' -and $_.Mask -eq '0.0.0.0' }").then((r=>{let s=r.toString().split("\r\n");s.length>1&&!n&&(n=o.getValue(s,"NextHop"),e&&e(n),t(n))}))}))}catch(r){e&&e(n),t(n)}}))}))}},6416:(e,t,n)=>{"use strict";const r=n(2037),s=n(7147),i=n(9778),a=n(2081).exec,o=n(2081).execSync;let l=process.platform;const c="linux"===l||"android"===l,u="darwin"===l,p="win32"===l,d="freebsd"===l,f="openbsd"===l,m="netbsd"===l,g="sunos"===l;function h(e){e=(e=e||"").toLowerCase();let t=l;return p?t="windows":-1!==e.indexOf("mac os")?t="apple":-1!==e.indexOf("arch")?t="arch":-1!==e.indexOf("centos")?t="centos":-1!==e.indexOf("coreos")?t="coreos":-1!==e.indexOf("debian")?t="debian":-1!==e.indexOf("deepin")?t="deepin":-1!==e.indexOf("elementary")?t="elementary":-1!==e.indexOf("fedora")?t="fedora":-1!==e.indexOf("gentoo")?t="gentoo":-1!==e.indexOf("mageia")?t="mageia":-1!==e.indexOf("mandriva")?t="mandriva":-1!==e.indexOf("manjaro")?t="manjaro":-1!==e.indexOf("mint")?t="mint":-1!==e.indexOf("mx")?t="mx":-1!==e.indexOf("openbsd")?t="openbsd":-1!==e.indexOf("freebsd")?t="freebsd":-1!==e.indexOf("opensuse")?t="opensuse":-1!==e.indexOf("pclinuxos")?t="pclinuxos":-1!==e.indexOf("puppy")?t="puppy":-1!==e.indexOf("raspbian")?t="raspbian":-1!==e.indexOf("reactos")?t="reactos":-1!==e.indexOf("redhat")?t="redhat":-1!==e.indexOf("slackware")?t="slackware":-1!==e.indexOf("sugar")?t="sugar":-1!==e.indexOf("steam")?t="steam":-1!==e.indexOf("suse")?t="suse":-1!==e.indexOf("mate")?t="ubuntu-mate":-1!==e.indexOf("lubuntu")?t="lubuntu":-1!==e.indexOf("xubuntu")?t="xubuntu":-1!==e.indexOf("ubuntu")?t="ubuntu":-1!==e.indexOf("solaris")?t="solaris":-1!==e.indexOf("tails")?t="tails":-1!==e.indexOf("feren")?t="ferenos":-1!==e.indexOf("robolinux")?t="robolinux":c&&e&&(t=e.toLowerCase().trim().replace(/\s+/g,"-")),t}function y(){let e=r.hostname;if(c||u)try{e=o("hostname -f").toString().split(r.EOL)[0]}catch(e){i.noop()}if(d||f||m)try{e=o("hostname").toString().split(r.EOL)[0]}catch(e){i.noop()}if(p)try{e=o("echo %COMPUTERNAME%.%USERDNSDOMAIN%",i.execOptsWin).toString().replace(".%USERDNSDOMAIN%","").split(r.EOL)[0]}catch(e){i.noop()}return e}function v(){const e=r.networkInterfaces();let t=[];for(let n in e)({}).hasOwnProperty.call(e,n)&&e[n].forEach((function(e){if(e&&e.mac&&"00:00:00:00:00:00"!==e.mac){const n=e.mac.toLowerCase();-1===t.indexOf(n)&&t.push(n)}}));return t=t.sort((function(e,t){return e<t?-1:e>t?1:0})),t}function w(e){return new Promise((t=>{process.nextTick((()=>{let n,r={os:"",hardware:"",macs:v()};if(u&&a("system_profiler SPHardwareDataType -json",(function(n,s){if(!n)try{const e=JSON.parse(s.toString());if(e.SPHardwareDataType&&e.SPHardwareDataType.length>0){const t=e.SPHardwareDataType[0];r.os=t.platform_UUID.toLowerCase(),r.hardware=t.serial_number}}catch(e){i.noop()}e&&e(r),t(r)})),c&&a('echo -n "os: "; cat /var/lib/dbus/machine-id 2> /dev/null; echo;\necho -n "os: "; cat /etc/machine-id 2> /dev/null; echo;\necho -n "hardware: "; cat /sys/class/dmi/id/product_uuid 2> /dev/null; echo;',(function(n,a){const o=a.toString().split("\n");if(r.os=i.getValue(o,"os").toLowerCase(),r.hardware=i.getValue(o,"hardware").toLowerCase(),!r.hardware){const e=s.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split("\n"),t=i.getValue(e,"serial");r.hardware=t||""}e&&e(r),t(r)})),(d||f||m)&&a("sysctl -i kern.hostid kern.hostuuid",(function(n,s){const a=s.toString().split("\n");r.os=i.getValue(a,"kern.hostid",":").toLowerCase(),r.hardware=i.getValue(a,"kern.hostuuid",":").toLowerCase(),r.os.indexOf("unknown")>=0&&(r.os=""),r.hardware.indexOf("unknown")>=0&&(r.hardware=""),e&&e(r),t(r)})),p){let s="%windir%\\System32";"ia32"===process.arch&&Object.prototype.hasOwnProperty.call(process.env,"PROCESSOR_ARCHITEW6432")&&(s="%windir%\\sysnative\\cmd.exe /c %windir%\\System32"),i.powerShell("Get-WmiObject Win32_ComputerSystemProduct | select UUID | fl").then((o=>{let l=o.split("\r\n");r.hardware=i.getValue(l,"uuid",":").toLowerCase(),a(`${s}\\reg query "HKEY_LOCAL_MACHINE\\SOFTWARE\\Microsoft\\Cryptography" /v MachineGuid`,i.execOptsWin,(function(s,i){n=i.toString().split("\n\r")[0].split("REG_SZ"),r.os=n.length>1?n[1].replace(/\r+|\n+|\s+/gi,"").toLowerCase():"",e&&e(r),t(r)}))}))}}))}))}t.time=function(){let e=(new Date).toString().split(" ");return{current:Date.now(),uptime:r.uptime(),timezone:e.length>=7?e[5]:"",timezoneName:Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:e.length>=7?e.slice(6).join(" ").replace(/\(/g,"").replace(/\)/g,""):""}},t.osInfo=function(e){return new Promise((t=>{process.nextTick((()=>{let n={platform:"win32"===l?"Windows":l,distro:"unknown",release:"unknown",codename:"",kernel:r.release(),arch:r.arch(),hostname:r.hostname(),fqdn:y(),codepage:"",logofile:"",serial:"",build:"",servicepack:"",uefi:!1};if(c&&a("cat /etc/*-release; cat /usr/lib/os-release; cat /etc/openwrt_release",(function(r,o){let l={};o.toString().split("\n").forEach((function(e){-1!==e.indexOf("=")&&(l[e.split("=")[0].trim().toUpperCase()]=e.split("=")[1].trim())}));let c=(l.VERSION||"").replace(/"/g,""),u=(l.DISTRIB_CODENAME||l.VERSION_CODENAME||"").replace(/"/g,"");c.indexOf("(")>=0&&(u=c.split("(")[1].replace(/[()]/g,"").trim(),c=c.split("(")[0].trim()),n.distro=(l.DISTRIB_ID||l.NAME||"unknown").replace(/"/g,""),n.logofile=h(n.distro),n.release=(c||l.DISTRIB_RELEASE||l.VERSION_ID||"unknown").replace(/"/g,""),n.codename=u,n.codepage=i.getCodepage(),n.build=(l.BUILD_ID||"").replace(/"/g,"").trim(),new Promise((e=>{process.nextTick((()=>{s.stat("/sys/firmware/efi",(function(t){if(!t)return e(!0);a('dmesg | grep -E "EFI v"',(function(t,n){if(!t){const t=n.toString().split("\n");return e(t.length>0)}return e(!1)}))}))}))})).then((r=>{n.uefi=r,w().then((r=>{n.serial=r.os,e&&e(n),t(n)}))}))})),(d||f||m)&&a("sysctl kern.ostype kern.osrelease kern.osrevision kern.hostuuid machdep.bootmethod",(function(r,s){if(!r){let e=s.toString().split("\n");n.distro=i.getValue(e,"kern.ostype"),n.logofile=h(n.distro),n.release=i.getValue(e,"kern.osrelease").split("-")[0],n.serial=i.getValue(e,"kern.uuid"),n.codename="",n.codepage=i.getCodepage(),n.uefi=i.getValue(e,"machdep.bootmethod").toLowerCase().indexOf("uefi")>=0}e&&e(n),t(n)})),u&&a("sw_vers; sysctl kern.ostype kern.osrelease kern.osrevision kern.uuid",(function(r,s){let a=s.toString().split("\n");n.serial=i.getValue(a,"kern.uuid"),n.distro=i.getValue(a,"ProductName"),n.release=i.getValue(a,"ProductVersion"),n.build=i.getValue(a,"BuildVersion"),n.logofile=h(n.distro),n.codename="macOS",n.codename=n.release.indexOf("10.4")>-1?"Mac OS X Tiger":n.codename,n.codename=n.release.indexOf("10.4")>-1?"Mac OS X Tiger":n.codename,n.codename=n.release.indexOf("10.4")>-1?"Mac OS X Tiger":n.codename,n.codename=n.release.indexOf("10.5")>-1?"Mac OS X Leopard":n.codename,n.codename=n.release.indexOf("10.6")>-1?"Mac OS X Snow Leopard":n.codename,n.codename=n.release.indexOf("10.7")>-1?"Mac OS X Lion":n.codename,n.codename=n.release.indexOf("10.8")>-1?"OS X Mountain Lion":n.codename,n.codename=n.release.indexOf("10.9")>-1?"OS X Mavericks":n.codename,n.codename=n.release.indexOf("10.10")>-1?"OS X Yosemite":n.codename,n.codename=n.release.indexOf("10.11")>-1?"OS X El Capitan":n.codename,n.codename=n.release.indexOf("10.12")>-1?"macOS Sierra":n.codename,n.codename=n.release.indexOf("10.13")>-1?"macOS High Sierra":n.codename,n.codename=n.release.indexOf("10.14")>-1?"macOS Mojave":n.codename,n.codename=n.release.indexOf("10.15")>-1?"macOS Catalina":n.codename,n.codename=n.release.startsWith("11.")?"macOS Big Sur":n.codename,n.codename=n.release.startsWith("12.")?"macOS Monterey":n.codename,n.uefi=!0,n.codepage=i.getCodepage(),e&&e(n),t(n)})),g&&(n.release=n.kernel,a("uname -o",(function(r,s){let i=s.toString().split("\n");n.distro=i[0],n.logofile=h(n.distro),e&&e(n),t(n)}))),p){n.logofile=h(),n.release=n.kernel;try{const r=[];r.push(i.powerShell("Get-WmiObject Win32_OperatingSystem | select Caption,SerialNumber,BuildNumber,ServicePackMajorVersion,ServicePackMinorVersion | fl")),r.push(i.powerShell("(Get-CimInstance Win32_ComputerSystem).HypervisorPresent")),r.push(i.powerShell("Add-Type -AssemblyName System.Windows.Forms; [System.Windows.Forms.SystemInformation]::TerminalServerSession")),i.promiseAll(r).then((r=>{let s=r.results[0]?r.results[0].toString().split("\r\n"):[""];n.distro=i.getValue(s,"Caption",":").trim(),n.serial=i.getValue(s,"SerialNumber",":").trim(),n.build=i.getValue(s,"BuildNumber",":").trim(),n.servicepack=i.getValue(s,"ServicePackMajorVersion",":").trim()+"."+i.getValue(s,"ServicePackMinorVersion",":").trim(),n.codepage=i.getCodepage();const o=r.results[1]?r.results[1].toString().toLowerCase():"";n.hypervisor=-1!==o.indexOf("true");const l=r.results[2]?r.results[2].toString():"";n.remoteSession=l.toString().toLowerCase().indexOf("true")>=0,new Promise((e=>{process.nextTick((()=>{try{a('findstr /C:"Detected boot environment" "%windir%\\Panther\\setupact.log"',i.execOptsWin,(function(t,n){if(!t){const t=n.toString().split("\n\r")[0];return e(t.toLowerCase().indexOf("efi")>=0)}a("echo %firmware_type%",i.execOptsWin,(function(t,n){if(t)return e(!1);{const t=n.toString()||"";return e(t.toLowerCase().indexOf("efi")>=0)}}))}))}catch(t){return e(!1)}}))})).then((r=>{n.uefi=r,e&&e(n),t(n)}))}))}catch(r){e&&e(n),t(n)}}}))}))},t.versions=function(e,t){let n={kernel:r.release(),openssl:"",systemOpenssl:"",systemOpensslLib:"",node:process.versions.node,v8:process.versions.v8,npm:"",yarn:"",pm2:"",gulp:"",grunt:"",git:"",tsc:"",mysql:"",redis:"",mongodb:"",apache:"",nginx:"",php:"",docker:"",postfix:"",postgresql:"",perl:"",python:"",python3:"",pip:"",pip3:"",java:"",gcc:"",virtualbox:"",bash:"",zsh:"",fish:"",powershell:"",dotnet:""};return new Promise((r=>{process.nextTick((()=>{if(i.isFunction(e)&&!t)t=e,e="*";else if("string"!=typeof(e=e||"*"))return t&&t({}),r({});const l=function(e){if("*"===e)return{versions:n,counter:30};if(!Array.isArray(e)){e=(e=e.trim().toLowerCase().replace(/,+/g,"|").replace(/ /g,"|")).split("|");const t={versions:{},counter:0};return e.forEach((e=>{if(e)for(let r in n)({}).hasOwnProperty.call(n,r)&&(r.toLowerCase()!==e.toLowerCase()||{}.hasOwnProperty.call(t.versions,r)||(t.versions[r]=n[r],"openssl"===r&&(t.versions.systemOpenssl="",t.versions.systemOpensslLib=""),t.versions[r]||t.counter++))})),t}}(e);let d=l.counter,f=function(){0==--d&&(t&&t(l.versions),r(l.versions))},m="";try{if({}.hasOwnProperty.call(l.versions,"openssl")&&(l.versions.openssl=process.versions.openssl,a("openssl version",(function(e,t){if(!e){let e=t.toString().split("\n")[0].trim().split(" ");l.versions.systemOpenssl=e.length>0?e[1]:e[0],l.versions.systemOpensslLib=e.length>0?e[0]:"openssl"}f()}))),{}.hasOwnProperty.call(l.versions,"npm")&&a("npm -v",(function(e,t){e||(l.versions.npm=t.toString().split("\n")[0]),f()})),{}.hasOwnProperty.call(l.versions,"pm2")&&(m="pm2",p&&(m+=".cmd"),a(`${m} -v`,(function(e,t){if(!e){let e=t.toString().split("\n")[0].trim();e.startsWith("[PM2]")||(l.versions.pm2=e)}f()}))),{}.hasOwnProperty.call(l.versions,"yarn")&&a("yarn --version",(function(e,t){e||(l.versions.yarn=t.toString().split("\n")[0]),f()})),{}.hasOwnProperty.call(l.versions,"gulp")&&(m="gulp",p&&(m+=".cmd"),a(`${m} --version`,(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.gulp=(e.toLowerCase().split("version")[1]||"").trim()}f()}))),{}.hasOwnProperty.call(l.versions,"tsc")&&(m="tsc",p&&(m+=".cmd"),a(`${m} --version`,(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.tsc=(e.toLowerCase().split("version")[1]||"").trim()}f()}))),{}.hasOwnProperty.call(l.versions,"grunt")&&(m="grunt",p&&(m+=".cmd"),a(`${m} --version`,(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.grunt=(e.toLowerCase().split("cli v")[1]||"").trim()}f()}))),{}.hasOwnProperty.call(l.versions,"git"))if(u){const e=s.existsSync("/usr/local/Cellar/git")||s.existsSync("/opt/homebrew/bin/git");i.darwinXcodeExists()||e?a("git --version",(function(e,t){if(!e){let e=t.toString().split("\n")[0]||"";e=(e.toLowerCase().split("version")[1]||"").trim(),l.versions.git=(e.split(" ")[0]||"").trim()}f()})):f()}else a("git --version",(function(e,t){if(!e){let e=t.toString().split("\n")[0]||"";e=(e.toLowerCase().split("version")[1]||"").trim(),l.versions.git=(e.split(" ")[0]||"").trim()}f()}));if({}.hasOwnProperty.call(l.versions,"apache")&&a("apachectl -v 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(":");l.versions.apache=e.length>1?e[1].replace("Apache","").replace("/","").split("(")[0].trim():""}f()})),{}.hasOwnProperty.call(l.versions,"nginx")&&a("nginx -v 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.nginx=(e.toLowerCase().split("/")[1]||"").trim()}f()})),{}.hasOwnProperty.call(l.versions,"mysql")&&a("mysql -V",(function(e,t){if(!e){let e=t.toString().split("\n")[0]||"";if(e=e.toLowerCase(),e.indexOf(",")>-1){e=(e.split(",")[0]||"").trim();const t=e.split(" ");l.versions.mysql=(t[t.length-1]||"").trim()}else e.indexOf(" ver ")>-1&&(e=e.split(" ver ")[1],l.versions.mysql=e.split(" ")[0])}f()})),{}.hasOwnProperty.call(l.versions,"php")&&a("php -v",(function(e,t){if(!e){let e=(t.toString().split("\n")[0]||"").split("(");e[0].indexOf("-")&&(e=e[0].split("-")),l.versions.php=e[0].replace(/[^0-9.]/g,"")}f()})),{}.hasOwnProperty.call(l.versions,"redis")&&a("redis-server --version",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");l.versions.redis=i.getValue(e,"v","=",!0)}f()})),{}.hasOwnProperty.call(l.versions,"docker")&&a("docker --version",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");l.versions.docker=e.length>2&&e[2].endsWith(",")?e[2].slice(0,-1):""}f()})),{}.hasOwnProperty.call(l.versions,"postfix")&&a("postconf -d | grep mail_version",(function(e,t){if(!e){const e=t.toString().split("\n")||[];l.versions.postfix=i.getValue(e,"mail_version","=",!0)}f()})),{}.hasOwnProperty.call(l.versions,"mongodb")&&a("mongod --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.mongodb=(e.toLowerCase().split(",")[0]||"").replace(/[^0-9.]/g,"")}f()})),{}.hasOwnProperty.call(l.versions,"postgresql")&&(c?a("locate bin/postgres",(function(e,t){if(e)a("psql -V",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" ")||[];l.versions.postgresql=e.length?e[e.length-1]:"",l.versions.postgresql=l.versions.postgresql.split("-")[0]}f()})),f();else{const e=t.toString().split("\n").sort();e.length?a(e[e.length-1]+" -V",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" ")||[];l.versions.postgresql=e.length?e[e.length-1]:""}f()})):f()}})):p?i.powerShell("Get-WmiObject Win32_Service | select caption | fl").then((e=>{let t=e.split(/\n\s*\n/);for(let e=0;e<t.length;e++)if(""!==t[e].trim()){let n=t[e].trim().split("\r\n"),r=i.getValue(n,"caption",":",!0).toLowerCase();if(r.indexOf("postgresql")>-1){const e=r.split(" server ");e.length>1&&(l.versions.postgresql=e[1])}}f()})):a("postgres -V",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" ")||[];l.versions.postgresql=e.length?e[e.length-1]:""}f()}))),{}.hasOwnProperty.call(l.versions,"perl")&&a("perl -v",(function(e,t){if(!e){const e=t.toString().split("\n")||"";for(;e.length>0&&""===e[0].trim();)e.shift();e.length>0&&(l.versions.perl=e[0].split("(").pop().split(")")[0].replace("v",""))}f()})),{}.hasOwnProperty.call(l.versions,"python"))if(u){const e=o("sw_vers").toString().split("\n"),t=i.getValue(e,"ProductVersion",":"),n=s.existsSync("/usr/local/Cellar/python"),r=s.existsSync("/opt/homebrew/bin/python");i.darwinXcodeExists()&&i.semverCompare("12.0.1",t)<0||n||r?a(n?"/usr/local/Cellar/python -V 2>&1":r?"/opt/homebrew/bin/python -V 2>&1":"python -V 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.python=e.toLowerCase().replace("python","").trim()}f()})):f()}else a("python -V 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.python=e.toLowerCase().replace("python","").trim()}f()}));if({}.hasOwnProperty.call(l.versions,"python3"))if(u){const e=s.existsSync("/usr/local/Cellar/python3")||s.existsSync("/opt/homebrew/bin/python3");i.darwinXcodeExists()||e?a("python3 -V 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.python3=e.toLowerCase().replace("python","").trim()}f()})):f()}else a("python3 -V 2>&1",(function(e,t){if(!e){const e=t.toString().split("\n")[0]||"";l.versions.python3=e.toLowerCase().replace("python","").trim()}f()}));if({}.hasOwnProperty.call(l.versions,"pip"))if(u){const e=s.existsSync("/usr/local/Cellar/pip")||s.existsSync("/opt/homebrew/bin/pip");i.darwinXcodeExists()||e?a("pip -V 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");l.versions.pip=e.length>=2?e[1]:""}f()})):f()}else a("pip -V 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");l.versions.pip=e.length>=2?e[1]:""}f()}));if({}.hasOwnProperty.call(l.versions,"pip3"))if(u){const e=s.existsSync("/usr/local/Cellar/pip3")||s.existsSync("/opt/homebrew/bin/pip3");i.darwinXcodeExists()||e?a("pip3 -V 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");l.versions.pip3=e.length>=2?e[1]:""}f()})):f()}else a("pip3 -V 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split(" ");l.versions.pip3=e.length>=2?e[1]:""}f()}));({}).hasOwnProperty.call(l.versions,"java")&&(u?a("/usr/libexec/java_home -V 2>&1",(function(e,t){e||-1!==t.toString().toLowerCase().indexOf("no java runtime")?f():a("java -version 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split('"');l.versions.java=3===e.length?e[1].trim():""}f()}))})):a("java -version 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split('"');l.versions.java=3===e.length?e[1].trim():""}f()}))),{}.hasOwnProperty.call(l.versions,"gcc")&&(u&&i.darwinXcodeExists()||!u?a("gcc -dumpversion",(function(e,t){e||(l.versions.gcc=t.toString().split("\n")[0].trim()||""),l.versions.gcc.indexOf(".")>-1?f():a("gcc --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0].trim();if(e.indexOf("gcc")>-1&&e.indexOf(")")>-1){const t=e.split(")");l.versions.gcc=t[1].trim()||l.versions.gcc}}f()}))})):f()),{}.hasOwnProperty.call(l.versions,"virtualbox")&&a(i.getVboxmanage()+" -v 2>&1",(function(e,t){if(!e){const e=(t.toString().split("\n")[0]||"").split("r");l.versions.virtualbox=e[0]}f()})),{}.hasOwnProperty.call(l.versions,"bash")&&a("bash --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" version ");e.length>1&&(l.versions.bash=e[1].split(" ")[0].split("(")[0])}f()})),{}.hasOwnProperty.call(l.versions,"zsh")&&a("zsh --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split("zsh ");e.length>1&&(l.versions.zsh=e[1].split(" ")[0])}f()})),{}.hasOwnProperty.call(l.versions,"fish")&&a("fish --version",(function(e,t){if(!e){const e=t.toString().split("\n")[0].split(" version ");e.length>1&&(l.versions.fish=e[1].split(" ")[0])}f()})),{}.hasOwnProperty.call(l.versions,"powershell")&&(p?i.powerShell("$PSVersionTable").then((e=>{const t=e.toString().split("\n").map((e=>e.replace(/ +/g," ").replace(/ +/g,":")));l.versions.powershell=i.getValue(t,"psversion"),f()})):f()),{}.hasOwnProperty.call(l.versions,"dotnet")&&i.powerShell('gci "HKLM:\\SOFTWARE\\Microsoft\\NET Framework Setup\\NDP" -recurse | gp -name Version,Release -EA 0 | where { $_.PSChildName -match "^(?!S)\\p{L}"} | select PSChildName, Version, Release').then((e=>{const t=e.toString().split("\r\n");let n="";t.forEach((e=>{const t=(e=e.replace(/ +/g," ")).split(" ");n=n||(t[0].toLowerCase().startsWith("client")&&t.length>2||t[0].toLowerCase().startsWith("full")&&t.length>2?t[1].trim():"")})),l.versions.dotnet=n.trim(),f()}))}catch(e){t&&t(l.versions),r(l.versions)}}))}))},t.shell=function(e){return new Promise((t=>{process.nextTick((()=>{if(p)t("cmd");else{let n="";a("echo $SHELL",(function(r,s){r||(n=s.toString().split("\n")[0]),e&&e(n),t(n)}))}}))}))},t.uuid=w},9423:(e,t,n)=>{"use strict";const r=n(2081).exec,s=n(9778);let i=process.platform;const a="linux"===i||"android"===i,o="darwin"===i,l="win32"===i,c="freebsd"===i,u="openbsd"===i,p="netbsd"===i,d="sunos"===i,f={1:"Other",2:"Unknown",3:"Idle",4:"Printing",5:"Warmup",6:"Stopped Printing",7:"Offline"};function m(e){const t={},n=s.getValue(e,"PrinterId"," ");return t.id=n?parseInt(n,10):null,t.name=s.getValue(e,"Info"," "),t.model=e.length>0&&e[0]?e[0].split(" ")[0]:"",t.uri=s.getValue(e,"DeviceURI"," "),t.uuid=s.getValue(e,"UUID"," "),t.status=s.getValue(e,"State"," "),t.local=s.getValue(e,"Location"," ").toLowerCase().startsWith("local"),t.default=null,t.shared=s.getValue(e,"Shared"," ").toLowerCase().startsWith("yes"),t}function g(e,t){const n={};return n.id=t,n.name=s.getValue(e,"Description",":",!0),n.model=e.length>0&&e[0]?e[0].split(" ")[0]:"",n.uri=null,n.uuid=null,n.status=e.length>0&&e[0]?e[0].indexOf(" idle")>0?"idle":e[0].indexOf(" printing")>0?"printing":"unknown":null,n.local=s.getValue(e,"Location",":",!0).toLowerCase().startsWith("local"),n.default=null,n.shared=s.getValue(e,"Shared"," ").toLowerCase().startsWith("yes"),n}function h(e,t){const n={},r=e.uri.split("/");return n.id=t,n.name=e._name,n.model=r.length?r[r.length-1]:"",n.uri=e.uri,n.uuid=null,n.status=e.status,n.local="local"===e.printserver,n.default="yes"===e.default,n.shared="yes"===e.shared,n}function y(e,t){const n={},r=parseInt(s.getValue(e,"PrinterStatus",":"),10);return n.id=t,n.name=s.getValue(e,"name",":"),n.model=s.getValue(e,"DriverName",":"),n.uri=null,n.uuid=null,n.status=f[r]?f[r]:null,n.local="TRUE"===s.getValue(e,"Local",":").toUpperCase(),n.default="TRUE"===s.getValue(e,"Default",":").toUpperCase(),n.shared="TRUE"===s.getValue(e,"Shared",":").toUpperCase(),n}t.printer=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];if(a||c||u||p){let s="cat /etc/cups/printers.conf 2>/dev/null";r(s,(function(i,o){if(!i){const e=o.toString().split("<Printer "),t=function(e){const t={};if(e&&e.length&&e[0].indexOf(" CUPS v")>0){const n=e[0].split(" CUPS v");t.cupsVersion=n[1]}return t}(e[0]);for(let r=1;r<e.length;r++){const s=m(e[r].split("\n"));s.name&&(s.engine="CUPS",s.engineVersion=t.cupsVersion,n.push(s))}}0===n.length&&a?(s="export LC_ALL=C; lpstat -lp 2>/dev/null; unset LC_ALL",r(s,(function(e,t){const r=("\n"+t.toString()).split("\nprinter ");for(let e=1;e<r.length;e++){const t=g(r[e].split("\n"),e);n.push(t)}})),e&&e(n),t(n)):(e&&e(n),t(n))}))}o&&r("system_profiler SPPrintersDataType -json",(function(r,i){if(!r)try{const e=JSON.parse(i.toString());if(e.SPPrintersDataType&&e.SPPrintersDataType.length)for(let t=0;t<e.SPPrintersDataType.length;t++){const r=h(e.SPPrintersDataType[t],t);n.push(r)}}catch(e){s.noop()}e&&e(n),t(n)})),l&&s.powerShell("Get-WmiObject Win32_Printer | select PrinterStatus,Name,DriverName,Local,Default,Shared | fl").then(((r,s)=>{if(!s){const e=r.toString().split(/\n\s*\n/);for(let t=0;t<e.length;t++){const r=y(e[t].split("\n"),t);(r.name||r.model)&&n.push(y(e[t].split("\n"),t))}}e&&e(n),t(n)})),d&&t(null)}))}))}},8563:(e,t,n)=>{"use strict";const r=n(2037),s=n(7147),i=n(1017),a=n(2081).exec,o=n(2081).execSync,l=n(9778);let c=process.platform;const u="linux"===c||"android"===c,p="darwin"===c,d="win32"===c,f="freebsd"===c,m="openbsd"===c,g="netbsd"===c,h="sunos"===c,y={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},v={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},w={all:0,all_utime:0,all_stime:0,list:{},ms:0,result:{}},S={0:"unknown",1:"other",2:"ready",3:"running",4:"blocked",5:"suspended blocked",6:"suspended ready",7:"terminated",8:"stopped",9:"growing"};function x(e){let t=e.replace(/ +/g," ").split(" ");return(t.length>=2?parseInt(t[1]):0)+(t.length>=3?parseInt(t[2]):0)+(t.length>=4?parseInt(t[3]):0)+(t.length>=5?parseInt(t[4]):0)+(t.length>=6?parseInt(t[5]):0)+(t.length>=7?parseInt(t[6]):0)+(t.length>=8?parseInt(t[7]):0)+(t.length>=9?parseInt(t[8]):0)+(t.length>=10?parseInt(t[9]):0)+(t.length>=11?parseInt(t[10]):0)}function b(e,t,n){let r=e.replace(/ +/g," ").split(")");if(r.length>=2){let e=r[1].split(" ");if(e.length>=16){let s=parseInt(r[0].split(" ")[0]),i=parseInt(e[12]),a=parseInt(e[13]),o=parseInt(e[14]),l=parseInt(e[15]),c=0,u=0;return n.all>0&&n.list[s]?(c=(i+o-n.list[s].utime-n.list[s].cutime)/(t-n.all)*100,u=(a+l-n.list[s].stime-n.list[s].cstime)/(t-n.all)*100):(c=(i+o)/t*100,u=(a+l)/t*100),{pid:s,utime:i,stime:a,cutime:o,cstime:l,cpuu:c,cpus:u}}return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}return{pid:0,utime:0,stime:0,cutime:0,cstime:0,cpuu:0,cpus:0}}function O(e,t,n){let r=0,s=0;return n.all>0&&n.list[e.pid]?(r=(e.utime-n.list[e.pid].utime)/(t-n.all)*100,s=(e.stime-n.list[e.pid].stime)/(t-n.all)*100):(r=e.utime/t*100,s=e.stime/t*100),{pid:e.pid,utime:r>0?e.utime:0,stime:s>0?e.stime:0,cpuu:r>0?r:0,cpus:s>0?s:0}}t.services=function(e,t){return l.isFunction(e)&&!t&&(t=e,e=""),new Promise((n=>{process.nextTick((()=>{if("string"!=typeof e)return t&&t([]),n([]);if(e){let r="";r.__proto__.toLowerCase=l.stringToLower,r.__proto__.replace=l.stringReplace,r.__proto__.trim=l.stringTrim;const s=l.sanitizeShellString(e);for(let e=0;e<=l.mathMin(s.length,2e3);e++)void 0!==s[e]&&(r+=s[e]);r=r.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),""===r&&(r="*"),l.isPrototypePolluted()&&"*"!==r&&(r="------");let i=r.split("|"),c=[],h=[];if(u||f||m||g||p){if((u||f||m||g)&&"*"===r)try{const e=o("systemctl --type=service --no-legend 2> /dev/null").toString().split("\n");i=[];for(const t of e){const e=t.split(".service")[0];e&&i.push(e)}r=i.join("|")}catch(e){try{r="";const e=o("service --status-all 2> /dev/null").toString().split("\n");for(const t of e){const e=t.split("]");2===e.length&&(r+=(""!==r?"|":"")+e[1].trim())}i=r.split("|")}catch(e){try{const e=o("ls /etc/init.d/ -m 2> /dev/null").toString().split("\n").join("");if(r="",e){const t=e.split(",");for(const e of t){const t=e.trim();t&&(r+=(""!==r?"|":"")+t)}i=r.split("|")}}catch(e){r="",i=[]}}}p&&"*"===r&&(t&&t(c),n(c));let e=p?["-caxo","pcpu,pmem,pid,command"]:["-axo","pcpu,pmem,pid,command"];""!==r&&i.length>0?l.execSafe("ps",e).then((r=>{if(r){let e=r.replace(/ +/g," ").replace(/,+/g,".").split("\n");if(i.forEach((function(t){let n;n=p?e.filter((function(e){return-1!==e.toLowerCase().indexOf(t)})):e.filter((function(e){return-1!==e.toLowerCase().indexOf(" "+t+":")||-1!==e.toLowerCase().indexOf("/"+t)}));const r=[];for(const e of n){const t=e.trim().split(" ")[2];t&&r.push(parseInt(t,10))}c.push({name:t,running:n.length>0,startmode:"",pids:r,cpu:parseFloat(n.reduce((function(e,t){return e+parseFloat(t.trim().split(" ")[0])}),0).toFixed(2)),mem:parseFloat(n.reduce((function(e,t){return e+parseFloat(t.trim().split(" ")[1])}),0).toFixed(2))})})),u){let e='cat /proc/stat | grep "cpu "';for(let t in c)for(let n in c[t].pids)e+=";cat /proc/"+c[t].pids[n]+"/stat";a(e,{maxBuffer:2048e4},(function(e,r){let s=r.toString().split("\n"),i=x(s.shift()),a={},o={};for(let e=0;e<s.length;e++)if(o=b(s[e],i,v),o.pid){let e=-1;for(let t in c)for(let n in c[t].pids)parseInt(c[t].pids[n])===parseInt(o.pid)&&(e=t);e>=0&&(c[e].cpu+=o.cpuu+o.cpus),a[o.pid]={cpuu:o.cpuu,cpus:o.cpus,utime:o.utime,stime:o.stime,cutime:o.cutime,cstime:o.cstime}}v.all=i,v.list=Object.assign({},a),v.ms=Date.now()-v.ms,v.result=Object.assign({},c),t&&t(c),n(c)}))}else t&&t(c),n(c)}else e=["-o","comm"],l.execSafe("ps",e).then((e=>{if(e){let r=e.replace(/ +/g," ").replace(/,+/g,".").split("\n");i.forEach((function(e){let t=r.filter((function(t){return-1!==t.indexOf(e)}));c.push({name:e,running:t.length>0,startmode:"",cpu:0,mem:0})})),t&&t(c),n(c)}else i.forEach((function(e){c.push({name:e,running:!1,startmode:"",cpu:0,mem:0})})),t&&t(c),n(c)}))})):(t&&t(c),n(c))}if(d)try{let e="Get-WmiObject Win32_Service";if("*"!==i[0]){e+=' -Filter "';for(let t=0;t<i.length;t++)e+=`Name='${i[t]}' or `;e=`${e.slice(0,-4)}"`}e+=" | select Name,Caption,Started,StartMode,ProcessId | fl",l.powerShell(e).then(((e,s)=>{if(s)i.forEach((function(e){c.push({name:e,running:!1,startmode:"",cpu:0,mem:0})})),t&&t(c),n(c);else{let s=e.split(/\n\s*\n/);for(let e=0;e<s.length;e++)if(""!==s[e].trim()){let t=s[e].trim().split("\r\n"),n=l.getValue(t,"Name",":",!0).toLowerCase(),a=l.getValue(t,"Caption",":",!0).toLowerCase(),o=l.getValue(t,"Started",":",!0),u=l.getValue(t,"StartMode",":",!0),p=l.getValue(t,"ProcessId",":",!0);("*"===r||i.indexOf(n)>=0||i.indexOf(a)>=0)&&(c.push({name:n,running:"true"===o.toLowerCase(),startmode:u,pids:[p],cpu:0,mem:0}),h.push(n),h.push(a))}"*"!==r&&i.filter((function(e){return-1===h.indexOf(e)})).forEach((function(e){c.push({name:e,running:!1,startmode:"",pids:[],cpu:0,mem:0})})),t&&t(c),n(c)}}))}catch(e){t&&t(c),n(c)}}else t&&t([]),n([])}))}))},t.processes=function(e){let t=[];function n(e){let t=(e=e||"").split(" ")[0];if(":"===t.substr(-1)&&(t=t.substr(0,t.length-1)),"["!==t.substr(0,1)){let e=t.split("/");t=isNaN(parseInt(e[e.length-1]))?e[e.length-1]:e[0]}return t}return new Promise((o=>{process.nextTick((()=>{let c={all:0,running:0,blocked:0,sleeping:0,unknown:0,list:[]},v="";if(y.ms&&Date.now()-y.ms>=500||0===y.ms)if(u||f||m||g||p||h)u&&(v="export LC_ALL=C; ps -axo pid:11,ppid:11,pcpu:6,pmem:6,pri:5,vsz:11,rss:11,ni:5,lstart:30,state:5,tty:15,user:20,command; unset LC_ALL"),(f||m||g)&&(v="export LC_ALL=C; ps -axo pid,ppid,pcpu,pmem,pri,vsz,rss,ni,lstart,state,tty,user,command; unset LC_ALL"),p&&(v="ps -axo pid,ppid,pcpu,pmem,pri,vsz=xxx_fake_title,rss=fake_title2,nice,lstart,state,tty,user,command -r"),h&&(v="ps -Ao pid,ppid,pcpu,pmem,pri,vsz,rss,nice,stime,s,tty,user,comm"),a(v,{maxBuffer:2048e4},(function(p,d){if(!p&&d.toString().trim())if(c.list=function(e){let r=[];if(e.length>1){let a=e[0];t=l.parseHead(a,8),e.shift(),e.forEach((function(e){""!==e.trim()&&r.push(function(e){let r=0,a=0;function o(n){r=a,a=t[n]?e.substring(t[n].to+r,1e4).indexOf(" "):1e4}o(0);const l=parseInt(e.substring(t[0].from+r,t[0].to+a));o(1);const c=parseInt(e.substring(t[1].from+r,t[1].to+a));o(2);const p=parseFloat(e.substring(t[2].from+r,t[2].to+a).replace(/,/g,"."));o(3);const d=parseFloat(e.substring(t[3].from+r,t[3].to+a).replace(/,/g,"."));o(4);const f=parseInt(e.substring(t[4].from+r,t[4].to+a));o(5);const m=parseInt(e.substring(t[5].from+r,t[5].to+a));o(6);const g=parseInt(e.substring(t[6].from+r,t[6].to+a));o(7);const h=parseInt(e.substring(t[7].from+r,t[7].to+a))||0;o(8);const y=function(e){let t=e,n=e.replace(/ +/g," ").split(" ");return 5===n.length&&(t=n[4]+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(n[1].toUpperCase())/3+1)).slice(-2)+"-"+("0"+n[2]).slice(-2)+" "+n[3]),t}(e.substring(t[8].from+r,t[8].to+a).trim());o(9);let v=e.substring(t[9].from+r,t[9].to+a).trim();v="R"===v[0]?"running":"S"===v[0]?"sleeping":"T"===v[0]?"stopped":"W"===v[0]?"paging":"X"===v[0]?"dead":"Z"===v[0]?"zombie":"D"===v[0]||"U"===v[0]?"blocked":"unknown",o(10);let w=e.substring(t[10].from+r,t[10].to+a).trim();"?"!==w&&"??"!==w||(w=""),o(11);const S=e.substring(t[11].from+r,t[11].to+a).trim();o(12);let x="",b="",O="",C=e.substring(t[12].from+r,t[12].to+a).trim();if("]"===C.substr(C.length-1)&&(C=C.slice(0,-1)),"["===C.substr(0,1))b=C.substring(1);else{let e=C.indexOf(" -"),t=C.indexOf(" /");e=e>=0?e:1e4,t=t>=0?t:1e4;const n=Math.min(e,t);let r=C.substr(0,n);const a=C.substr(n),o=r.lastIndexOf("/");if(o>=0&&(x=r.substr(0,o),r=r.substr(o+1)),1e4===n&&r.indexOf(" ")>-1){const e=r.split(" ");s.existsSync(i.join(x,e[0]))?(b=e.shift(),O=(e.join(" ")+" "+a).trim()):(b=r.trim(),O=a.trim())}else b=r.trim(),O=a.trim()}return{pid:l,parentPid:c,name:u?n(b):b,cpu:p,cpuu:0,cpus:0,mem:d,priority:f,memVsz:m,memRss:g,nice:h,started:y,state:v,tty:w,user:S,command:b,params:O,path:x}}(e))}))}return r}(d.toString().split("\n")).slice(),c.all=c.list.length,c.running=c.list.filter((function(e){return"running"===e.state})).length,c.blocked=c.list.filter((function(e){return"blocked"===e.state})).length,c.sleeping=c.list.filter((function(e){return"sleeping"===e.state})).length,u){v='cat /proc/stat | grep "cpu "';for(let e=0;e<c.list.length;e++)v+=";cat /proc/"+c.list[e].pid+"/stat";a(v,{maxBuffer:2048e4},(function(t,n){let r=n.toString().split("\n"),s=x(r.shift()),i={},a={};for(let e=0;e<r.length;e++)if(a=b(r[e],s,y),a.pid){let e=c.list.map((function(e){return e.pid})).indexOf(a.pid);e>=0&&(c.list[e].cpu=a.cpuu+a.cpus,c.list[e].cpuu=a.cpuu,c.list[e].cpus=a.cpus),i[a.pid]={cpuu:a.cpuu,cpus:a.cpus,utime:a.utime,stime:a.stime,cutime:a.cutime,cstime:a.cstime}}y.all=s,y.list=Object.assign({},i),y.ms=Date.now()-y.ms,y.result=Object.assign({},c),e&&e(c),o(c)}))}else e&&e(c),o(c);else v="ps -o pid,ppid,vsz,rss,nice,etime,stat,tty,user,comm",h&&(v="ps -o pid,ppid,vsz,rss,nice,etime,s,tty,user,comm"),a(v,{maxBuffer:2048e4},(function(t,s){if(t)e&&e(c),o(c);else{let t=s.toString().split("\n");t.shift(),c.list=function(e){let t=[];return e.forEach((function(e){if(""!==e.trim()){const s=(e=e.trim().replace(/ +/g," ").replace(/,+/g,".")).split(" "),i=s.slice(9).join(" "),a=parseFloat((1*parseInt(s[3])*1024/r.totalmem()).toFixed(1)),o=s[5].split(":"),l=function(e){const t=("0"+(e.getMonth()+1).toString()).substr(-2);return e.getFullYear().toString()+"-"+t+"-"+("0"+e.getDay().toString()).substr(-2)+" "+e.getHours().toString()+":"+e.getMinutes().toString()+":"+("0"+e.getSeconds().toString()).substr(-2)}(new Date(Date.now()-(o.length>1?1e3*(60*o[0]+o[1]):1e3*o[0])));t.push({pid:parseInt(s[0]),parentPid:parseInt(s[1]),name:n(i),cpu:0,cpuu:0,cpus:0,mem:a,priority:0,memVsz:parseInt(s[2]),memRss:parseInt(s[3]),nice:parseInt(s[4]),started:l,state:"R"===s[6]?"running":"S"===s[6]?"sleeping":"T"===s[6]?"stopped":"W"===s[6]?"paging":"X"===s[6]?"dead":"Z"===s[6]?"zombie":"D"===s[6]||"U"===s[6]?"blocked":"unknown",tty:s[7],user:s[8],command:i})}})),t}(t).slice(),c.all=c.list.length,c.running=c.list.filter((function(e){return"running"===e.state})).length,c.blocked=c.list.filter((function(e){return"blocked"===e.state})).length,c.sleeping=c.list.filter((function(e){return"sleeping"===e.state})).length,e&&e(c),o(c)}}))}));else if(d)try{l.powerShell("Get-WmiObject Win32_Process | select ProcessId,ParentProcessId,ExecutionState,Caption,CommandLine,ExecutablePath,UserModeTime,KernelModeTime,WorkingSetSize,Priority,PageFileUsage,CreationDate | fl").then(((t,n)=>{if(!n){let e=t.split(/\n\s*\n/),n=[],i=[],a={},o=0,u=0;for(let t=0;t<e.length;t++)if(""!==e[t].trim()){let a=e[t].trim().split("\r\n"),p=parseInt(l.getValue(a,"ProcessId",":",!0),10),d=parseInt(l.getValue(a,"ParentProcessId",":",!0),10),f=l.getValue(a,"ExecutionState",":"),m=l.getValue(a,"Caption",":",!0),g=l.getValue(a,"CommandLine",":",!0),h=l.getValue(a,"ExecutablePath",":",!0),y=parseInt(l.getValue(a,"UserModeTime",":",!0),10),v=parseInt(l.getValue(a,"KernelModeTime",":",!0),10),w=parseInt(l.getValue(a,"WorkingSetSize",":",!0),10);o+=y,u+=v,c.all++,f||c.unknown++,"3"===f&&c.running++,"4"!==f&&"5"!==f||c.blocked++,i.push({pid:p,utime:y,stime:v,cpu:0,cpuu:0,cpus:0}),n.push({pid:p,parentPid:d,name:m,cpu:0,cpuu:0,cpus:0,mem:w/r.totalmem()*100,priority:parseInt(l.getValue(a,"Priority",":",!0),10),memVsz:parseInt(l.getValue(a,"PageFileUsage",":",!0),10),memRss:Math.floor(parseInt(l.getValue(a,"WorkingSetSize",":",!0),10)/1024),nice:0,started:(s=l.getValue(a,"CreationDate",":",!0),(s=s||"")?s.substr(0,4)+"-"+s.substr(4,2)+"-"+s.substr(6,2)+" "+s.substr(8,2)+":"+s.substr(10,2)+":"+s.substr(12,2):""),state:f?S[f]:S[0],tty:"",user:"",command:g||m,path:h,params:""})}c.sleeping=c.all-c.running-c.blocked-c.unknown,c.list=n;for(let e=0;e<i.length;e++){let t=O(i[e],o+u,y),n=c.list.map((function(e){return e.pid})).indexOf(t.pid);n>=0&&(c.list[n].cpu=t.cpuu+t.cpus,c.list[n].cpuu=t.cpuu,c.list[n].cpus=t.cpus),a[t.pid]={cpuu:t.cpuu,cpus:t.cpus,utime:t.utime,stime:t.stime}}y.all=o+u,y.all_utime=o,y.all_stime=u,y.list=Object.assign({},a),y.ms=Date.now()-y.ms,y.result=Object.assign({},c)}var s;e&&e(c),o(c)}))}catch(t){e&&e(c),o(c)}else e&&e(c),o(c);else e&&e(y.result),o(y.result)}))}))},t.processLoad=function(e,t){return l.isFunction(e)&&!t&&(t=e,e=""),new Promise((n=>{process.nextTick((()=>{if("string"!=typeof(e=e||""))return t&&t([]),n([]);let s="";s.__proto__.toLowerCase=l.stringToLower,s.__proto__.replace=l.stringReplace,s.__proto__.trim=l.stringTrim;const i=l.sanitizeShellString(e);for(let e=0;e<=l.mathMin(i.length,2e3);e++)void 0!==i[e]&&(s+=i[e]);s=s.trim().toLowerCase().replace(/, /g,"|").replace(/,+/g,"|"),""===s&&(s="*"),l.isPrototypePolluted()&&"*"!==s&&(s="------");let o=s.split("|"),c=[];if(!l.isPrototypePolluted()&&l.sanitizeShellString(e)&&o.length&&"------"!==o[0]){if(d)try{l.powerShell("Get-WmiObject Win32_Process | select ProcessId,Caption,UserModeTime,KernelModeTime,WorkingSetSize | fl").then(((e,i)=>{if(!i){let i=e.split(/\n\s*\n/),a=[],u={},p=0,d=0;for(let e=0;e<i.length;e++)if(""!==i[e].trim()){let t=i[e].trim().split("\r\n"),n=parseInt(l.getValue(t,"ProcessId",":",!0),10),u=l.getValue(t,"Caption",":",!0),f=parseInt(l.getValue(t,"UserModeTime",":",!0),10),m=parseInt(l.getValue(t,"KernelModeTime",":",!0),10),g=parseInt(l.getValue(t,"WorkingSetSize",":",!0),10);p+=f,d+=m,a.push({pid:n,name:u,utime:f,stime:m,cpu:0,cpuu:0,cpus:0,mem:g});let h="",y=!1;if(o.forEach((function(e){u.toLowerCase().indexOf(e.toLowerCase())>=0&&!y&&(y=!0,h=e)})),"*"===s||y){let e=!1;c.forEach((function(t){t.proc.toLowerCase()===h.toLowerCase()&&(t.pids.push(n),t.mem+=g/r.totalmem()*100,e=!0)})),e||c.push({proc:h,pid:n,pids:[n],cpu:0,mem:g/r.totalmem()*100})}}"*"!==s&&o.filter((function(e){return 0===a.filter((function(t){return t.name.toLowerCase().indexOf(e)>=0})).length})).forEach((function(e){c.push({proc:e,pid:null,pids:[],cpu:0,mem:0})}));for(let e=0;e<a.length;e++){let t=O(a[e],p+d,w),n=-1;for(let e=0;e<c.length;e++)(c[e].pid===t.pid||c[e].pids.indexOf(t.pid)>=0)&&(n=e);n>=0&&(c[n].cpu+=t.cpuu+t.cpus),u[t.pid]={cpuu:t.cpuu,cpus:t.cpus,utime:t.utime,stime:t.stime}}w.all=p+d,w.all_utime=p,w.all_stime=d,w.list=Object.assign({},u),w.ms=Date.now()-w.ms,w.result=JSON.parse(JSON.stringify(c)),t&&t(c),n(c)}}))}catch(e){t&&t(c),n(c)}if(p||u||f||m||g){const e=["-axo","pid,pcpu,pmem,comm"];l.execSafe("ps",e).then((e=>{if(e){let r=[];if(e.toString().split("\n").filter((function(e){if("*"===s)return!0;if(-1!==e.toLowerCase().indexOf("grep"))return!1;let t=!1;return o.forEach((function(n){t=t||e.toLowerCase().indexOf(n.toLowerCase())>=0})),t})).forEach((function(e){let t=e.trim().replace(/ +/g," ").split(" ");t.length>3&&r.push({name:t[3].substring(t[3].lastIndexOf("/")+1),pid:parseInt(t[0])||0,cpu:parseFloat(t[1].replace(",",".")),mem:parseFloat(t[2].replace(",","."))})})),r.forEach((function(e){let t=-1,n=!1,r="";for(let n=0;n<c.length;n++)e.name.toLowerCase().indexOf(c[n].proc.toLowerCase())>=0&&(t=n);o.forEach((function(t){e.name.toLowerCase().indexOf(t.toLowerCase())>=0&&!n&&(n=!0,r=t)})),("*"===s||n)&&(t<0?c.push({proc:r,pid:e.pid,pids:[e.pid],cpu:e.cpu,mem:e.mem}):(c[t].pids.push(e.pid),c[t].cpu+=e.cpu,c[t].mem+=e.mem))})),"*"!==s&&o.filter((function(e){return 0===r.filter((function(t){return t.name.toLowerCase().indexOf(e)>=0})).length})).forEach((function(e){c.push({proc:e,pid:null,pids:[],cpu:0,mem:0})})),u){c.forEach((function(e){e.cpu=0}));let e='cat /proc/stat | grep "cpu "';for(let t in c)for(let n in c[t].pids)e+=";cat /proc/"+c[t].pids[n]+"/stat";a(e,{maxBuffer:2048e4},(function(e,r){let s=r.toString().split("\n"),i=x(s.shift()),a={},o={};for(let e=0;e<s.length;e++)if(o=b(s[e],i,w),o.pid){let e=-1;for(let t in c)c[t].pids.indexOf(o.pid)>=0&&(e=t);e>=0&&(c[e].cpu+=o.cpuu+o.cpus),a[o.pid]={cpuu:o.cpuu,cpus:o.cpus,utime:o.utime,stime:o.stime,cutime:o.cutime,cstime:o.cstime}}c.forEach((function(e){e.cpu=Math.round(100*e.cpu)/100})),w.all=i,w.list=Object.assign({},a),w.ms=Date.now()-w.ms,w.result=Object.assign({},c),t&&t(c),n(c)}))}else t&&t(c),n(c)}else t&&t(c),n(c)}))}}}))}))}},5664:(e,t,n)=>{"use strict";const r=n(7147),s=n(2037),i=n(9778),a=n(2081).exec,o=n(2081).execSync,l=i.promisify(n(2081).exec);let c=process.platform;const u="linux"===c||"android"===c,p="darwin"===c,d="win32"===c,f="freebsd"===c,m="openbsd"===c,g="netbsd"===c,h="sunos"===c;t.system=function(e){return new Promise((t=>{process.nextTick((()=>{let n={manufacturer:"",model:"Computer",version:"",serial:"-",uuid:"-",sku:"-",virtual:!1};if((u||f||m||g)&&a("export LC_ALL=C; dmidecode -t system 2>/dev/null; unset LC_ALL",(function(a,l){let c=l.toString().split("\n");n.manufacturer=i.getValue(c,"manufacturer"),n.model=i.getValue(c,"product name"),n.version=i.getValue(c,"version"),n.serial=i.getValue(c,"serial number"),n.uuid=i.getValue(c,"uuid").toLowerCase(),n.sku=i.getValue(c,"sku number");try{c=o('echo -n "product_name: "; cat /sys/devices/virtual/dmi/id/product_name 2>/dev/null; echo;\n            echo -n "product_serial: "; cat /sys/devices/virtual/dmi/id/product_serial 2>/dev/null; echo;\n            echo -n "product_uuid: "; cat /sys/devices/virtual/dmi/id/product_uuid 2>/dev/null; echo;\n            echo -n "product_version: "; cat /sys/devices/virtual/dmi/id/product_version 2>/dev/null; echo;\n            echo -n "sys_vendor: "; cat /sys/devices/virtual/dmi/id/sys_vendor 2>/dev/null; echo;').toString().split("\n"),n.manufacturer=""===n.manufacturer?i.getValue(c,"sys_vendor"):n.manufacturer,n.model=""===n.model?i.getValue(c,"product_name"):n.model,n.version=""===n.version?i.getValue(c,"product_version"):n.version,n.serial=""===n.serial?i.getValue(c,"product_serial"):n.serial,n.uuid=""===n.uuid?i.getValue(c,"product_uuid").toLowerCase():n.uuid}catch(e){i.noop()}if(n.serial&&-1===n.serial.toLowerCase().indexOf("o.e.m.")||(n.serial="-"),n.manufacturer&&-1===n.manufacturer.toLowerCase().indexOf("o.e.m.")||(n.manufacturer=""),n.model&&-1===n.model.toLowerCase().indexOf("o.e.m.")||(n.model="Computer"),n.version&&-1===n.version.toLowerCase().indexOf("o.e.m.")||(n.version=""),n.sku&&-1===n.sku.toLowerCase().indexOf("o.e.m.")||(n.sku="-"),"virtualbox"===n.model.toLowerCase()||"kvm"===n.model.toLowerCase()||"virtual machine"===n.model.toLowerCase()||"bochs"===n.model.toLowerCase()||n.model.toLowerCase().startsWith("vmware")||n.model.toLowerCase().startsWith("droplet"))switch(n.virtual=!0,n.model.toLowerCase()){case"virtualbox":n.virtualHost="VirtualBox";break;case"vmware":n.virtualHost="VMware";break;case"kvm":n.virtualHost="KVM";break;case"bochs":n.virtualHost="bochs"}if(n.manufacturer.toLowerCase().startsWith("vmware")||"xen"===n.manufacturer.toLowerCase())switch(n.virtual=!0,n.manufacturer.toLowerCase()){case"vmware":n.virtualHost="VMware";break;case"xen":n.virtualHost="Xen"}if(!n.virtual)try{const e=o("ls -1 /dev/disk/by-id/ 2>/dev/null").toString();e.indexOf("_QEMU_")>=0&&(n.virtual=!0,n.virtualHost="QEMU"),e.indexOf("_VBOX_")>=0&&(n.virtual=!0,n.virtualHost="VirtualBox")}catch(e){i.noop()}if(!n.virtual&&(s.release().toLowerCase().indexOf("microsoft")>=0||s.release().toLowerCase().endsWith("wsl2"))){const e=parseFloat(s.release().toLowerCase());n.virtual=!0,n.manufacturer="Microsoft",n.model="WSL",n.version=e<4.19?"1":"2"}if((f||m||g)&&!n.virtualHost)try{const e=o("dmidecode -t 4").toString().split("\n");switch(i.getValue(e,"manufacturer",":",!0).toLowerCase()){case"virtualbox":n.virtualHost="VirtualBox";break;case"vmware":n.virtualHost="VMware";break;case"kvm":n.virtualHost="KVM";break;case"bochs":n.virtualHost="bochs"}}catch(e){i.noop()}(r.existsSync("/.dockerenv")||r.existsSync("/.dockerinit"))&&(n.model="Docker Container");try{const e=o('dmesg 2>/dev/null | grep -iE "virtual|hypervisor" | grep -iE "vmware|qemu|kvm|xen" | grep -viE "Nested Virtualization|/virtual/"');e.toString().split("\n").length>0&&("Computer"===n.model&&(n.model="Virtual machine"),n.virtual=!0,e.toString().toLowerCase().indexOf("vmware")>=0&&!n.virtualHost&&(n.virtualHost="VMware"),e.toString().toLowerCase().indexOf("qemu")>=0&&!n.virtualHost&&(n.virtualHost="QEMU"),e.toString().toLowerCase().indexOf("xen")>=0&&!n.virtualHost&&(n.virtualHost="Xen"),e.toString().toLowerCase().indexOf("kvm")>=0&&!n.virtualHost&&(n.virtualHost="KVM"))}catch(e){i.noop()}""===n.manufacturer&&"Computer"===n.model&&""===n.version?r.readFile("/proc/cpuinfo",(function(r,s){if(!r){let e=s.toString().split("\n");n.model=i.getValue(e,"hardware",":",!0).toUpperCase(),n.version=i.getValue(e,"revision",":",!0).toLowerCase(),n.serial=i.getValue(e,"serial",":",!0);const t=i.getValue(e,"model:",":",!0);if(("BCM2835"===n.model||"BCM2708"===n.model||"BCM2709"===n.model||"BCM2710"===n.model||"BCM2711"===n.model||"BCM2836"===n.model||"BCM2837"===n.model)&&t.toLowerCase().indexOf("raspberry")>=0){const t=i.decodePiCpuinfo(e);n.model=t.model,n.version=t.revisionCode,n.manufacturer="Raspberry Pi Foundation",n.raspberry={manufacturer:t.manufacturer,processor:t.processor,type:t.type,revision:t.revision}}}e&&e(n),t(n)})):(e&&e(n),t(n))})),p&&a("ioreg -c IOPlatformExpertDevice -d 2",(function(r,s){if(!r){let e=s.toString().replace(/[<>"]/g,"").split("\n");n.manufacturer=i.getValue(e,"manufacturer","=",!0),n.model=i.getValue(e,"model","=",!0),n.version=i.getValue(e,"version","=",!0),n.serial=i.getValue(e,"ioplatformserialnumber","=",!0),n.uuid=i.getValue(e,"ioplatformuuid","=",!0).toLowerCase(),n.sku=i.getValue(e,"board-id","=",!0)}e&&e(n),t(n)})),h&&(e&&e(n),t(n)),d)try{i.powerShell("Get-WmiObject Win32_ComputerSystemProduct | select Name,Vendor,Version,IdentifyingNumber,UUID | fl").then(((r,s)=>{if(s)e&&e(n),t(n);else{let s=r.split("\r\n");n.manufacturer=i.getValue(s,"vendor",":"),n.model=i.getValue(s,"name",":"),n.version=i.getValue(s,"version",":"),n.serial=i.getValue(s,"identifyingnumber",":"),n.uuid=i.getValue(s,"uuid",":").toLowerCase();const a=n.model.toLowerCase();("virtualbox"===a||"kvm"===a||"virtual machine"===a||"bochs"===a||a.startsWith("vmware")||a.startsWith("qemu"))&&(n.virtual=!0,a.startsWith("virtualbox")&&(n.virtualHost="VirtualBox"),a.startsWith("vmware")&&(n.virtualHost="VMware"),a.startsWith("kvm")&&(n.virtualHost="KVM"),a.startsWith("bochs")&&(n.virtualHost="bochs"),a.startsWith("qemu")&&(n.virtualHost="KVM"));const o=n.manufacturer.toLowerCase();(o.startsWith("vmware")||o.startsWith("qemu")||"xen"===o)&&(n.virtual=!0,o.startsWith("vmware")&&(n.virtualHost="VMware"),o.startsWith("xen")&&(n.virtualHost="Xen"),o.startsWith("qemu")&&(n.virtualHost="KVM")),i.powerShell('Get-WmiObject MS_Systeminformation -Namespace "root/wmi" | select systemsku | fl ').then(((r,s)=>{if(!s){let e=r.split("\r\n");n.sku=i.getValue(e,"systemsku",":")}n.virtual?(e&&e(n),t(n)):i.powerShell("Get-WmiObject Win32_bios | select Version, SerialNumber, SMBIOSBIOSVersion").then(((r,s)=>{if(s)e&&e(n),t(n);else{let s=r.toString();(s.indexOf("VRTUAL")>=0||s.indexOf("A M I ")>=0||s.indexOf("VirtualBox")>=0||s.indexOf("VMWare")>=0||s.indexOf("Xen")>=0)&&(n.virtual=!0,s.indexOf("VirtualBox")>=0&&!n.virtualHost&&(n.virtualHost="VirtualBox"),s.indexOf("VMware")>=0&&!n.virtualHost&&(n.virtualHost="VMware"),s.indexOf("Xen")>=0&&!n.virtualHost&&(n.virtualHost="Xen"),s.indexOf("VRTUAL")>=0&&!n.virtualHost&&(n.virtualHost="Hyper-V"),s.indexOf("A M I")>=0&&!n.virtualHost&&(n.virtualHost="Virtual PC")),e&&e(n),t(n)}}))}))}}))}catch(r){e&&e(n),t(n)}}))}))},t.bios=function(e){return new Promise((t=>{process.nextTick((()=>{let n={vendor:"",version:"",releaseDate:"",revision:""},r="";if((u||f||m||g)&&(r="arm"===process.arch?"cat /proc/cpuinfo | grep Serial":"export LC_ALL=C; dmidecode -t bios 2>/dev/null; unset LC_ALL",a(r,(function(r,s){let a=s.toString().split("\n");n.vendor=i.getValue(a,"Vendor"),n.version=i.getValue(a,"Version");let l=i.getValue(a,"Release Date");n.releaseDate=i.parseDateTime(l).date,n.revision=i.getValue(a,"BIOS Revision"),n.serial=i.getValue(a,"SerialNumber");let c=i.getValue(a,"Currently Installed Language").split("|")[0];if(c&&(n.language=c),a.length&&s.toString().indexOf("Characteristics:")>=0){const e=[];a.forEach((t=>{if(t.indexOf(" is supported")>=0){const n=t.split(" is supported")[0].trim();e.push(n)}})),n.features=e}try{a=o('echo -n "bios_date: "; cat /sys/devices/virtual/dmi/id/bios_date 2>/dev/null; echo;\n            echo -n "bios_vendor: "; cat /sys/devices/virtual/dmi/id/bios_vendor 2>/dev/null; echo;\n            echo -n "bios_version: "; cat /sys/devices/virtual/dmi/id/bios_version 2>/dev/null; echo;').toString().split("\n"),n.vendor=n.vendor?n.vendor:i.getValue(a,"bios_vendor"),n.version=n.version?n.version:i.getValue(a,"bios_version"),l=i.getValue(a,"bios_date"),n.releaseDate=n.releaseDate?n.releaseDate:i.parseDateTime(l).date}catch(e){i.noop()}e&&e(n),t(n)}))),p&&(n.vendor="Apple Inc.",a("system_profiler SPHardwareDataType -json",(function(r,s){try{const e=JSON.parse(s.toString());if(e&&e.SPHardwareDataType&&e.SPHardwareDataType.length){let t=e.SPHardwareDataType[0].boot_rom_version;t=t?t.split("(")[0].trim():null,n.version=t}}catch(e){i.noop()}e&&e(n),t(n)}))),h&&(n.vendor="Sun Microsystems",e&&e(n),t(n)),d)try{i.powerShell("Get-WmiObject Win32_bios | select Description,Version,Manufacturer,ReleaseDate,BuildNumber,SerialNumber | fl").then(((r,s)=>{if(!s){let e=r.toString().split("\r\n");const t=i.getValue(e,"description",":");-1!==t.indexOf(" Version ")?(n.vendor=t.split(" Version ")[0].trim(),n.version=t.split(" Version ")[1].trim()):-1!==t.indexOf(" Ver: ")?(n.vendor=i.getValue(e,"manufacturer",":"),n.version=t.split(" Ver: ")[1].trim()):(n.vendor=i.getValue(e,"manufacturer",":"),n.version=i.getValue(e,"version",":")),n.releaseDate=i.getValue(e,"releasedate",":"),n.releaseDate.length>=10&&(n.releaseDate=n.releaseDate.substr(0,4)+"-"+n.releaseDate.substr(4,2)+"-"+n.releaseDate.substr(6,2)),n.revision=i.getValue(e,"buildnumber",":"),n.serial=i.getValue(e,"serialnumber",":")}e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}}))}))},t.baseboard=function(e){return new Promise((t=>{process.nextTick((()=>{let n={manufacturer:"",model:"",version:"",serial:"-",assetTag:"-",memMax:null,memSlots:null},a="";if(u||f||m||g){a="arm"===process.arch?"cat /proc/cpuinfo | grep Serial":"export LC_ALL=C; dmidecode -t 2 2>/dev/null; unset LC_ALL";const c=[];c.push(l(a)),c.push(l("export LC_ALL=C; dmidecode -t memory 2>/dev/null")),i.promiseAll(c).then((a=>{let l=a.results[0]?a.results[0].toString().split("\n"):[""];n.manufacturer=i.getValue(l,"Manufacturer"),n.model=i.getValue(l,"Product Name"),n.version=i.getValue(l,"Version"),n.serial=i.getValue(l,"Serial Number"),n.assetTag=i.getValue(l,"Asset Tag");try{l=o('echo -n "board_asset_tag: "; cat /sys/devices/virtual/dmi/id/board_asset_tag 2>/dev/null; echo;\n            echo -n "board_name: "; cat /sys/devices/virtual/dmi/id/board_name 2>/dev/null; echo;\n            echo -n "board_serial: "; cat /sys/devices/virtual/dmi/id/board_serial 2>/dev/null; echo;\n            echo -n "board_vendor: "; cat /sys/devices/virtual/dmi/id/board_vendor 2>/dev/null; echo;\n            echo -n "board_version: "; cat /sys/devices/virtual/dmi/id/board_version 2>/dev/null; echo;').toString().split("\n"),n.manufacturer=n.manufacturer?n.manufacturer:i.getValue(l,"board_vendor"),n.model=n.model?n.model:i.getValue(l,"board_name"),n.version=n.version?n.version:i.getValue(l,"board_version"),n.serial=n.serial?n.serial:i.getValue(l,"board_serial"),n.assetTag=n.assetTag?n.assetTag:i.getValue(l,"board_asset_tag")}catch(e){i.noop()}-1!==n.serial.toLowerCase().indexOf("o.e.m.")&&(n.serial="-"),-1!==n.assetTag.toLowerCase().indexOf("o.e.m.")&&(n.assetTag="-"),l=a.results[1]?a.results[1].toString().split("\n"):[""],n.memMax=1024*i.toInt(i.getValue(l,"Maximum Capacity"))*1024*1024||null,n.memSlots=i.toInt(i.getValue(l,"Number Of Devices"))||null;let c="";try{c=r.readFileSync("/proc/cpuinfo").toString().split("\n")}catch(e){i.noop()}if(i.getValue(c,"hardware").startsWith("BCM")){const e=i.decodePiCpuinfo(c);n.manufacturer=e.manufacturer,n.model="Raspberry Pi",n.serial=e.serial,n.version=e.type+" - "+e.revision,n.memMax=s.totalmem(),n.memSlots=0}e&&e(n),t(n)}))}if(p){const r=[];r.push(l("ioreg -c IOPlatformExpertDevice -d 2")),r.push(l("system_profiler SPMemoryDataType")),i.promiseAll(r).then((r=>{let a=r.results[0]?r.results[0].toString().replace(/[<>"]/g,"").split("\n"):[""];n.manufacturer=i.getValue(a,"manufacturer","=",!0),n.model=i.getValue(a,"model","=",!0),n.version=i.getValue(a,"version","=",!0),n.serial=i.getValue(a,"ioplatformserialnumber","=",!0),n.assetTag=i.getValue(a,"board-id","=",!0);let o=r.results[1]?r.results[1].toString().split("        BANK "):[""];1===o.length&&(o=r.results[1]?r.results[1].toString().split("        DIMM"):[""]),o.shift(),n.memSlots=o.length,"arm64"===s.arch()&&(n.memSlots=0,n.memMax=s.totalmem()),e&&e(n),t(n)}))}if(h&&(e&&e(n),t(n)),d)try{const r=[];r.push(i.powerShell("Get-WmiObject Win32_baseboard | select Model,Manufacturer,Product,Version,SerialNumber,PartNumber,SKU | fl")),r.push(i.powerShell("Get-WmiObject Win32_physicalmemoryarray | select MaxCapacity, MemoryDevices | fl")),i.promiseAll(r).then((r=>{let s=r.results[0]?r.results[0].toString().split("\r\n"):[""];n.manufacturer=i.getValue(s,"manufacturer",":"),n.model=i.getValue(s,"model",":"),n.model||(n.model=i.getValue(s,"product",":")),n.version=i.getValue(s,"version",":"),n.serial=i.getValue(s,"serialnumber",":"),n.assetTag=i.getValue(s,"partnumber",":"),n.assetTag||(n.assetTag=i.getValue(s,"sku",":")),s=r.results[1]?r.results[1].toString().split("\r\n"):[""],n.memMax=i.toInt(i.getValue(s,"MaxCapacity",":"))||null,n.memSlots=i.toInt(i.getValue(s,"MemoryDevices",":"))||null,e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}}))}))},t.chassis=function(e){const t=["Other","Unknown","Desktop","Low Profile Desktop","Pizza Box","Mini Tower","Tower","Portable","Laptop","Notebook","Hand Held","Docking Station","All in One","Sub Notebook","Space-Saving","Lunch Box","Main System Chassis","Expansion Chassis","SubChassis","Bus Expansion Chassis","Peripheral Chassis","Storage Chassis","Rack Mount Chassis","Sealed-Case PC","Multi-System Chassis","Compact PCI","Advanced TCA","Blade","Blade Enclosure","Tablet","Convertible","Detachable","IoT Gateway ","Embedded PC","Mini PC","Stick PC"];return new Promise((n=>{process.nextTick((()=>{let r={manufacturer:"",model:"",type:"",version:"",serial:"-",assetTag:"-",sku:""};if((u||f||m||g)&&a('echo -n "chassis_asset_tag: "; cat /sys/devices/virtual/dmi/id/chassis_asset_tag 2>/dev/null; echo;\n            echo -n "chassis_serial: "; cat /sys/devices/virtual/dmi/id/chassis_serial 2>/dev/null; echo;\n            echo -n "chassis_type: "; cat /sys/devices/virtual/dmi/id/chassis_type 2>/dev/null; echo;\n            echo -n "chassis_vendor: "; cat /sys/devices/virtual/dmi/id/chassis_vendor 2>/dev/null; echo;\n            echo -n "chassis_version: "; cat /sys/devices/virtual/dmi/id/chassis_version 2>/dev/null; echo;',(function(s,a){let o=a.toString().split("\n");r.manufacturer=i.getValue(o,"chassis_vendor");const l=parseInt(i.getValue(o,"chassis_type").replace(/\D/g,""));r.type=l&&!isNaN(l)&&l<t.length?t[l-1]:"",r.version=i.getValue(o,"chassis_version"),r.serial=i.getValue(o,"chassis_serial"),r.assetTag=i.getValue(o,"chassis_asset_tag"),-1!==r.manufacturer.toLowerCase().indexOf("o.e.m.")&&(r.manufacturer="-"),-1!==r.version.toLowerCase().indexOf("o.e.m.")&&(r.version="-"),-1!==r.serial.toLowerCase().indexOf("o.e.m.")&&(r.serial="-"),-1!==r.assetTag.toLowerCase().indexOf("o.e.m.")&&(r.assetTag="-"),e&&e(r),n(r)})),p&&a("ioreg -c IOPlatformExpertDevice -d 2",(function(t,s){if(!t){let e=s.toString().replace(/[<>"]/g,"").split("\n");r.manufacturer=i.getValue(e,"manufacturer","=",!0),r.model=i.getValue(e,"model","=",!0),r.version=i.getValue(e,"version","=",!0),r.serial=i.getValue(e,"ioplatformserialnumber","=",!0),r.assetTag=i.getValue(e,"board-id","=",!0)}e&&e(r),n(r)})),h&&(e&&e(r),n(r)),d)try{i.powerShell("Get-WmiObject Win32_SystemEnclosure | select Model,Manufacturer,ChassisTypes,Version,SerialNumber,PartNumber,SKU | fl").then(((s,a)=>{if(!a){let e=s.toString().split("\r\n");r.manufacturer=i.getValue(e,"manufacturer",":"),r.model=i.getValue(e,"model",":");const n=parseInt(i.getValue(e,"ChassisTypes",":").replace(/\D/g,""));r.type=n&&!isNaN(n)&&n<t.length?t[n-1]:"",r.version=i.getValue(e,"version",":"),r.serial=i.getValue(e,"serialnumber",":"),r.assetTag=i.getValue(e,"partnumber",":"),r.sku=i.getValue(e,"sku",":"),-1!==r.manufacturer.toLowerCase().indexOf("o.e.m.")&&(r.manufacturer="-"),-1!==r.version.toLowerCase().indexOf("o.e.m.")&&(r.version="-"),-1!==r.serial.toLowerCase().indexOf("o.e.m.")&&(r.serial="-"),-1!==r.assetTag.toLowerCase().indexOf("o.e.m.")&&(r.assetTag="-")}e&&e(r),n(r)}))}catch(t){e&&e(r),n(r)}}))}))}},5249:(e,t,n)=>{"use strict";const r=n(2081).exec,s=n(9778);let i=process.platform;const a="linux"===i||"android"===i,o="darwin"===i,l="win32"===i,c="freebsd"===i,u="openbsd"===i,p="netbsd"===i,d="sunos"===i;function f(e){const t={},n=e.split("\n");if(n&&n.length&&n[0].indexOf("Device")>=0){const e=n[0].split(" ");t.bus=parseInt(e[0],10),e[2]?t.deviceId=parseInt(e[2],10):t.deviceId=null}else t.bus=null,t.deviceId=null;const r=s.getValue(n,"idVendor"," ",!0).trim();let i=r.split(" ");i.shift();const a=i.join(" "),o=s.getValue(n,"idProduct"," ",!0).trim();let l=o.split(" ");l.shift();const c=l.join(" ");let u=s.getValue(n,"bInterfaceClass"," ",!0).trim().split(" ");u.shift();const p=u.join(" ");let d=s.getValue(n,"iManufacturer"," ",!0).trim().split(" ");d.shift();const f=d.join(" ");return t.id=(r.startsWith("0x")?r.split(" ")[0].substr(2,10):"")+":"+(o.startsWith("0x")?o.split(" ")[0].substr(2,10):""),t.name=c,t.type=function(e,t){let n=e;const r=(t+" "+e).toLowerCase();return r.indexOf("camera")>=0?n="Camera":r.indexOf("hub")>=0?n="Hub":r.indexOf("keybrd")>=0||r.indexOf("keyboard")>=0?n="Keyboard":r.indexOf("mouse")>=0?n="Mouse":r.indexOf("stora")>=0?n="Storage":r.indexOf("mic")>=0?n="Microphone":(r.indexOf("headset")>=0||r.indexOf("audio")>=0)&&(n="Audio"),n}(p,c),t.removable=null,t.vendor=a,t.manufacturer=f,t.maxPower=s.getValue(n,"MaxPower"," ",!0),t.serialNumber=null,t}function m(e,t){const n={};n.id=t;let r=(e=(e=e.replace(/ \|/g,"")).trim()).split("\n");r.shift();try{for(let e=0;e<r.length;e++)r[e]=r[e].trim(),r[e]=r[e].replace(/=/g,":"),"{"!==r[e]&&"}"!==r[e]&&r[e+1]&&"}"!==r[e+1].trim()&&(r[e]=r[e]+","),r[e]=r[e].replace(": Yes,",': "Yes",'),r[e]=r[e].replace(": No,",': "No",');const e=JSON.parse(r.join("\n")),t="yes"!==e["Built-In"].toLowerCase()&&"no"===e["non-removable"].toLowerCase();return n.bus=null,n.deviceId=null,n.id=e["USB Address"]||null,n.name=e.kUSBProductString||e["USB Product Name"]||null,n.type=function(e){let t="";return e.indexOf("camera")>=0?t="Camera":e.indexOf("touch bar")>=0?t="Touch Bar":e.indexOf("controller")>=0?t="Controller":e.indexOf("headset")>=0?t="Audio":e.indexOf("keyboard")>=0?t="Keyboard":e.indexOf("trackpad")>=0?t="Trackpad":e.indexOf("sensor")>=0?t="Sensor":e.indexOf("bthusb")>=0||e.indexOf("bth")>=0||e.indexOf("rfcomm")>=0?t="Bluetooth":e.indexOf("usbhub")>=0||e.indexOf(" hub")>=0?t="Hub":e.indexOf("mouse")>=0?t="Mouse":e.indexOf("mic")>=0?t="Microphone":e.indexOf("removable")>=0&&(t="Storage"),t}((e.kUSBProductString||e["USB Product Name"]||"").toLowerCase()+(t?" removable":"")),n.removable="no"===e["non-removable"].toLowerCase(),n.vendor=e.kUSBVendorString||e["USB Vendor Name"]||null,n.manufacturer=e.kUSBVendorString||e["USB Vendor Name"]||null,n.maxPower=null,n.serialNumber=e.kUSBSerialNumberString||null,n.name?n:null}catch(e){return null}}function g(e,t){const n=function(e,t){let n="";return t.indexOf("storage")>=0||t.indexOf("speicher")>=0?n="Storage":e.indexOf("usbhub")>=0?n="Hub":e.indexOf("storage")>=0?n="Storage":e.indexOf("usbcontroller")>=0?n="Controller":e.indexOf("keyboard")>=0?n="Keyboard":e.indexOf("pointing")>=0?n="Mouse":e.indexOf("disk")>=0&&(n="Storage"),n}(s.getValue(e,"CreationClassName",":").toLowerCase(),s.getValue(e,"name",":").toLowerCase());if(n){const r={bus:null};return r.deviceId=s.getValue(e,"deviceid",":"),r.id=t,r.name=s.getValue(e,"name",":"),r.type=n,r.removable=null,r.vendor=null,r.manufacturer=s.getValue(e,"Manufacturer",":"),r.maxPower=null,r.serialNumber=null,r}return null}t.usb=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];a&&r("export LC_ALL=C; lsusb -v 2>/dev/null; unset LC_ALL",{maxBuffer:134217728},(function(r,s){if(!r){const e=("\n\n"+s.toString()).split("\n\nBus ");for(let t=1;t<e.length;t++){const r=f(e[t]);n.push(r)}}e&&e(n),t(n)})),o&&r("ioreg -p IOUSB -c AppleUSBRootHubDevice -w0 -l",{maxBuffer:134217728},(function(r,s){if(!r){const r=s.toString().split(" +-o ");for(let e=1;e<r.length;e++){const t=m(r[e]);t&&n.push(t)}e&&e(n),t(n)}e&&e(n),t(n)})),l&&s.powerShell('Get-WmiObject CIM_LogicalDevice | where { $_.Description -match "USB"} | select Name,CreationClassName,DeviceId,Manufacturer | fl').then(((r,s)=>{if(!s){const e=r.toString().split(/\n\s*\n/);for(let t=0;t<e.length;t++){const r=g(e[t].split("\n"),t);r&&n.push(r)}}e&&e(n),t(n)})),(d||c||u||p)&&t(null)}))}))}},6137:(e,t,n)=>{"use strict";const r=n(2081).exec,s=n(9778);let i=process.platform;const a="linux"===i||"android"===i,o="darwin"===i,l="win32"===i,c="freebsd"===i,u="openbsd"===i,p="netbsd"===i,d="sunos"===i;function f(e,t){let n=[],r=[],s={},i=!0,a=[],o=[],l={},c=!0;return e.forEach((function(e){if("---"===e)c=!1;else{let t=e.replace(/ +/g," ").split(" ");c?r.push({user:t[0],tty:t[1],date:t[2],time:t[3],ip:t&&t.length>4?t[4].replace(/\(/g,"").replace(/\)/g,""):""}):i?(a=t,a.forEach((function(t){o.push(e.indexOf(t))})),i=!1):(s.user=e.substring(o[0],o[1]-1).trim(),s.tty=e.substring(o[1],o[2]-1).trim(),s.ip=e.substring(o[2],o[3]-1).replace(/\(/g,"").replace(/\)/g,"").trim(),s.command=e.substring(o[7],1e3).trim(),l=r.filter((function(e){return e.user.substring(0,8).trim()===s.user&&e.tty===s.tty})),1===l.length&&n.push({user:l[0].user,tty:l[0].tty,date:l[0].date,time:l[0].time,ip:l[0].ip,command:s.command}))}})),0===n.length&&2===t?r:n}function m(e){let t=[],n=[],r={},s={},i=!0;return e.forEach((function(e){if("---"===e)i=!1;else{let a=e.replace(/ +/g," ").split(" ");i?n.push({user:a[0],tty:a[1],date:(new Date).getFullYear()+"-"+("0"+("JANFEBMARAPRMAYJUNJULAUGSEPOCTNOVDEC".indexOf(a[2].toUpperCase())/3+1)).slice(-2)+"-"+("0"+a[3]).slice(-2),time:a[4]}):(r.user=a[0],r.tty=a[1],r.ip="-"!==a[2]?a[2]:"",r.command=a.slice(5,1e3).join(" "),s=n.filter((function(e){return e.user===r.user&&(e.tty.substring(3,1e3)===r.tty||e.tty===r.tty)})),1===s.length&&t.push({user:s[0].user,tty:s[0].tty,date:s[0].date,time:s[0].time,ip:r.ip,command:r.command}))}})),t}t.users=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];if(a&&r('who --ips; echo "---"; w | tail -n +2',(function(s,i){if(s)e&&e(n),t(n);else{let s=i.toString().split("\n");n=f(s,1),0===n.length?r('who; echo "---"; w | tail -n +2',(function(r,i){r||(s=i.toString().split("\n"),n=f(s,2)),e&&e(n),t(n)})):(e&&e(n),t(n))}})),(c||u||p)&&r('who; echo "---"; w -ih',(function(r,s){if(!r){let e=s.toString().split("\n");n=m(e)}e&&e(n),t(n)})),d&&r('who; echo "---"; w -h',(function(r,s){if(!r){let e=s.toString().split("\n");n=m(e)}e&&e(n),t(n)})),o&&r('who; echo "---"; w -ih',(function(r,s){if(!r){let e=s.toString().split("\n");n=m(e)}e&&e(n),t(n)})),l)try{let r="Get-WmiObject Win32_LogonSession | select LogonId,StartTime | fl; echo '#-#-#-#';";r+="Get-WmiObject Win32_LoggedOnUser | select antecedent,dependent | fl ; echo '#-#-#-#';",r+='Get-WmiObject Win32_Process -Filter "name=\'explorer.exe\'" | Select @{Name="sessionid";Expression={$_.SessionId}}, @{Name="domain";Expression={$_.GetOwner().Domain}}, @{Name="username";Expression={$_.GetOwner().User}} | fl; echo \'#-#-#-#\';',r+="query user",s.powerShell(r).then((r=>{if(r){let e=function(e){const t={};return e.forEach((e=>{const n=e.split("\r\n"),r=s.getValue(n,"LogonId"),i=s.getValue(n,"starttime");r&&(t[r]=i)})),t}(((r=r.split("#-#-#-#"))[0]||"").split(/\n\s*\n/)),t=function(e){const t={};return e.forEach((e=>{const n=e.split("\r\n");let r=s.getValue(n,"antecedent",":",!0).split(",");const i=r.length>1?r[0].split("="):[],a=r.length>1?r[1].split("="):[],o=i.length>1?i[1].replace(/"/g,""):"",l=a.length>1?a[1].replace(/"/g,""):"";r=s.getValue(n,"dependent",":",!0).split("=");const c=r.length>1?r[1].replace(/"/g,""):"";c&&(t[c]={domain:o,user:l})})),t}((r[1]||"").split(/\n\s*\n/)),i=function(e){let t=[];const n=(e=e.filter((e=>e)))[0],r=[];if(n){const s=" "===n[0]?1:0;r.push(s-1);let i=0;for(let e=s+1;e<n.length;e++)" "!==n[e]||" "!==n[e-1]&&"."!==n[e-1]?i&&(r.push(i),i=0):i=e;for(let n=1;n<e.length;n++)if(e[n].trim()){const s=e[n].substring(r[0]+1,r[1]).trim()||"",i=e[n].substring(r[1]+1,r[2]-2).trim()||"";t.push({user:s,tty:i})}}return t}((r[3]||"").split("\r\n")),a=function(e,t){const n=[];return e.forEach((e=>{const r=e.split("\r\n"),i=s.getValue(r,"domain",":",!0),a=s.getValue(r,"username",":",!0),o=s.getValue(r,"sessionid",":",!0);if(a){const e=t.filter((e=>function(e,t){e=e.toLowerCase(),t=t.toLowerCase();let n=0,r=e.length;t.length>r&&(r=t.length);for(let s=0;s<r;s++)(e[s]||"")===(t[s]||"")&&n++;return r>10?n/r>.9:r>0&&n/r>.8}(e.user,a)));n.push({domain:i,user:a,tty:e&&e[0]&&e[0].tty?e[0].tty:o})}})),n}((r[2]||"").split(/\n\s*\n/),i);for(let n in t)({}).hasOwnProperty.call(t,n)&&(t[n].dateTime={}.hasOwnProperty.call(e,n)?e[n]:"");a.forEach((e=>{let r="";for(let n in t)({}).hasOwnProperty.call(t,n)&&t[n].user===e.user&&(!r||r<t[n].dateTime)&&(r=t[n].dateTime);n.push({user:e.user,tty:e.tty,date:`${r.substr(0,4)}-${r.substr(4,2)}-${r.substr(6,2)}`,time:`${r.substr(8,2)}:${r.substr(10,2)}`,ip:"",command:""})}))}e&&e(n),t(n)}))}catch(r){e&&e(n),t(n)}}))}))}},9778:(e,t,n)=>{"use strict";const r=n(2037),s=n(7147),i=n(1017),a=n(2081).spawn,o=n(2081).exec,l=n(2081).execSync,c=n(3837);let u=process.platform;const p="linux"===u||"android"===u,d="darwin"===u,f="win32"===u,m="freebsd"===u,g="openbsd"===u,h="netbsd"===u;let y=0,v="",w="",S=null;const x=process.env.WINDIR||"C:\\Windows";let b,O="",C=[],_=!1;const I="$OutputEncoding = [System.Console]::OutputEncoding = [System.Console]::InputEncoding = [System.Text.Encoding]::UTF8 ; ",L="--###START###--",P="--ERROR--",E="--###ENDCMD###--",V="--##ID##--",T={windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:c._extend({},process.env,{LANG:"en_US.UTF-8"})},k=(new String).replace,D=(new String).toLowerCase,A=(new String).toString,N=(new String).substr,M=(new String).trim,W=(new String).startsWith,F=Math.min;function B(e,t,n,r,s){n=n||":",t=t.toLowerCase(),r=r||!1,s=s||!1;for(let i=0;i<e.length;i++){let a=e[i].toLowerCase().replace(/\t/g,"");if(r&&(a=a.trim()),a.startsWith(t)&&(!s||a.match(t+n))){const t=r?e[i].trim().split(n):e[i].split(n);return t.length>=2?(t.shift(),t.join(n).trim()):""}}return""}function R(){if("Windows_NT"===r.type()&&!v&&(v=x+"\\system32\\wbem\\wmic.exe",!s.existsSync(v)))try{const e=l("WHERE WMIC",T).toString().split("\r\n");v=e&&e.length?e[0]:"wmic"}catch(e){v="wmic"}return v}function U(e){let t,n="",r="";if(e.indexOf(L)>=0){t=e.split(L);const r=t[1].split(V);n=r[0],r.length>1&&(e=r.slice(1).join(V))}e.indexOf(E)>=0&&(t=e.split(E),r=t[0]);let s=-1;for(let e=0;e<C.length;e++)C[e].id===n&&(s=e,C[e].callback(r));s>=0&&C.splice(s,1)}function G(e){if(_){const t=Math.random().toString(36).substr(2,10);return new Promise((n=>{process.nextTick((()=>{C.push({id:t,cmd:e,callback:function(e){n(e)},start:new Date});try{b&&b.pid&&b.stdin.write(I+"echo "+L+t+"--##ID##--; "+r.EOL+e+r.EOL+"echo "+E+r.EOL)}catch(e){n("")}}))}))}{let t="";return new Promise((n=>{process.nextTick((()=>{try{const s=a("powershell.exe",["-NoLogo","-InputFormat","Text","-NoExit","-ExecutionPolicy","Unrestricted","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:c._extend({},process.env,{LANG:"en_US.UTF-8"})});if(s&&!s.pid&&s.on("error",(function(){n(t)})),s&&s.pid){s.stdout.on("data",(function(e){t+=e.toString("utf8")})),s.stderr.on("data",(function(){s.kill(),n(t)})),s.on("close",(function(){s.kill(),n(t)})),s.on("error",(function(){s.kill(),n(t)}));try{s.stdin.write(I+e+r.EOL),s.stdin.write("exit"+r.EOL),s.stdin.end()}catch(e){s.kill(),n(t)}}else n(t)}catch(e){n(t)}}))}))}}t.toInt=function(e){let t=parseInt(e,10);return isNaN(t)&&(t=0),t},t.execOptsWin=T,t.getCodepage=function(){if(f){if(!w)try{const e=l("chcp",T).toString().split("\r\n")[0].split(":");w=e.length>1?e[1].replace(".",""):""}catch(e){w="437"}return w}if(p||d||m||g||h){if(!w)try{const e=l("echo $LANG").toString().split("\r\n")[0].split(".");w=e.length>1?e[1].trim():"",w||(w="UTF-8")}catch(e){w="UTF-8"}return w}},t.execWin=function(e,t,n){n||(n=t,t=T),o("chcp 65001 > nul && cmd /C "+e+" && chcp "+w+" > nul",t,(function(e,t){n(e,t)}))},t.isFunction=function(e){return e&&"[object Function]"==={}.toString.call(e)},t.unique=function(e){let t=[],n={};for(let r=0;r<e.length;r++){let s=Object.keys(e[r]);s.sort((function(e,t){return e-t}));let i="";for(let t=0;t<s.length;t++)i+=JSON.stringify(s[t]),i+=JSON.stringify(e[r][s[t]]);({}).hasOwnProperty.call(n,i)||(t.push(e[r]),n[i]=!0)}return t},t.sortByKey=function(e,t){return e.sort((function(e,n){let r="",s="";return t.forEach((function(t){r+=e[t],s+=n[t]})),r<s?-1:r>s?1:0}))},t.cores=function(){return 0===y&&(y=r.cpus().length),y},t.getValue=B,t.decodeEscapeSequence=function(e,t){return t=t||16,e.replace(/\\x([0-9A-Fa-f]{2})/g,(function(){return String.fromCharCode(parseInt(arguments[1],t))}))},t.parseDateTime=function(e,t){const n={date:"",time:""};let r=((t=t||{}).dateFormat||"").toLowerCase(),s=t.pmDesignator||"";const i=e.split(" ");if(i[0]){if(i[0].indexOf("/")>=0){const t=i[0].split("/");3===t.length&&(4===t[0].length?n.date=t[0]+"-"+("0"+t[1]).substr(-2)+"-"+("0"+t[2]).substr(-2):2===t[2].length?(r.indexOf("/d/")>-1||r.indexOf("/dd/"),n.date="20"+t[2]+"-"+("0"+t[1]).substr(-2)+"-"+("0"+t[0]).substr(-2)):(e.toLowerCase().indexOf("pm")>-1||e.toLowerCase().indexOf("p.m.")>-1||e.toLowerCase().indexOf("p. m.")>-1||e.toLowerCase().indexOf("am")>-1||e.toLowerCase().indexOf("a.m.")>-1||e.toLowerCase().indexOf("a. m.")>-1||r.indexOf("/d/")>-1||r.indexOf("/dd/")>-1)&&0!==r.indexOf("dd/")?n.date=t[2]+"-"+("0"+t[0]).substr(-2)+"-"+("0"+t[1]).substr(-2):n.date=t[2]+"-"+("0"+t[1]).substr(-2)+"-"+("0"+t[0]).substr(-2))}if(i[0].indexOf(".")>=0){const e=i[0].split(".");3===e.length&&(r.indexOf(".d.")>-1||r.indexOf(".dd.")>-1?n.date=e[2]+"-"+("0"+e[0]).substr(-2)+"-"+("0"+e[1]).substr(-2):n.date=e[2]+"-"+("0"+e[1]).substr(-2)+"-"+("0"+e[0]).substr(-2))}if(i[0].indexOf("-")>=0){const e=i[0].split("-");3===e.length&&(n.date=e[0]+"-"+("0"+e[1]).substr(-2)+"-"+("0"+e[2]).substr(-2))}}if(i[1]){i.shift();let e=i.join(" ");n.time=function(e,t){t=t||"";let n=0,r=0,s=function(e){let t="",n=0;return e.split("").forEach((e=>{e>="0"&&e<="9"?1===n&&n++:(0===n&&n++,1===n&&(t+=e))})),t}(e=e.toUpperCase()),i=e.split(s);if(i.length>=2){i[2]&&(i[1]+=i[2]);let e=i[1]&&i[1].toLowerCase().indexOf("pm")>-1||i[1].toLowerCase().indexOf("p.m.")>-1||i[1].toLowerCase().indexOf("p. m.")>-1||i[1].toLowerCase().indexOf("n")>-1||i[1].toLowerCase().indexOf("ch")>-1||i[1].toLowerCase().indexOf("Ã¶s")>-1||t&&i[1].toLowerCase().indexOf(t)>-1;return n=parseInt(i[0],10),r=parseInt(i[1],10),n=e&&n<12?n+12:n,("0"+n).substr(-2)+":"+("0"+r).substr(-2)}}(e,s)}return n},t.parseHead=function(e,t){let n=t>0,r=1,s=0,i=0,a=[];for(let o=0;o<e.length;o++)r<=t?(/\s/.test(e[o])&&!n&&(i=o-1,a.push({from:s,to:i+1,cap:e.substring(s,i+1)}),s=i+2,r++),n=" "===e[o]):(!/\s/.test(e[o])&&n&&(i=o-1,s<i&&a.push({from:s,to:i,cap:e.substring(s,i)}),s=i+1,r++),n=" "===e[o]);i=1e3,a.push({from:s,to:i,cap:e.substring(s,i)});let o=a.length;for(var l=0;l<o;l++)0===a[l].cap.replace(/\s/g,"").length&&l+1<o&&(a[l].to=a[l+1].to,a[l].cap=a[l].cap+a[l+1].cap,a.splice(l+1,1),o-=1);return a},t.findObjectByKey=function(e,t,n){for(let r=0;r<e.length;r++)if(e[r][t]===n)return r;return-1},t.getWmic=R,t.wmic=function(e){return new Promise((t=>{process.nextTick((()=>{try{G(R()+" "+e).then((e=>{t(e,"")}))}catch(e){t("",e)}}))}))},t.darwinXcodeExists=function(){const e=s.existsSync("/Library/Developer/CommandLineTools/usr/bin/"),t=s.existsSync("/Applications/Xcode.app/Contents/Developer/Tools"),n=s.existsSync("/Library/Developer/Xcode/");return e||n||t},t.getVboxmanage=function(){return f?`"${process.env.VBOX_INSTALL_PATH||process.env.VBOX_MSI_INSTALL_PATH}\\VBoxManage.exe"`:"vboxmanage"},t.powerShell=G,t.powerShellStart=function(){b=a("powershell.exe",["-NoLogo","-InputFormat","Text","-NoExit","-Command","-"],{stdio:"pipe",windowsHide:!0,maxBuffer:2048e4,encoding:"UTF-8",env:c._extend({},process.env,{LANG:"en_US.UTF-8"})}),b&&b.pid&&(_=!0,b.stdout.on("data",(function(e){O+=e.toString("utf8"),e.indexOf(E)>=0&&(U(O),O="")})),b.stderr.on("data",(function(){U(O+P)})),b.on("error",(function(){U(O+P)})),b.on("close",(function(){b.kill()})))},t.powerShellRelease=function(){try{b.stdin.write("exit"+r.EOL),b.stdin.end(),_=!1}catch(e){b.kill()}},t.execSafe=function(e,t,n){let r="";return n=n||{},new Promise((s=>{process.nextTick((()=>{try{const i=a(e,t,n);i&&!i.pid&&i.on("error",(function(){s(r)})),i&&i.pid?(i.stdout.on("data",(function(e){r+=e.toString()})),i.on("close",(function(){i.kill(),s(r)})),i.on("error",(function(){i.kill(),s(r)}))):s(r)}catch(e){s(r)}}))}))},t.nanoSeconds=function(){const e=process.hrtime();return Array.isArray(e)&&2===e.length?1e9*+e[0]+ +e[1]:0},t.countUniqueLines=function(e,t){t=t||"";const n=[];return e.forEach((e=>{e.startsWith(t)&&-1===n.indexOf(e)&&n.push(e)})),n.length},t.countLines=function(e,t){t=t||"";const n=[];return e.forEach((e=>{e.startsWith(t)&&n.push(e)})),n.length},t.noop=function(){},t.isRaspberry=function(){let e=[];try{e=s.readFileSync("/proc/cpuinfo",{encoding:"utf8"}).toString().split("\n")}catch(e){return!1}const t=B(e,"hardware");return t&&["BCM2708","BCM2709","BCM2710","BCM2711","BCM2835","BCM2836","BCM2837","BCM2837B0"].indexOf(t)>-1},t.isRaspbian=function(){let e=[];try{e=s.readFileSync("/etc/os-release",{encoding:"utf8"}).toString().split("\n")}catch(e){return!1}const t=B(e,"id","=");return t&&t.indexOf("raspbian")>-1},t.sanitizeShellString=function(e,t){void 0===t&&(t=!1);const n=e||"";let r="";for(let e=0;e<=F(n.length,2e3);e++)void 0===n[e]||">"===n[e]||"<"===n[e]||"*"===n[e]||"?"===n[e]||"["===n[e]||"]"===n[e]||"|"===n[e]||"Ëš"===n[e]||"$"===n[e]||";"===n[e]||"&"===n[e]||"("===n[e]||")"===n[e]||"]"===n[e]||"#"===n[e]||"\\"===n[e]||"\t"===n[e]||"\n"===n[e]||"'"===n[e]||"`"===n[e]||'"'===n[e]||n[e].length>1||t&&"@"===n[e]||t&&" "===n[e]||t&&"{"==n[e]||t&&")"==n[e]||(r+=n[e]);return r},t.isPrototypePolluted=function(){const e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";let t=!0,n="";n.__proto__.replace=k,n.__proto__.toLowerCase=D,n.__proto__.toString=A,n.__proto__.substr=N,t=t||!(62===e.length);const r=Date.now();if("number"==typeof r&&r>16e11){const s=r%100+15;for(let r=0;r<s;r++){const r=61.99999999*Math.random()+1,s=parseInt(Math.floor(r).toString(),10),i=parseInt(r.toString().split(".")[0],10),a=61.99999999*Math.random()+1,o=parseInt(Math.floor(a).toString(),10),l=parseInt(a.toString().split(".")[0],10);t=t&&!(r===a),t=t&&s===i&&o===l,n+=e[s-1]}t=t&&n.length===s;let i=Math.random()*s*.9999999999,a=n.substr(0,i)+" "+n.substr(i,2e3);a.__proto__.replace=k;let o=a.replace(/ /g,"");t=t&&n===o,i=Math.random()*s*.9999999999,a=n.substr(0,i)+"{"+n.substr(i,2e3),o=a.replace(/{/g,""),t=t&&n===o,i=Math.random()*s*.9999999999,a=n.substr(0,i)+"*"+n.substr(i,2e3),o=a.replace(/\*/g,""),t=t&&n===o,i=Math.random()*s*.9999999999,a=n.substr(0,i)+"$"+n.substr(i,2e3),o=a.replace(/\$/g,""),t=t&&n===o;const l=n.toLowerCase();t=t&&l.length===s&&l[s-1]&&!l[s];for(let e=0;e<s;e++){const r=n[e];r.__proto__.toLowerCase=D;const s=l?l[e]:"",i=r.toLowerCase();t=t&&i[0]===s&&i[0]&&!i[1]}}return!t},t.decodePiCpuinfo=function(e){const t={"0002":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0003":{type:"B",revision:"1.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0004":{type:"B",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0005":{type:"B",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"0006":{type:"B",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0007":{type:"A",revision:"2.0",memory:256,manufacturer:"Egoman",processor:"BCM2835"},"0008":{type:"A",revision:"2.0",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0009":{type:"A",revision:"2.0",memory:256,manufacturer:"Qisda",processor:"BCM2835"},"000d":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"000e":{type:"B",revision:"2.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"000f":{type:"B",revision:"2.0",memory:512,manufacturer:"Egoman",processor:"BCM2835"},"0010":{type:"B+",revision:"1.2",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0011":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Sony UK",processor:"BCM2835"},"0012":{type:"A+",revision:"1.1",memory:256,manufacturer:"Sony UK",processor:"BCM2835"},"0013":{type:"B+",revision:"1.2",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0014":{type:"CM1",revision:"1.0",memory:512,manufacturer:"Embest",processor:"BCM2835"},"0015":{type:"A+",revision:"1.1",memory:256,manufacturer:"512MB\tEmbest",processor:"BCM2835"}},n=["BCM2835","BCM2836","BCM2837","BCM2711"],r=["Sony UK","Egoman","Embest","Sony Japan","Embest","Stadium"],s={"00":"A","01":"B","02":"A+","03":"B+","04":"2B","05":"Alpha (early prototype)","06":"CM1","08":"3B","09":"Zero","0a":"CM3","0c":"Zero W","0d":"3B+","0e":"3A+","0f":"Internal use only",10:"CM3+",11:"4B",12:"Zero 2 W",13:"400",14:"CM4"},i=B(e,"revision",":",!0),a=B(e,"model:",":",!0),o=B(e,"serial",":",!0);let l={};if({}.hasOwnProperty.call(t,i))l={model:a,serial:o,revisionCode:i,memory:t[i].memory,manufacturer:t[i].manufacturer,processor:t[i].processor,type:t[i].type,revision:t[i].revision};else{const t=("00000000"+B(e,"revision",":",!0).toLowerCase()).substr(-8),u=parseInt((c=t.substr(2,1),("00000000"+parseInt(c,16).toString(2)).substr(-8)).substr(5,3),2)||0,p=r[parseInt(t.substr(3,1),10)],d=n[parseInt(t.substr(4,1),10)],f=t.substr(5,2);l={model:a,serial:o,revisionCode:i,memory:256*Math.pow(2,u),manufacturer:p,processor:d,type:{}.hasOwnProperty.call(s,f)?s[f]:"",revision:"1."+t.substr(7,1)}}var c;return l},t.promiseAll=function(e){const t=e.map((function(e){return new Promise((function(t){var n=new Array(2);e.then((function(e){n[0]=e})).catch((function(e){n[1]=e})).then((function(){t(n)}))}))}));var n=[],r=[];return Promise.all(t).then((function(e){return e.forEach((function(e){e[1]?(n.push(e[1]),r.push(null)):(n.push(null),r.push(e[0]))})),{errors:n,results:r}}))},t.promisify=function(e){return function(){var t=Array.prototype.slice.call(arguments);return new Promise((function(n,r){t.push((function(e,t){e?r(e):n(t)})),e.apply(null,t)}))}},t.promisifySave=function(e){return function(){var t=Array.prototype.slice.call(arguments);return new Promise((function(n){t.push((function(e,t){n(t)})),e.apply(null,t)}))}},t.smartMonToolsInstalled=function(){if(null!==S)return S;if(S=!1,f)try{const e=l("WHERE smartctl 2>nul",T).toString().split("\r\n");S=!(!e||!e.length)&&e[0].indexOf(":\\")>=0}catch(e){S=!1}if(p||d||m||g||h){const e=l("which smartctl 2>/dev/null",T).toString().split("\r\n");S=e.length>0}return S},t.linuxVersion=function(){let e="";if(p)try{e=l("uname -v").toString()}catch(t){e=""}return e},t.plistParser=function(e){const t=["array","dict","key","string","integer","date","real","data","boolean","arrayEmpty"];let n=e.indexOf("<plist version"),r=e.length;for(;">"!==e[n]&&n<r;)n++;let s=0,i=!1,a=!1,o=!1,l=[{tagStart:"",tagEnd:"",tagContent:"",key:"",data:null}],c="",u=e[n];for(;n<r;)c=u,n+1<r&&(u=e[n+1]),"<"===c?(a=!1,"/"===u?o=!0:l[s].tagStart?(l[s].tagContent="",l[s].data||(l[s].data="array"===l[s].tagStart?[]:{}),s++,l.push({tagStart:"",tagEnd:"",tagContent:"",key:null,data:null}),i=!0,a=!1):i||(i=!0)):">"===c?("true/"===l[s].tagStart&&(i=!1,o=!0,l[s].tagStart="",l[s].tagEnd="/boolean",l[s].data=!0),"false/"===l[s].tagStart&&(i=!1,o=!0,l[s].tagStart="",l[s].tagEnd="/boolean",l[s].data=!1),"array/"===l[s].tagStart&&(i=!1,o=!0,l[s].tagStart="",l[s].tagEnd="/arrayEmpty",l[s].data=[]),a&&(a=!1),i&&(i=!1,a=!0,"array"===l[s].tagStart&&(l[s].data=[]),"dict"===l[s].tagStart&&(l[s].data={})),o&&(o=!1,l[s].tagEnd&&t.indexOf(l[s].tagEnd.substr(1))>=0&&("/dict"===l[s].tagEnd||"/array"===l[s].tagEnd?(s>1&&"array"===l[s-2].tagStart&&l[s-2].data.push(l[s-1].data),s>1&&"dict"===l[s-2].tagStart&&(l[s-2].data[l[s-1].key]=l[s-1].data),s--,l.pop(),l[s].tagContent="",l[s].tagStart="",l[s].tagEnd=""):("/key"===l[s].tagEnd&&l[s].tagContent?l[s].key=l[s].tagContent:("/real"===l[s].tagEnd&&l[s].tagContent&&(l[s].data=parseFloat(l[s].tagContent)||0),"/integer"===l[s].tagEnd&&l[s].tagContent&&(l[s].data=parseInt(l[s].tagContent)||0),"/string"===l[s].tagEnd&&l[s].tagContent&&(l[s].data=l[s].tagContent||""),"/boolean"===l[s].tagEnd&&(l[s].data=l[s].tagContent||!1),"/arrayEmpty"===l[s].tagEnd&&(l[s].data=l[s].tagContent||[]),s>0&&"array"===l[s-1].tagStart&&l[s-1].data.push(l[s].data),s>0&&"dict"===l[s-1].tagStart&&(l[s-1].data[l[s].key]=l[s].data)),l[s].tagContent="",l[s].tagStart="",l[s].tagEnd="")),l[s].tagEnd="",i=!1,a=!1)):(i&&(l[s].tagStart+=c),o&&(l[s].tagEnd+=c),a&&(l[s].tagContent+=c)),n++;return l[0].data},t.stringReplace=k,t.stringToLower=D,t.stringToString=A,t.stringSubstr=N,t.stringTrim=M,t.stringStartWith=W,t.mathMin=F,t.WINDIR=x,t.getFilesInPath=function(e){const t=s.lstatSync,n=s.readdirSync,r=i.join;function a(e){return t(e).isDirectory()}function o(e){return t(e).isFile()}return s.existsSync(e)?function e(t){try{let s=function(e){return n(e).map((function(t){return r(e,t)})).filter(a)}(t);return s.map((function(t){return e(t)})).reduce((function(e,t){return e.concat(t)}),[]).concat(function(e){return n(e).map((function(t){return r(e,t)})).filter(o)}(t))}catch(e){return[]}}(e):[]},t.semverCompare=function(e,t){let n=0;const r=e.split("."),s=t.split(".");return r[0]<s[0]?n=1:r[0]>s[0]?n=-1:r[0]===s[0]&&r.length>=2&&s.length>=2&&(r[1]<s[1]?n=1:r[1]>s[1]?n=-1:r[1]===s[1]&&(r.length>=3&&s.length>=3?r[2]<s[2]?n=1:r[2]>s[2]&&(n=-1):s.length>=3&&(n=1))),n}},8911:(e,t,n)=>{"use strict";const r=n(2037),s=n(2081).exec,i=n(9778);t.vboxInfo=function(e){let t=[];return new Promise((n=>{process.nextTick((()=>{try{s(i.getVboxmanage()+" list vms --long",(function(s,a){let o=(r.EOL+a.toString()).split(r.EOL+"Name:");o.shift(),o.forEach((e=>{const n=("Name:"+e).split(r.EOL),s=i.getValue(n,"State"),a=s.startsWith("running"),o=a?s.replace("running (since ","").replace(")","").trim():"";let l=0;try{if(a){const e=new Date(o),t=e.getTimezoneOffset();l=Math.round((Date.now()-Date.parse(e))/1e3)+60*t}}catch(e){i.noop()}const c=a?"":s.replace("powered off (since","").replace(")","").trim();let u=0;try{if(!a){const e=new Date(c),t=e.getTimezoneOffset();u=Math.round((Date.now()-Date.parse(e))/1e3)+60*t}}catch(e){i.noop()}t.push({id:i.getValue(n,"UUID"),name:i.getValue(n,"Name"),running:a,started:o,runningSince:l,stopped:c,stoppedSince:u,guestOS:i.getValue(n,"Guest OS"),hardwareUUID:i.getValue(n,"Hardware UUID"),memory:parseInt(i.getValue(n,"Memory size","     "),10),vram:parseInt(i.getValue(n,"VRAM size"),10),cpus:parseInt(i.getValue(n,"Number of CPUs"),10),cpuExepCap:i.getValue(n,"CPU exec cap"),cpuProfile:i.getValue(n,"CPUProfile"),chipset:i.getValue(n,"Chipset"),firmware:i.getValue(n,"Firmware"),pageFusion:"enabled"===i.getValue(n,"Page Fusion"),configFile:i.getValue(n,"Config file"),snapshotFolder:i.getValue(n,"Snapshot folder"),logFolder:i.getValue(n,"Log folder"),hpet:"enabled"===i.getValue(n,"HPET"),pae:"enabled"===i.getValue(n,"PAE"),longMode:"enabled"===i.getValue(n,"Long Mode"),tripleFaultReset:"enabled"===i.getValue(n,"Triple Fault Reset"),apic:"enabled"===i.getValue(n,"APIC"),x2Apic:"enabled"===i.getValue(n,"X2APIC"),acpi:"enabled"===i.getValue(n,"ACPI"),ioApic:"enabled"===i.getValue(n,"IOAPIC"),biosApicMode:i.getValue(n,"BIOS APIC mode"),bootMenuMode:i.getValue(n,"Boot menu mode"),bootDevice1:i.getValue(n,"Boot Device 1"),bootDevice2:i.getValue(n,"Boot Device 2"),bootDevice3:i.getValue(n,"Boot Device 3"),bootDevice4:i.getValue(n,"Boot Device 4"),timeOffset:i.getValue(n,"Time offset"),rtc:i.getValue(n,"RTC")})})),e&&e(t),n(t)}))}catch(r){e&&e(t),n(t)}}))}))}},3200:(e,t,n)=>{"use strict";const r=n(2037),s=n(2081).exec,i=n(2081).execSync,a=n(9778);let o=process.platform;const l="linux"===o||"android"===o,c="darwin"===o,u="win32"===o;function p(e){return parseFloat(e)/2-100}function d(e){const t=2*(parseFloat(e)+100);return t<=100?t:100}const f={1:2412,2:2417,3:2422,4:2427,5:2432,6:2437,7:2442,8:2447,9:2452,10:2457,11:2462,12:2467,13:2472,14:2484,32:5160,34:5170,36:5180,38:5190,40:5200,42:5210,44:5220,46:5230,48:5240,50:5250,52:5260,54:5270,56:5280,58:5290,60:5300,62:5310,64:5320,68:5340,96:5480,100:5500,102:5510,104:5520,106:5530,108:5540,110:5550,112:5560,114:5570,116:5580,118:5590,120:5600,122:5610,124:5620,126:5630,128:5640,132:5660,134:5670,136:5680,138:5690,140:5700,142:5710,144:5720,149:5745,151:5755,153:5765,155:5775,157:5785,159:5795,161:5805,165:5825,169:5845,173:5865,183:4915,184:4920,185:4925,187:4935,188:4940,189:4945,192:4960,196:4980};function m(e){return{}.hasOwnProperty.call(f,e)?f[e]:null}function g(e){let t=0;for(let n in f)({}).hasOwnProperty.call(f,n)&&f[n]===e&&(t=a.toInt(n));return t}function h(){const e=[];try{const t=i("iw dev").toString().split("\n").map((e=>e.trim())).join("\n").split("\nInterface ");return t.shift(),t.forEach((t=>{const n=t.split("\n"),r=n[0],s=a.toInt(a.getValue(n,"ifindex"," ")),i=a.getValue(n,"addr"," "),o=a.toInt(a.getValue(n,"channel"," "));e.push({id:s,iface:r,mac:i,channel:o})})),e}catch(e){return[]}}function y(e){const t=`nmcli -t -f general,wifi-properties,capabilities,ip4,ip6 device show ${e} 2>/dev/null`;try{const n=i(t).toString().split("\n"),r=a.getValue(n,"GENERAL.CONNECTION");return{iface:e,type:a.getValue(n,"GENERAL.TYPE"),vendor:a.getValue(n,"GENERAL.VENDOR"),product:a.getValue(n,"GENERAL.PRODUCT"),mac:a.getValue(n,"GENERAL.HWADDR").toLowerCase(),ssid:"--"!==r?r:null}}catch(e){return{}}}function v(){const e=[];try{const t=i("nmcli -t -m multiline --fields active,ssid,bssid,mode,chan,freq,signal,security,wpa-flags,rsn-flags device wifi list 2>/dev/null",{maxBuffer:2048e4}).toString().split("ACTIVE:");return t.shift(),t.forEach((t=>{const n=(t="ACTIVE:"+t).split(r.EOL),s=a.getValue(n,"CHAN"),i=a.getValue(n,"FREQ").toLowerCase().replace("mhz","").trim(),o=a.getValue(n,"SECURITY").replace("(","").replace(")",""),l=a.getValue(n,"WPA-FLAGS").replace("(","").replace(")",""),c=a.getValue(n,"RSN-FLAGS").replace("(","").replace(")","");e.push({ssid:a.getValue(n,"SSID"),bssid:a.getValue(n,"BSSID").toLowerCase(),mode:a.getValue(n,"MODE"),channel:s?parseInt(s,10):null,frequency:i?parseInt(i,10):null,signalLevel:p(a.getValue(n,"SIGNAL")),quality:parseFloat(a.getValue(n,"SIGNAL")),security:o&&"none"!==o?o.split(" "):[],wpaFlags:l&&"none"!==l?l.split(" "):[],rsnFlags:c&&"none"!==c?c.split(" "):[]})})),e}catch(e){return[]}}function w(e){const t=[];try{let n=i(`export LC_ALL=C; iwlist ${e} scan 2>&1; unset LC_ALL`).toString().split("        Cell ");if(n[0].indexOf("resource busy")>=0)return-1;if(n.length>1){n.shift();for(let e=0;e<n.length;e++){const r=n[e].split("\n"),s=a.getValue(r,"channel",":",!0),i=r&&r.length&&r[0].indexOf("Address:")>=0?r[0].split("Address:")[1].trim().toLowerCase():"",o=a.getValue(r,"mode",":",!0),l=a.getValue(r,"frequency",":",!0),c=a.getValue(r,"Quality","=",!0).toLowerCase().split("signal level="),u=c.length>1?a.toInt(c[1]):0,p=u?d(u):0,f=a.getValue(r,"essid",":",!0),m=n[e].indexOf(" WPA ")>=0,g=n[e].indexOf("WPA2 ")>=0,h=[];m&&h.push("WPA"),g&&h.push("WPA2");const y=[];let v="";r.forEach((function(e){const t=e.trim().toLowerCase();if(t.indexOf("group cipher")>=0){v&&y.push(v);const e=t.split(":");e.length>1&&(v=e[1].trim().toUpperCase())}if(t.indexOf("pairwise cipher")>=0){const e=t.split(":");e.length>1&&(e[1].indexOf("tkip")?v=v?"TKIP/"+v:"TKIP":e[1].indexOf("ccmp")?v=v?"CCMP/"+v:"CCMP":e[1].indexOf("proprietary")&&(v=v?"PROP/"+v:"PROP"))}if(t.indexOf("authentication suites")>=0){const e=t.split(":");e.length>1&&(e[1].indexOf("802.1x")?v=v?"802.1x/"+v:"802.1x":e[1].indexOf("psk")&&(v=v?"PSK/"+v:"PSK"))}})),v&&y.push(v),t.push({ssid:f,bssid:i,mode:o,channel:s?a.toInt(s):null,frequency:l?a.toInt(l.replace(".","")):null,signalLevel:u,quality:p,security:h,wpaFlags:y,rsnFlags:[]})}}return t}catch(e){return-1}}t.wifiNetworks=function(e){return new Promise((t=>{process.nextTick((()=>{let n=[];if(l)if(n=v(),0===n.length)try{const r=i("export LC_ALL=C; iwconfig 2>/dev/null; unset LC_ALL").toString().split("\n\n");let s="";for(let e=0;e<r.length;e++)-1===r[e].indexOf("no wireless")&&""!==r[e].trim()&&(s=r[e].split(" ")[0]);if(s){const r=w(s);-1===r?setTimeout((function(r){const s=w(r);-1!=s&&(n=s),e&&e(n),t(n)}),4e3):(n=r,e&&e(n),t(n))}else e&&e(n),t(n)}catch(r){e&&e(n),t(n)}else e&&e(n),t(n);else if(c)s("/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -s -x",{maxBuffer:4096e4},(function(r,s){const i=s.toString();n=function(e){const t=[];return e&&e.forEach((function(e){const n=e.RSSI;let r=[],s=[];e.WPA_IE&&(r.push("WPA"),e.WPA_IE.IE_KEY_WPA_UCIPHERS&&e.WPA_IE.IE_KEY_WPA_UCIPHERS.forEach((function(e){0===e&&-1===s.indexOf("unknown/TKIP")&&s.push("unknown/TKIP"),2===e&&-1===s.indexOf("PSK/TKIP")&&s.push("PSK/TKIP"),4===e&&-1===s.indexOf("PSK/AES")&&s.push("PSK/AES")}))),e.RSN_IE&&(r.push("WPA2"),e.RSN_IE.IE_KEY_RSN_UCIPHERS&&e.RSN_IE.IE_KEY_RSN_UCIPHERS.forEach((function(e){0===e&&-1===s.indexOf("unknown/TKIP")&&s.push("unknown/TKIP"),2===e&&-1===s.indexOf("TKIP/TKIP")&&s.push("TKIP/TKIP"),4===e&&-1===s.indexOf("PSK/AES")&&s.push("PSK/AES")}))),t.push({ssid:e.SSID_STR,bssid:e.BSSID,mode:"",channel:e.CHANNEL,frequency:m(e.CHANNEL),signalLevel:n?parseInt(n,10):null,quality:d(n),security:r,wpaFlags:s,rsnFlags:[]})})),t}(a.plistParser(i)),e&&e(n),t(n)}));else if(u){let s="netsh wlan show networks mode=Bssid";a.powerShell(s).then((s=>{const i=s.toString("utf8").split(r.EOL+r.EOL+"SSID ");i.shift(),i.forEach((e=>{const t=e.split(r.EOL);if(t&&t.length>=8&&t[0].indexOf(":")>=0){const s=e.split(" BSSID");s.shift(),s.forEach((e=>{const s=e.split(r.EOL),i=s[0].split(":");i.shift();const a=i.join(":").trim().toLowerCase(),o=s[3].split(":").pop().trim(),l=s[1].split(":").pop().trim();n.push({ssid:t[0].split(":").pop().trim(),bssid:a,mode:"",channel:o?parseInt(o,10):null,frequency:m(o),signalLevel:p(l),quality:l?parseInt(l,10):null,security:[t[2].split(":").pop().trim()],wpaFlags:[t[3].split(":").pop().trim()],rsnFlags:[]})}))}})),e&&e(n),t(n)}))}else e&&e(n),t(n)}))}))},t.wifiConnections=function(e){return new Promise((t=>{process.nextTick((()=>{const n=[];if(l){const r=h(),s=v();r.forEach((e=>{const t=y(e.iface),r=function(e){const t=`wpa_cli -i ${e} status 2>&1`;try{const e=i(t).toString().split("\n"),n=a.toInt(a.getValue(e,"freq","="));return{ssid:a.getValue(e,"ssid","="),uuid:a.getValue(e,"uuid","="),security:a.getValue(e,"key_mgmt","="),freq:n,channel:g(n),bssid:a.getValue(e,"bssid","=").toLowerCase()}}catch(e){return{}}}(e.iface),o=t.ssid||r.ssid,l=s.filter((e=>e.ssid===o)),c=function(e){const t=`nmcli -t --show-secrets connection show ${e} 2>/dev/null`;try{const n=i(t).toString().split("\n"),r=a.getValue(n,"802-11-wireless.seen-bssids").toLowerCase();return{ssid:"--"!==e?e:null,uuid:a.getValue(n,"connection.uuid"),type:a.getValue(n,"connection.type"),autoconnect:"yes"===a.getValue(n,"connection.autoconnect"),security:a.getValue(n,"802-11-wireless-security.key-mgmt"),bssid:"--"!==r?r:null}}catch(e){return{}}}(o),u=l&&l.length&&l[0].channel?l[0].channel:r.channel?r.channel:null,p=l&&l.length&&l[0].bssid?l[0].bssid:r.bssid?r.bssid:null;o&&p&&n.push({id:e.id,iface:e.iface,model:t.product,ssid:o,bssid:l&&l.length&&l[0].bssid?l[0].bssid:r.bssid?r.bssid:null,channel:u,frequency:u?m(u):null,type:c.type?c.type:"802.11",security:c.security?c.security:r.security?r.security:null,signalLevel:l&&l.length&&l[0].signalLevel?l[0].signalLevel:null,txRate:null})})),e&&e(n),t(n)}else if(c){let r="system_profiler SPNetworkDataType";s(r,(function(i,o){const l=o.toString().split("\n\n    Wi-Fi:\n\n");if(l.length>1){const i=l[1].split("\n\n")[0].split("\n"),o=a.getValue(i,"BSD Device Name",":",!0),c=a.getValue(i,"hardware",":",!0);r="/System/Library/PrivateFrameworks/Apple80211.framework/Versions/Current/Resources/airport -I",s(r,(function(r,s){const l=s.toString().split("\n");if(i.length>10){const e=a.getValue(l,"ssid",":",!0),t=a.getValue(l,"bssid",":",!0),r=a.getValue(l,"link auth",":",!0),s=a.getValue(l,"lastTxRate",":",!0),i=a.getValue(l,"channel",":",!0).split(",")[0],u="802.11",p=a.toInt(a.getValue(l,"agrCtlRSSI",":",!0))-a.toInt(a.getValue(l,"agrCtlNoise",":",!0));(e||t)&&n.push({id:"Wi-Fi",iface:o,model:c,ssid:e,bssid:t,channel:a.toInt(i),frequency:i?m(i):null,type:u,security:r,signalLevel:p,txRate:s})}e&&e(n),t(n)}))}}))}else if(u){let r="netsh wlan show interfaces";a.powerShell(r).then((function(r){const s=r.toString().split("\r\n");for(let e=0;e<s.length;e++)s[e]=s[e].trim();const i=s.join("\r\n").split(":\r\n\r\n");i.shift(),i.forEach((e=>{const t=e.split("\r\n");if(t.length>=5){const e=t[0].indexOf(":")>=0?t[0].split(":")[1].trim():"",r=t[1].indexOf(":")>=0?t[1].split(":")[1].trim():"",s=t[2].indexOf(":")>=0?t[2].split(":")[1].trim():"",i=a.getValue(t,"SSID",":",!0),o=a.getValue(t,"BSSID",":",!0),l=a.getValue(t,"Signal",":",!0),c=a.getValue(t,"Radio type",":",!0)||a.getValue(t,"Type de radio",":",!0)||a.getValue(t,"Funktyp",":",!0)||null,u=a.getValue(t,"authentication",":",!0)||a.getValue(t,"Authentification",":",!0)||a.getValue(t,"Authentifizierung",":",!0)||null,p=a.getValue(t,"Channel",":",!0)||a.getValue(t,"Canal",":",!0)||a.getValue(t,"Kanal",":",!0)||null,d=a.getValue(t,"Transmit rate (mbps)",":",!0)||a.getValue(t,"Transmission (mbit/s)",":",!0)||a.getValue(t,"Empfangsrate (MBit/s)",":",!0)||null;r&&s&&i&&o&&n.push({id:s,iface:e,model:r,ssid:i,bssid:o,channel:a.toInt(p),frequency:p?m(p):null,type:c,security:u,signalLevel:l,txRate:a.toInt(d)||null})}})),e&&e(n),t(n)}))}else e&&e(n),t(n)}))}))},t.wifiInterfaces=function(e){return new Promise((t=>{process.nextTick((()=>{const n=[];if(l)h().forEach((e=>{const t=y(e.iface);n.push({id:e.id,iface:e.iface,model:t.product?t.product:null,vendor:t.vendor?t.vendor:null,mac:e.mac})})),e&&e(n),t(n);else if(c)s("system_profiler SPNetworkDataType",(function(r,s){const i=s.toString().split("\n\n    Wi-Fi:\n\n");if(i.length>1){const e=i[1].split("\n\n")[0].split("\n"),t=a.getValue(e,"BSD Device Name",":",!0),r=a.getValue(e,"MAC Address",":",!0),s=a.getValue(e,"hardware",":",!0);n.push({id:"Wi-Fi",iface:t,model:s,vendor:"",mac:r})}e&&e(n),t(n)}));else if(u){let r="netsh wlan show interfaces";a.powerShell(r).then((function(r){const s=r.toString().split("\r\n");for(let e=0;e<s.length;e++)s[e]=s[e].trim();const i=s.join("\r\n").split(":\r\n\r\n");i.shift(),i.forEach((e=>{const t=e.split("\r\n");if(t.length>=5){const e=t[0].indexOf(":")>=0?t[0].split(":")[1].trim():"",r=t[1].indexOf(":")>=0?t[1].split(":")[1].trim():"",s=t[2].indexOf(":")>=0?t[2].split(":")[1].trim():"",i=t[3].indexOf(":")>=0?t[3].split(":"):[];i.shift();const a=i.join(":").trim(),o=function(e){let t="";return(e=e.toLowerCase()).indexOf("intel")>=0?t="Intel":e.indexOf("realtek")>=0?t="Realtek":e.indexOf("qualcom")>=0?t="Qualcom":e.indexOf("broadcom")>=0?t="Broadcom":e.indexOf("cavium")>=0?t="Cavium":e.indexOf("cisco")>=0?t="Cisco":e.indexOf("marvel")>=0?t="Marvel":e.indexOf("zyxel")>=0?t="Zyxel":e.indexOf("melanox")>=0?t="Melanox":e.indexOf("d-link")>=0?t="D-Link":e.indexOf("tp-link")>=0?t="TP-Link":e.indexOf("asus")>=0?t="Asus":e.indexOf("linksys")>=0&&(t="Linksys"),t}(r);e&&r&&s&&a&&n.push({id:s,iface:e,model:r,vendor:o,mac:a})}})),e&&e(n),t(n)}))}else e&&e(n),t(n)}))}))}},2081:e=>{"use strict";e.exports=require("child_process")},2298:e=>{"use strict";e.exports=require("electron")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},6224:e=>{"use strict";e.exports=require("tty")},3837:e=>{"use strict";e.exports=require("util")},3435:e=>{"use strict";e.exports={i8:"5.11.14"}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.ab=__dirname+"/native_modules/";var r={};(()=>{"use strict";n.r(r);var e=n(8949),t=n.n(e),s=n(9922),i=n.n(s),a=n(1842),o=n.n(a),l=n(2298),c=l.BrowserWindow,u=l.ipcMain,p="home-close",d="home-minimize",f="home-maximize",m="project-close",g="project-minimize",h="project-maximize",y=function(){function e(){i()(this,e),t()(this,"project",null),t()(this,"currentListeners",{close:void 0,minimize:void 0,maximize:void 0}),this.getData=this.getDataCall.bind(this),this.onSwitch=this.onSwitchCall.bind(this),this.prepareHomeWindow(),this.initEvents(this.mainWindow,f,d,p),u.on("switch-window",this.onSwitch),u.on("load-page",this.getData)}return o()(e,[{key:"initEvents",value:function(e,t,n,r){this.currentListeners.minimize=u.on(n,(function(){return e.minimize()})),this.currentListeners.maximize=u.on(t,(function(){e.isMaximized()?e.setSize(800,650):e.maximize()})),this.currentListeners.close=u.on(r,(function(){return e.close()}))}},{key:"removeEvents",value:function(){var e,t,n,r,s,i;this.project?(null===(e=this.currentListeners.minimize)||void 0===e||e.removeAllListeners(h),null===(t=this.currentListeners.maximize)||void 0===t||t.removeAllListeners(g),null===(n=this.currentListeners.close)||void 0===n||n.removeAllListeners(m)):(null===(r=this.currentListeners.minimize)||void 0===r||r.removeAllListeners(f),null===(s=this.currentListeners.maximize)||void 0===s||s.removeAllListeners(d),null===(i=this.currentListeners.close)||void 0===i||i.removeAllListeners(p))}},{key:"getDataCall",value:function(e){e.sender.send("page-load-props",this.project)}},{key:"prepareProjectWindow",value:function(e){this.removeEvents(),this.mainWindow.close();var t=new c({show:!1,frame:!1,webPreferences:{webSecurity:!1,enableRemoteModule:!0,nodeIntegration:!0,contextIsolation:!1,nativeWindowOpen:!0,nodeIntegrationInWorker:!0},autoHideMenuBar:!0});return this.mainWindow=t,t.maximize(),t.show(),t.loadURL(`file://${require("path").resolve(__dirname,"..","renderer","project_window","index.html")}`),this.project={package:e,closeEvent:m,minimizeEvent:g,maximizeEvent:h},{newWindow:t,closeEvent:m,minimizeEvent:g,maximizeEvent:h}}},{key:"prepareHomeWindow",value:function(){this.mainWindow&&(this.removeEvents(),this.mainWindow.close()),this.project=null;var e=new c({width:800,height:650,frame:!1,webPreferences:{webSecurity:!1,enableRemoteModule:!0,nodeIntegration:!0,contextIsolation:!1,nativeWindowOpen:!0,nodeIntegrationInWorker:!0},autoHideMenuBar:!0});return this.mainWindow=e,e.loadURL(`file://${require("path").resolve(__dirname,"..","renderer","main_window","index.html")}`),{newWindow:e,closeEvent:p,minimizeEvent:d,maximizeEvent:f}}},{key:"onSwitchCall",value:function(e,t){var n=this.project?this.prepareHomeWindow():this.prepareProjectWindow(t.data),r=n.newWindow,s=n.closeEvent,i=n.minimizeEvent,a=n.maximizeEvent;this.initEvents(r,a,i,s)}}]),e}(),v=n(2189),w=n.n(v),S=n(8338),x=n.n(S);const b=require("crypto");var O=n.n(b);const C=new Uint8Array(256);let _=C.length;function I(){return _>C.length-16&&(O().randomFillSync(C),_=0),C.slice(_,_+=16)}const L=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,P=[];for(let e=0;e<256;++e)P.push((e+256).toString(16).substr(1));const E=function(e,t=0){const n=(P[e[t+0]]+P[e[t+1]]+P[e[t+2]]+P[e[t+3]]+"-"+P[e[t+4]]+P[e[t+5]]+"-"+P[e[t+6]]+P[e[t+7]]+"-"+P[e[t+8]]+P[e[t+9]]+"-"+P[e[t+10]]+P[e[t+11]]+P[e[t+12]]+P[e[t+13]]+P[e[t+14]]+P[e[t+15]]).toLowerCase();if(!function(e){return"string"==typeof e&&L.test(e)}(n))throw TypeError("Stringified UUID is invalid");return n},V=function(e,t,n){const r=(e=e||{}).random||(e.rng||I)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(let e=0;e<16;++e)t[n+e]=r[e];return t}return E(r)};var T=n(4952),k=n.n(T),D=n(744),A=n.n(D),N=n(7147),M=n(1017),W=n(8810),F=function(){function e(t,n){i()(this,e),this.data=t,this.basePath=n}return o()(e,[{key:"initialize",value:function(){var e=this;return this.data.uri.includes("base64")?new Promise((function(t){e.data=e._getBufferData(e.data.uri),t()})):new Promise((function(t){N.readFile(M.resolve(e.basePath+"\\"+e.data.uri),"base64",(function(n,r){e.data=e._getBufferData(r),t()}))}))}},{key:"_getBufferData",value:function(e){var t=W(e.replace("data:application/octet-stream;base64,","")),n=new DataView(new ArrayBuffer(t.length));return Array.from(t).forEach((function(e,t){n.setUint8(t,e.charCodeAt(0))})),n}}]),e}();function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?B(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):B(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var U=function(){function e(n,r,s){i()(this,e),t()(this,"_data",void 0);var a,o,l=0;switch(n.type){case"SCALAR":l=1;break;case"VEC2":l=2;break;case"VEC3":l=3;break;case"VEC4":l=4}switch(n.componentType){case 5120:a=Int8Array,o="getInt8";break;case 5121:a=Uint8Array,o="getUint8";break;case 5122:a=Int16Array,o="getInt16";break;case 5123:a=Uint16Array,o="getUint16";break;case 5125:a=Uint32Array,o="getUint32";break;default:a=Float32Array,o="getFloat32"}a=a.BYTES_PER_ELEMENT;var c=l*n.count,u=this._unpackBufferViewData(r,s,c,a,o,n.bufferView);this._data=R(R({},n),{},{data:u})}return o()(e,[{key:"data",get:function(){return this._data.data}},{key:"_unpackBufferViewData",value:function(e,t,n,r,s,i){var a=t[i].buffer,o=t[i].byteOffset;o||(o=0);var l=e[a].data;return Array.from({length:n}).map((function(e,t){var n=o+Math.max(0,r*t);return l[s](n,!0)}))}}]),e}(),G="undefined"!=typeof Float32Array?Float32Array:Array;function j(){var e=new G(3);return G!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function z(e,t,n){var r=new G(3);return r[0]=e,r[1]=t,r[2]=n,r}function H(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function X(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function q(e,t){var n=t[0],r=t[1],s=t[2],i=n*n+r*r+s*s;return i>0&&(i=1/Math.sqrt(i)),e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e}function K(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var e=0,t=arguments.length;t--;)e+=arguments[t]*arguments[t];return Math.sqrt(e)});var Y=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e};function $(e,t){for(var n=[],r=0;r<t.length;r+=e)n.push(t.slice(r,r+e));return n}j();var J=function(){function e(){i()(this,e)}return o()(e,null,[{key:"computeNormals",value:function(e,t){for(var n=$(3,e),r=$(3,t),s=r.length,i=new Array(s),a=0;a<s;++a)i[a]=[0,0,0];for(var o=0;o<n.length;++o)for(var l=n[o],c=0,u=l[l.length-1],p=l[0],d=0;d<l.length;++d){c=u,u=p,p=l[(d+1)%l.length];var f=r[c],m=r[u],g=r[p],h=new Array(3),y=0,v=new Array(3),w=0;if(f&&m&&g&&(Y(h,f,m),Y(v,g,m),(y=K(h,h))*(w=K(v,v))>1e-6))for(var S=i[u],x=1/Math.sqrt(y*w),b=0;b<3;++b){var O=(b+1)%3,C=(b+2)%3;S[b]+=x*(v[O]*h[C]-v[C]*h[O])}}return i.flat()}},{key:"computeTangents",value:function(e,t,n,r){for(var s=$(3,r),i=$(3,t),a=$(2,n),o=[],l=[],c=$(3,e),u=0;u<i.length;++u)o[u]=[0,0,0];for(var p=0;p<c.length;p++){var d=c[p][0],f=c[p][1],m=c[p][2],g=i[d],h=i[f],y=i[m],v=a[d],w=a[f],S=a[m],x=[],b=[];if(h&&g&&y){Y(x,h,g),Y(b,y,g);var O=w[0]-v[0],C=S[0]-v[0],_=w[1]-v[1],I=S[1]-v[1],L=O*I-C*_,P=0===L?1:1/L,E=[],V=[],T=[];X(V,x,I),X(T,b,_),Y(E,V,T),X(E,E,P),H(o[d],o[d],E),H(o[f],o[f],E),H(o[m],o[m],E)}}for(var k=0;k<i.length;k++){var D=o[k],A=s[k],N=[0,0,0],M=[0,0,0];X(M,A,K(A,D)),Y(N,D,M),q(N,N),l[k]=[N[0],N[1],N[2]]}return l.flat()}}]),e}();function Q(){var e=new G(16);return G!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Z(){var e=new G(4);return G!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}!function(){var e;e=new G(4),G!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0)}();var ee;function te(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ne(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?te(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):te(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function re(e,t,n){var r,s=[],i=e.children&&e.children.length>0?t.map((function(n,r){return e.children.includes(r)?ne(ne({},t[r]),{},{index:r}):void 0})).filter((function(e){return void 0!==e})):[],a={name:e.name,meshIndex:e.mesh,scaling:[1,1,1],rotation:[0,0,0],translation:[0,0,0],children:[],baseTransformationMatrix:Array.from(Q())};if(e.matrix)a=ne(ne({},a),{},{translation:[0,0,0],rotationQuat:[0,0,0,1],scaling:[1,1,1],baseTransformationMatrix:Array.from(e.matrix)}),r=e.matrix;else{var o=e.translation,l=e.rotation,c=e.scale;o||(o=[0,0,0]),c||(c=[1,1,1]),a.rotationQuat=l?function(e,t){var n=t[0],r=t[1],s=t[2],i=t[3],a=n*n+r*r+s*s+i*i;return a>0&&(a=1/Math.sqrt(a)),e[0]=n*a,e[1]=r*a,e[2]=s*a,e[3]=i*a,e}([],l):[0,0,0,1],a.scaling=c,a.translation=o,r=function(e,t,n,r){var s=t[0],i=t[1],a=t[2],o=t[3],l=s+s,c=i+i,u=a+a,p=s*l,d=s*c,f=s*u,m=i*c,g=i*u,h=a*u,y=o*l,v=o*c,w=o*u,S=r[0],x=r[1],b=r[2];return e[0]=(1-(m+h))*S,e[1]=(d+w)*S,e[2]=(f-v)*S,e[3]=0,e[4]=(d-w)*x,e[5]=(1-(p+h))*x,e[6]=(g+y)*x,e[7]=0,e[8]=(f+v)*b,e[9]=(g-y)*b,e[10]=(1-(p+m))*b,e[11]=0,e[12]=n[0],e[13]=n[1],e[14]=n[2],e[15]=1,e}([],a.rotationQuat,a.translation,a.scaling)}return n&&(function(e,t,n){var r=t[0],s=t[1],i=t[2],a=t[3],o=t[4],l=t[5],c=t[6],u=t[7],p=t[8],d=t[9],f=t[10],m=t[11],g=t[12],h=t[13],y=t[14],v=t[15],w=n[0],S=n[1],x=n[2],b=n[3];e[0]=w*r+S*o+x*p+b*g,e[1]=w*s+S*l+x*d+b*h,e[2]=w*i+S*c+x*f+b*y,e[3]=w*a+S*u+x*m+b*v,w=n[4],S=n[5],x=n[6],b=n[7],e[4]=w*r+S*o+x*p+b*g,e[5]=w*s+S*l+x*d+b*h,e[6]=w*i+S*c+x*f+b*y,e[7]=w*a+S*u+x*m+b*v,w=n[8],S=n[9],x=n[10],b=n[11],e[8]=w*r+S*o+x*p+b*g,e[9]=w*s+S*l+x*d+b*h,e[10]=w*i+S*c+x*f+b*y,e[11]=w*a+S*u+x*m+b*v,w=n[12],S=n[13],x=n[14],b=n[15],e[12]=w*r+S*o+x*p+b*g,e[13]=w*s+S*l+x*d+b*h,e[14]=w*i+S*c+x*f+b*y,e[15]=w*a+S*u+x*m+b*v}(r,n,r),a=ne(ne({},a),{},{translation:[0,0,0],rotationQuat:[0,0,0,1],scaling:[1,1,1],baseTransformationMatrix:Array.from(r)})),i=i.map((function(e){return re(e,t,r)})).flat(),s.push.apply(s,A()(i)),void 0!==e.mesh&&s.push(a),s}function se(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.primitives;return n.forEach((function(e){e.attributes=Object.keys(e.attributes).map((function(t){return{name:t,index:e.attributes[t]}})),void 0!==e.material&&(e.material=t[e.material])})),n.map((function(e){var t=e.attributes.find((function(e){return"POSITION"===e.name})),n=e.attributes.find((function(e){return"NORMAL"===e.name})),r=e.attributes.find((function(e){return"TANGENT"===e.name})),s=e.attributes.find((function(e){return"TEXCOORD_0"===e.name}));return{indices:e.indices,vertices:t?t.index:-1,tangents:r?r.index:-1,normals:n?n.index:-1,uvs:s?s.index:-1,material:e.material}}))}function ie(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ie(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}j(),z(1,0,0),z(0,1,0),Z(),Z(),ee=new G(9),G!=Float32Array&&(ee[1]=0,ee[2]=0,ee[3]=0,ee[5]=0,ee[6]=0,ee[7]=0),ee[0]=1,ee[4]=1,ee[8]=1;var oe=n(7147),le=n(1017);function ce(e,t,n,r){return ue.apply(this,arguments)}function ue(){return ue=w()(x().mark((function e(t,n,r,s){var i,a,o,l,c,u,p,d,f,m,g,h;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.pbrMetallicRoughness,a=ae(ae({},i),{},{data:n}),o=a.baseColorFactor,l=a.baseColorTexture,c=a.metallicFactor,u=a.roughnessFactor,p=a.metallicRoughnessTexture,d=a.normalTexture,a.emissiveFactor,f=a.occlusionTexture,a.emissiveTexture,m=[],i&&(l?m.push(pe("albedo",t,l,r,s)):o&&m.push(new Promise(function(){var e=w()(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({key:"albedo",data:o}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),p?(m.push(pe("metallic",t,p,r,s,[0,0,1,1])),m.push(pe("roughness",t,p,r,s,[0,1,0,1]))):(h=u,(g=c)&&m.push(new Promise(function(){var e=w()(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({key:"metallic",data:g}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),h&&m.push(new Promise(function(){var e=w()(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t({key:"roughness",data:g}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))),d&&m.push(pe("normal",t,d,r,s)),f&&m.push(pe("ao",t,f,r,s,(null==p?void 0:p.index)===(null==f?void 0:f.index)?[1,0,0,1]:void 0)),e.abrupt("return",[]);case 7:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function pe(e,t,n,r,s){return de.apply(this,arguments)}function de(){return(de=w()(x().mark((function e(t,n,r,s,i){var a,o,l,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=r.index,o=void 0!==a?s[a]:void 0,void 0===(l=void 0!==o?i[o.source]:void 0)){e.next=18;break}if("string"!=typeof l.uri||!l.uri.includes("data:image")){e.next=8;break}c=l.uri,e.next=11;break;case 8:return e.next=10,new Promise((function(e){return oe.readFile(le.resolve(n+"\\"+l.uri),{encoding:"base64"},(function(t,n){return e(n)}))}));case 10:c=e.sent;case 11:if(!c){e.next=15;break}return e.abrupt("return",{key:t,data:"data:image/".concat(l.uri.split(".").pop(),";base64, ")+c});case 15:return e.abrupt("return",{key:t});case 16:e.next=19;break;case 18:return e.abrupt("return",{key:t});case 19:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function me(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?fe(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var ge=n(7147),he=n(1017);function ye(e,t,n,r,s,i,a){return ve.apply(this,arguments)}function ve(){return ve=w()(x().mark((function e(t,n,r,s,i,a,o){var l,c,u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{ge.mkdirSync(he.resolve(t))}catch(e){}return e.next=3,we(n,a.replace(o,""),r);case 3:return l=e.sent,c=l.nodes,l.materials,u=[],c&&u.push.apply(u,A()(c.map((function(e){return[new Promise((function(n){ge.writeFile(he.resolve(t+"\\".concat(e.name,".mesh")),JSON.stringify(e.data),(function(){n()}))})),s(t.replace(i+"\\assets\\","")+"\\".concat(e.name,".mesh"))]})))),e.next=10,Promise.all(u);case 10:case"end":return e.stop()}}),e)}))),ve.apply(this,arguments)}function we(e,t,n){return Se.apply(this,arguments)}function Se(){return(Se=w()(x().mark((function e(t,n,r){var s,i,a,o,l,c,u,p;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,s=JSON.parse(t),i=s.buffers.map((function(e){return new F(e,n)})),e.next=5,Promise.all(i.map((function(e){return e.initialize()})));case 5:return s.buffers=null,a=s.accessors.map((function(e){return new U(e,i,s.bufferViews)})),o=s.scenes[0],l=s.nodes.map((function(e,t){return o.nodes.includes(t)?me(me({},s.nodes[t]),{},{index:t}):void 0})).filter((function(e){return void 0!==e})).map((function(e){return re(e,s.nodes)})).flat(),s={materials:s.materials,meshes:s.meshes,textures:s.textures,images:s.images},e.next=12,Promise.all(s.materials?s.materials.map((function(e){return ce(n,e,s.textures,s.images)})):[]);case 12:return c=e.sent,u=s.meshes.filter((function(e,t){return void 0!==l.find((function(e){return e.meshIndex===t}))})).map((function(e){return se(e,s.materials)[0]})),p=[],l.forEach((function(e){var t,n,s,i,o,l,c,d,f=xe(a[null===(t=u[e.meshIndex])||void 0===t?void 0:t.vertices].data),m=k()(f,2),g=m[0],h=m[1],y=u[e.meshIndex],v=r.keepNormals&&-1!==y.normals&&void 0!==y.normals?a[y.normals].data:J.computeNormals(null===(n=a[y.indices])||void 0===n?void 0:n.data,null===(s=a[y.vertices])||void 0===s?void 0:s.data),w=r.keepTangents&&-1!==y.tangents&&void 0!==y.tangents?a[y.tangents].data:J.computeTangents(null===(i=a[y.indices])||void 0===i?void 0:i.data,null===(o=a[y.vertices])||void 0===o?void 0:o.data,null===(l=a[y.uvs])||void 0===l?void 0:l.data,v);p.push({name:e.name,data:me(me({},e),{},{indices:null===(c=a[y.indices])||void 0===c?void 0:c.data,vertices:null===(d=a[y.vertices])||void 0===d?void 0:d.data,tangents:w,normals:v,uvs:a[y.uvs].data,maxBoundingBox:h,minBoundingBox:g})})})),e.abrupt("return",{nodes:p,materials:c});case 19:return e.prev=19,e.t0=e.catch(0),e.abrupt("return",{});case 22:case"end":return e.stop()}}),e,null,[[0,19]])})))).apply(this,arguments)}function xe(e){if(e&&e.length>0){for(var t=$(3,e),n=[],r=[],s=0;s<t.length;s++){var i=t[s];(!n[0]||i[0]<n[0])&&(n[0]=i[0]),(!n[1]||i[1]<n[1])&&(n[1]=i[1]),(!n[2]||i[2]<n[2])&&(n[2]=i[2]),(!r[0]||i[0]>r[0])&&(r[0]=i[0]),(!r[1]||i[1]>r[1])&&(r[1]=i[1]),(!r[2]||i[2]>r[2])&&(r[2]=i[2])}return[n,r]}return[0,0]}function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Oe(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?be(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):be(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var Ce=n(2298),_e=(Ce.BrowserWindow,Ce.dialog),Ie=Ce.ipcMain,Le=n(7147),Pe=n(1017),Ee=n(4455);function Ve(e,t){return Te.apply(this,arguments)}function Te(){return(Te=w()(x().mark((function e(t,n){var r,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pathName,s=n.type,e.next=3,new Promise((function(e){Le.readFile(Pe.resolve(r),(function(t,n){try{var r="buffer"===s?n:n?n.toString():void 0;e("json"===s&&r?JSON.parse(r):r)}catch(t){e()}}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e,t){return De.apply(this,arguments)}function De(){return(De=w()(x().mark((function e(t,n){var r,s,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=V(),s=Pe.resolve(n+"\\assets\\"),i=Pe.resolve(n+"\\assets\\"+t).replace(s,""),e.abrupt("return",new Promise((function(e){Le.writeFile(Pe.resolve(n+"\\assetsRegistry\\"+r+".reg"),JSON.stringify({id:r,path:"\\"===i.charAt(0)?i.substring(1,i.length):i}),(function(){e()}))})));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ae=o()((function e(){i()(this,e),Ie.on("open-file-dialog",(function(e,t){var n=t.listenID;_e.showOpenDialog({properties:["openFile","multiSelections"],filters:[{name:"Assets",extensions:["jpg","png","jpeg","gltf","hdri"]}]}).then((function(t){t.canceled?e.sender.send("dialog-response-"+n,[]):e.sender.send("dialog-response-"+n,t.filePaths)})).catch((function(e){return console.log(e)}))})),Ie.on("get-current-load",function(){var e=w()(x().mark((function e(t){var n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ee.currentLoad();case 2:n=e.sent,t.sender.send("current-load",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Ie.on("read-file",function(){var e=w()(x().mark((function e(t,n){var r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ve(t,n);case 2:r=e.sent,t.sender.send("read-file-"+n.listenID,r);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ie.on("read-registry",function(){var e=w()(x().mark((function e(t,n){var r,s,i;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.pathName,s=n.listenID,e.next=3,new Promise((function(e){Le.readdir(r,(function(t,n){if(t)e([]);else{var s=n.map((function(e){return new Promise((function(t){var n=r+e;Le.readFile(n,(function(e,r){if(e)t();else try{t(Oe(Oe({},JSON.parse(r.toString())),{},{registryPath:n}))}catch(e){t()}}))}))}));Promise.all(s).then((function(t){e(t.filter((function(e){return void 0!==e})))}))}}))}));case 3:i=e.sent,t.sender.send("read-registry-"+s,i);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),Ie.on("import-gltf",function(){var e=w()(x().mark((function e(t,n){var r,s,i,a,o,l;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.filePath,s=n.newRoot,i=n.options,a=n.projectPath,o=n.fileName,l=n.listenID,Le.readFile(Pe.resolve(r),function(){var e=w()(x().mark((function e(n,c){var u;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=7;break}return u=c.toString(),e.next=4,ye(s,u,i,(function(e){return ke(e,a)}),a,r,o);case 4:t.sender.send("import-gltf-"+l,void 0),e.next=8;break;case 7:t.sender.send("import-gltf-"+l,void 0);case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}())}));function Ne(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Me(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Ne(Object(r),!0).forEach((function(n){t()(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var We=n(2298),Fe=We.app,Be=We.BrowserWindow;We.ipcMain,We.ipcRenderer,n(9969)&&Fe.quit();var Re=function(){n(2298).session.defaultSession.webRequest.onHeadersReceived((function(e,t){t({responseHeaders:Me(Me({},e.responseHeaders),{},{"Content-Security-Policy":["default-src * 'self' data: blob: file: 'unsafe-inline' 'unsafe-eval'; script-src * 'self' data: blob: file: 'unsafe-inline' 'unsafe-eval'; connect-src * 'self' data: blob: file: 'unsafe-inline' 'unsafe-eval'; img-src * 'self' data: blob: file: data: blob: 'unsafe-inline'; frame-src * 'self' data: blob: file:; style-src * 'self' data: blob: file: 'unsafe-inline';"]})})})),new y,new Ae};Fe.on("ready",Re),Fe.on("window-all-closed",(function(){"darwin"!==process.platform&&Fe.quit()})),Fe.on("activate",(function(){0===Be.getAllWindows().length&&Re()}))})(),module.exports=r})();
//# sourceMappingURL=index.js.map